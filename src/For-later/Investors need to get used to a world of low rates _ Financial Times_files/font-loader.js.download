!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=129)}({129:function(e,t,n){"use strict";var o=n(130),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(15);new i.default(document.documentElement).loadFonts().then(function(){return a("fontsLoaded")})},130:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(131),i=function(e){return e&&e.__esModule?e:{default:e}}(o),a=function e(){i.default.init(),document.removeEventListener("o.DOMContentLoaded",e)};document.addEventListener("o.DOMContentLoaded",a),t.default=i.default,e.exports=t.default},131:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(132),r=function(){function e(t,n){o(this,e),this.typographyEl=t,this.opts=n||e.getOptions(t),void 0===this.opts.loadOnInit&&(this.opts.loadOnInit=!0),void 0===this.opts.rejectOnFontLoadFailure&&(this.opts.rejectOnFontLoadFailure=!1),this.opts=e.checkOptions(this.opts),this.hasRun=!1,this.fontConfigs=[{family:"FinancierDisplayWeb",weight:"normal",label:"display"},{family:"MetricWeb",weight:"normal",label:"sans"},{family:"MetricWeb",weight:600,label:"sansBold"},{family:"FinancierDisplayWeb",weight:700,label:"displayBold"}],this.opts.loadOnInit&&this.loadFonts()}return i(e,[{key:"checkFontsLoaded",value:function(){return new RegExp("(^|s)"+this.opts.fontLoadedCookieName+"=1(;|$)").test(document.cookie)}},{key:"setCookie",value:function(){var e=/.ft.com$/.test(location.hostname)?".ft.com":location.hostname;document.cookie=this.opts.fontLoadedCookieName+"=1;domain="+e+";path=/;max-age=604800"}},{key:"removeLoadingClasses",value:function(){var e=this;this.fontConfigs.forEach(function(t){e.typographyEl.classList.remove(""+e.opts.fontLoadingPrefix+t.label)})}},{key:"loadFonts",value:function(){var e=this;if(this.hasRun)return Promise.resolve();if(this.checkFontsLoaded())return this.removeLoadingClasses(),this.setCookie(),this.hasRun=!0,Promise.resolve();var t=this.fontConfigs.map(function(t){return new a(t.family,{weight:t.weight}).load().then(function(){e.typographyEl.classList.remove(""+e.opts.fontLoadingPrefix+t.label)})});return Promise.all(t).then(function(){e.setCookie(),e.hasRun=!0}).catch(function(t){if(e.opts.rejectOnFontLoadFailure)throw t})}}],[{key:"getOptions",value:function(e){var t=Object(e.dataset);return Object.keys(t).reduce(function(e,n){if("oComponent"===n)return e;var o=n.replace(/^oTypography(\w)(\w+)$/,function(e,t,n){return t.toLowerCase()+n});try{e[o]=JSON.parse(t[n].replace(/\'/g,'"'))}catch(i){e[o]=t[n]}return e},{})}},{key:"checkOptions",value:function(e){return e.fontLoadingPrefix||(e.fontLoadingPrefix="o-typography--loading-"),e.fontLoadedCookieName||(e.fontLoadedCookieName=e.fontLoadedStorageName||"o-typography-fonts-loaded"),e}},{key:"init",value:function(t,n){if(t||(t=document.documentElement),t instanceof HTMLElement||(t=document.querySelector(t)),t instanceof HTMLElement&&t.matches("[data-o-component=o-typography]"))return new e(t,n)}}]),e}();t.default=r,e.exports=t.default},132:function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(){function n(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function o(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}function i(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function a(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function r(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function s(e,t){function o(){var e=i;r(e)&&e.a.parentNode&&t(e.g)}var i=e;n(e.b,o),n(e.c,o),r(e)}function c(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function l(){if(null===p)if(u()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);p=!!e&&603>parseInt(e[1],10)}else p=!1;return p}function u(){return null===y&&(y=!!document.fonts),y}function d(){if(null===m){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}m=""!==e.style.font}return m}function f(e,t){return[e.style,e.weight,d()?e.stretch:"","100px",t].join(" ")}var h=null,p=null,m=null,y=null;c.prototype.load=function(e,t){var n=this,r=e||"BESbswy",c=0,d=t||3e3,p=(new Date).getTime();return new Promise(function(e,t){if(u()&&!l()){var m=new Promise(function(e,t){function o(){(new Date).getTime()-p>=d?t():document.fonts.load(f(n,'"'+n.family+'"'),r).then(function(t){1<=t.length?e():setTimeout(o,25)},function(){t()})}o()}),y=new Promise(function(e,t){c=setTimeout(t,d)});Promise.race([y,m]).then(function(){clearTimeout(c),e(n)},function(){t(n)})}else o(function(){function o(){var t;(t=-1!=v&&-1!=w||-1!=v&&-1!=b||-1!=w&&-1!=b)&&((t=v!=w&&v!=b&&w!=b)||(null===h&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),h=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=h&&(v==g&&w==g&&b==g||v==x&&w==x&&b==x||v==L&&w==L&&b==L)),t=!t),t&&(k.parentNode&&k.parentNode.removeChild(k),clearTimeout(c),e(n))}function l(){if((new Date).getTime()-p>=d)k.parentNode&&k.parentNode.removeChild(k),t(n);else{var e=document.hidden;!0!==e&&void 0!==e||(v=u.a.offsetWidth,w=m.a.offsetWidth,b=y.a.offsetWidth,o()),c=setTimeout(l,50)}}var u=new i(r),m=new i(r),y=new i(r),v=-1,w=-1,b=-1,g=-1,x=-1,L=-1,k=document.createElement("div");k.dir="ltr",a(u,f(n,"sans-serif")),a(m,f(n,"serif")),a(y,f(n,"monospace")),k.appendChild(u.a),k.appendChild(m.a),k.appendChild(y.a),document.body.appendChild(k),g=u.a.offsetWidth,x=m.a.offsetWidth,L=y.a.offsetWidth,l(),s(u,function(e){v=e,o()}),a(u,f(n,'"'+n.family+'",sans-serif')),s(m,function(e){w=e,o()}),a(m,f(n,'"'+n.family+'",serif')),s(y,function(e){b=e,o()}),a(y,f(n,'"'+n.family+'",monospace'))})})},"object"===t(e)?e.exports=c:(window.FontFaceObserver=c,window.FontFaceObserver.prototype.load=c.prototype.load)}()}).call(t,n(21)(e))},15:function(e,t,n){"use strict";e.exports=function(e){var t=window.LUX||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;t&&t.mark&&t.mark(e)}},21:function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}});
//# sourceMappingURL=font-loader.js.map