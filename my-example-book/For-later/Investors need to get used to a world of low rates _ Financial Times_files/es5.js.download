!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=39)}([function(t,e,n){"use strict";var r=n(10),o=r.debounce,i=r.throttle,a=n(52),s=function(){var t=a.get("spoor-id").replace(/-/g,"");return t=t.substring(t.length-12,t.length),parseInt(t,16)};t.exports={$:function(t,e){return(e||document).querySelector(t)},$$:function(t,e){return[].slice.call((e||document).querySelectorAll(t))},debounce:o,throttle:i,uuid:function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)},ascii:n(53),broadcast:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Element.prototype.isPrototypeOf(this)?this:document.body,o=void 0;try{o=new CustomEvent(t,{bubbles:n,cancelable:!0,detail:e})}catch(n){o=CustomEvent.initCustomEvent(t,!0,!0,e)}r.dispatchEvent(o)},perfMark:n(15),sampleUsers:function(t,e){if(!e)throw new Error("sampleUsers needs a seed string to be passed in as the second parameter");var n=e.split("").reduce(function(t,e,n){return t+Math.pow(2,n)*e.charCodeAt(0)},0);return(s()+n)%100<t},cookieStore:a,createToggler:function(t){var e=t.flag,n=void 0===e||e,r=t.callback;return function(){return"function"==typeof r&&r({flag:n}),n=!n}}}},function(t,e,n){"use strict";function r(){if(m.get("developer")&&window.console)for(var t=0;t<arguments.length;t++)window.console.log(arguments[t])}function o(t,e){return e||(e="undefined"),(void 0===t?"undefined":g(t))===e}function i(t,e){e||(e=t,t={});var n=void 0,r=void 0,a=void 0;for(n in e)r=t[n],a=e[n],t!==a&&void 0!==a&&null!==a&&(t[n]=r!==Object(r)||o(r,"function")?a:i(r,a));return t}function a(t){return window.encodeURIComponent?window.encodeURIComponent(t):window.escape(t)}function s(t){return window.decodeURIComponent?window.decodeURIComponent(t):window.unescape(t)}function c(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function u(t,e,n){n=n||{};try{window.dispatchEvent(new CustomEvent(t+"."+e,{detail:n,bubbles:!0}))}catch(t){}}function l(t){o(t,"function")&&y.push(t)}function d(){for(var t=0;t<y.length;t++)y[t]()}function f(t){return document.cookie.match(t)&&""!==RegExp.$1&&"null"!==RegExp.$1?RegExp.$1:null}function p(t){return document.location.href.match(t)&&""!==RegExp.$1?RegExp.$1:null}function h(t){if("string"!=typeof t)return null;var e=void 0,n=t.split("."),r=window;for(e=0;e<n.length;e+=1){if(void 0===r[n[e]])return null;r=r[n[e]]}return""!==r?r:null}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m=n(7),v=n(70),y=[];t.exports={log:r,is:o,isUndefined:o,merge:i,encode:a,decode:s,guid:v,addEvent:c,broadcast:u,onPage:l,triggerPage:d,getValueFromCookie:f,getValueFromUrl:p,getValueFromJsVariable:h}},function(t,e,n){"use strict";function r(t){var e=Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1];return null===t?"Null":void 0===t?"Undefined":e}function o(t){return function(e){return r(e)===t}}function i(){var t=void 0,e=void 0,n=void 0,r=void 0,o=void 0,s=arguments[0]||{},u=arguments.length,l=!1,d=1;if("boolean"==typeof s&&(l=s,s=arguments[1]||{},d=2),"object"===(void 0===s?"undefined":a(s))||c.isFunction(s)||(s={}),u===d)return s;for(;d<u;d++)if(null!==(t=arguments[d]))for(var f in t)if(t.hasOwnProperty(f)){if(e=s[f],n=t[f],s===n)continue;l&&n&&(c.isPlainObject(n)||c.isArray(n))?(r=c.isArray(n),r?(r=!1,o=e&&c.isArray(e)?e:[]):o=e&&c.isObject(e)?e:{},s[f]=i(l,o,n)):void 0!==n&&(s[f]=n)}return s}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=Object.prototype.hasOwnProperty,c=t.exports;t.exports.isWindow=function(t){return t&&null!==t&&t===window},t.exports.isPlainObject=function(t){var e=Object.prototype.hasOwnProperty;if(!t||!c.isObject(t)||t.nodeType||c.isWindow(t))return!1;try{if(t.constructor&&!e.call(t,"constructor")&&!e.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}var n=void 0;for(n in t);return void 0===n||e.call(t,n)},t.exports.isNonEmptyString=function(t){return c.isString(t)&&!!t.length},t.exports.isElement=function(t){return t&&1===t.nodeType&&t.tagName||!1},t.exports.extend=i,t.exports.hash=function(t,e,n){var r=void 0,o=void 0,i={};if(t&&t.split){t=t.split(e);for(var a=0,s=t.length;a<s;a+=1)o=t[a],r=o.split(n),r.length>1&&(i[r[0].trim()]=r.slice(1).join(n))}return i},t.exports.attach=function(t,e,n,r,o){function i(t){l||(t.call(),l=!0,o&&a.parentElement.removeChild(a))}var a=document.createElement("script"),u=document.getElementsByTagName("script")[0],l=!1;return a.setAttribute("src",t),a.setAttribute("o-ads",""),e&&(a.async="true"),c.isFunction(n)&&(s.call(a,"onreadystatechange")?a.onreadystatechange=function(){"loaded"===a.readyState&&i(n)}:a.onload=function(){i(n)}),c.isFunction(r)&&(a.onerror=function(){i(r)}),u.parentNode.insertBefore(a,u),a},t.exports.getReferrer=function(){return document.referrer||""},t.exports.dehyphenise=function(t){return t.replace(/(-)([a-z])/g,function(t,e,n){return n.toUpperCase()})},t.exports.parseAttributeName=function(t){var e=c.isString(t)?t:t.name;return c.dehyphenise(e.replace(/(data-)?o-ads-/,""))},t.exports.getLocation=function(){return document.location.href||""},t.exports.getQueryString=function(){return document.location.search.substring(1)||""},t.exports.getQueryParamByName=function(t,e){e=e||window.location.href,t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)"),r=n.exec(e);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},t.exports.getTimestamp=function(){var t=new Date;return[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2),("0"+t.getHours()).slice(-2),("0"+t.getMinutes()).slice(-2),("0"+t.getSeconds()).slice(-2)].join("")};var u=document.getElementsByTagName("iframe");t.exports.iframeToSlotName=function(t){for(var e=void 0,n=void 0,r=u.length;r--;)if(u[r].contentWindow===t){n=u[r];break}if(n)for(;n.parentNode;){if(e=n.getAttribute("data-o-ads-name"))return e;n=n.parentNode}return!1},t.exports.buildObjectFromArray=function(t){return t.reduce(function(t,e){return t[e.key]=e.value,t},{})},t.exports.cookie=function(t){var e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():null},i(t.exports,n(40)),i(t.exports,n(41)),t.exports.responsive=n(42),t.exports.log=n(44),function(t,e){for(e=e||["Array","Object","String","Function","Storage"];e.length;){var n=e.pop();t["is"+n]=o(n)}}(t.exports)},function(t,e,n){"use strict";function r(t,e){"number"==typeof arguments[0]?(r("scroll",arguments[0]),r("resize",arguments[1]),r("orientation",arguments[2]),r("visibility",arguments[3])):e&&(h[t]=e)}function o(){if(!p.resize){var t=f(function(t){l.broadcast("resize",{viewport:l.getSize(),originalEvent:t})},h.resize);window.addEventListener("resize",t),p.resize={eventType:"resize",handler:t}}}function i(){if(!p.orientation){var t=f(function(t){l.broadcast("orientation",{viewport:l.getSize(),orientation:l.getOrientation(),originalEvent:t})},h.orientation);window.addEventListener("orientationchange",t),p.orientation={eventType:"orientationchange",handler:t}}}function a(){if(!p.visibility){var t=l.detectVisiblityAPI().eventType,e=f(function(t){l.broadcast("visibility",{hidden:l.getVisibility(),originalEvent:t})},h.visibility);window.addEventListener(t,e),p.visibility={eventType:t,handler:e}}}function s(){if(!p.scroll){var t=d(function(t){var e=l.getScrollPosition();l.broadcast("scroll",{viewport:l.getSize(),scrollHeight:e.height,scrollLeft:e.left,scrollTop:e.top,scrollWidth:e.width,originalEvent:t})},h.scroll);window.addEventListener("scroll",t),p.scroll={eventType:"scroll",handler:t}}}function c(t){"resize"!==t&&"all"!==t||o(),"scroll"!==t&&"all"!==t||s(),"orientation"!==t&&"all"!==t||i(),"visibility"!==t&&"all"!==t||a()}function u(t){"all"===t?Object.keys(p).forEach(u):p[t]&&(window.removeEventListener(p[t].eventType,p[t].handler),delete p[t])}var l=n(43),d=l.throttle,f=l.debounce,p={},h={resize:100,orientation:100,visibility:100,scroll:100};t.exports={debug:function(){l.debug()},listenTo:c,stopListeningTo:u,setThrottleInterval:r,getOrientation:l.getOrientation,getSize:l.getSize,getScrollPosition:l.getScrollPosition,getVisibility:l.getVisibility}},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var o,i=e.ATTR_ACTION="data-action",a=e.ATTR_CONTENT_ID="data-content-id",s=(e.ATTR_CONTENT_TYPE="data-content-type",e.ATTR_ID="data-id"),c=(e.ATTR_ISO_LANG="data-iso-lang",e.ATTR_SYNDICATED="data-syndicated"),u=e.ATTR_TRACKABLE="data-trackable",l=(e.ATTR_TRACKABLE_VALUE="syn-icon",e.CSS_CLASS_PREFIX="n-syndication"),d=e.CSS_CLASS_REPUBLISHING_BUTTON="download-button",f=(e.CSS_SELECTOR_ACTION_DOWNLOAD="."+l+"-action["+i+'="download"]',e.CSS_SELECTOR_ACTION_SAVE="."+l+"-action["+i+'="save"]',e.CSS_SELECTOR_CARD_LINK="a.card__concept-article-link"),p=e.CSS_SELECTOR_CONTENT_ID="["+a+"]",h=e.CSS_SELECTOR_ID="["+s+"]",g=(e.CSS_SELECTOR_NOT_SYNDICATED=":not(["+c+'="true"])',e.CSS_SELECTOR_PACKAGE_CONTENT_ITEM="a.package__content-item"),m=(e.CSS_SELECTOR_REPUBLISHING_HEADER_LINK=".o-header-services__nav-link",e.CSS_SELECTOR_REPUBLISHING_BTN=p+"["+c+'="true"].'+d,e.CSS_SELECTOR_STORY_LINK=".story__link"),v=(e.CSS_SELECTOR_SYNDATION_ICON=p+"["+c+'="true"].'+l+"-icon",e.CSS_SELECTOR_TOPIC_CARD_LINK="a.topic-card__concept-article-link"),y=(e.CSS_SELECTOR_TRACKABLE="["+u+"]",e.CSS_SELECTOR_VIDEO_DOWNLOAD_BUTTON=".video__actions__download",e.CSS_SELECTOR_SYNDICATABLE_ITEMS=[p,h,f,v,g,m].join(", "),e.DATA_ID_PROPERTY="id",e.DATA_LANG_PROPERTY="lang",e.DEFAULT_LANGUAGE="en",e.EVENT_PREFIX="nSyndication",e.EXCLUDE_ELEMENTS={BUTTON:!0,FORM:!0},e.LABEL_ARIA_OVERLAY="Download: ",e.MAX_LOCAL_FORMAT_TIME_MS=3e5,'<p>Please ensure you have considered your <a data-trackable="contractual-rights" href="/republishing/contract">contractual rights</a> before republishing.</p>'),b='<p class="syndication-message__content--warning">This content will incur additional charges to republish. Please contact us for further details (<a href="mailto:syndication@ft.com">syndication@ft.com</a> or +44 (0)207 873 4816).</p>';e.MESSAGES={EMBARGO:"<p>Please note that this content is embargoed until {{embargoPeriod}} after its original publication date of {{publishedDateDisplay}}.</p>",MSG_2000:"{{embargoMessage}}"+y,MSG_2100:"<p>This content has already been downloaded and therefore will not count towards your republishing limit.</p>\n{{embargoMessage}}\n"+y,MSG_2200:'<p>Please contact us for details of republishing rights for this content (<a href="mailto:syndication@ft.com">syndication@ft.com</a> or +44 (0)207 873 4816).</p>',MSG_2300:"{{embargoMessage}}"+b,MSG_2320:"{{embargoMessage}}"+b+"\n"+y,MSG_2340:"<p>This content has already been downloaded and therefore will not count towards your republishing limit.</p>\n{{embargoMessage}}\n"+b+"\n"+y,MSG_4000:"<p>This content is not available for republishing.</p>",MSG_4050:"<p>Sorry, this content is no longer available.</p>",MSG_4100:"<p>You have reached your download limit for {{type}}s. Please contact your Account Manager to increase your limit.</p>",MSG_4200:"<p>Your contract does not allow {{type}}s to be downloaded. Please contact your Account Manager to change this.</p>",MSG_4250:"<p>You do not have rights to republish this type of content. Please contact your Account Manager for further details.</p>",MSG_4300:"<p>Report contains multiple articles. Please view each article individually for republishing rights.</p>",MSG_5000:"<p>Sorry, an error has occurred. Please try signing out and then in again. If error persists, please contact your Account Manager.</p>",MSG_5100:"<p>The Republishing Service is currently undergoing maintenance. Please try again later.</p>"},e.RE_INTERPOLATE=/\{\{([^\}]+)\}\}/gim,e.MS_DELAY_HIDE=500,e.SYNDICATION_INSERTION_RULES=(o={},r(o,f,{fn:"closest",slc:".card__concept-article"}),r(o,v,{fn:"closest",slc:".topic-card__concept-article"}),r(o,g,{fn:"querySelector",slc:".package__title"}),r(o,m,{fn:"closest",slc:'article[data-trackable="story"]'}),r(o,"a",{fn:"closest",slc:".o-teaser__heading"}),r(o,".stream-item",{fn:"querySelector",slc:".card-openable__headline"}),r(o,'article[class="article"]',{fn:"querySelector",slc:".topper__headline"}),r(o,"article.article--brand",{fn:"querySelector",slc:".topper__headline"}),r(o,"article.article-grid",{fn:"querySelector",slc:".topper__headline",up:1}),r(o,"div.hero",{fn:"querySelector",slc:".hero__heading"}),r(o,"main.video",{fn:"querySelector",slc:".video__title"}),r(o,"li.o-teaser__related-item",{}),o),e.TRACKING={CATEGORY:"syndication",DATA:{context:{app:"Syndication"},system:{product:"Syndication",source:"o-tracking"}},URI:"https://spoor-api.ft.com/px.gif"},e.URI_PREFIX_DOWNLOAD=(location.port?"":"https://dl.syndication.ft.com")+"/syndication/download",e.URI_PREFIX_SAVE="/syndication/save"},function(t,e,n){"use strict";function r(){var t={};return Array.from(document.querySelectorAll("script[data-o-ads-config]")).forEach(function(e){t=window.JSON?a.extend(t,JSON.parse(e.innerHTML)):"UNSUPPORTED"}),t}function o(){var t=void 0,e=document.querySelector('link[rel="canonical"]');return e&&(t=e.href),{canonical:t}}function i(){this.store={}}var a=n(2),s={formats:{MediumRectangle:{sizes:[300,250]},Rectangle:{sizes:[180,50]},WideSkyscraper:{sizes:[160,600]},Leaderboard:{sizes:[728,90]},SuperLeaderboard:{sizes:[[970,90],[970,66]]},HalfPage:{sizes:[300,600]},Billboard:{sizes:[970,250]},Portrait:{sizes:[300,1050]},AdhesionBanner:{sizes:[320,50]},MicroBar:{sizes:[88,31]},Button2:{sizes:[120,60]},Responsive:{sizes:[2,2]}},responsive:{extra:[1025,0],large:[1e3,0],medium:[760,0],small:[0,0]},flags:{refresh:!0,inview:!0}};i.prototype.access=function(t,e){var n=void 0;return a.isPlainObject(t)?(a.extend(!0,this.store,t),n=this.store):void 0===e?n=void 0===t?this.store:this.store[t]:(this.store[t]=e,n=e),n},i.prototype.clear=function(t){t?delete this.store[t]:this.store={}},i.prototype.init=function(){return this.store=a.extend(!0,{},s,o(),r()),this.store};var c=new i;t.exports=c.access.bind(c),t.exports.init=c.init.bind(c),t.exports.clear=c.clear.bind(c)},function(t,e,n){"use strict";function r(t){this.listenerMap=[{},{}],t&&this.root(t),this.handle=r.prototype.handle.bind(this)}function o(t,e){return t.toLowerCase()===e.tagName.toLowerCase()}function i(t,e){return this.rootElement===window?e===document:this.rootElement===e}function a(t,e){return t===e.id}t.exports=r,r.prototype.root=function(t){var e,n=this.listenerMap;if(this.rootElement){for(e in n[1])n[1].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!0);for(e in n[0])n[0].hasOwnProperty(e)&&this.rootElement.removeEventListener(e,this.handle,!1)}if(!t||!t.addEventListener)return this.rootElement&&delete this.rootElement,this;this.rootElement=t;for(e in n[1])n[1].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!0);for(e in n[0])n[0].hasOwnProperty(e)&&this.rootElement.addEventListener(e,this.handle,!1);return this},r.prototype.captureForType=function(t){return-1!==["blur","error","focus","load","resize","scroll"].indexOf(t)},r.prototype.on=function(t,e,n,r){var c,u,l,d;if(!t)throw new TypeError("Invalid event type: "+t);if("function"==typeof e&&(r=n,n=e,e=null),void 0===r&&(r=this.captureForType(t)),"function"!=typeof n)throw new TypeError("Handler must be a type of Function");return c=this.rootElement,u=this.listenerMap[r?1:0],u[t]||(c&&c.addEventListener(t,this.handle,r),u[t]=[]),e?/^[a-z]+$/i.test(e)?(d=e,l=o):/^#[a-z0-9\-_]+$/i.test(e)?(d=e.slice(1),l=a):(d=e,l=s):(d=null,l=i.bind(this)),u[t].push({selector:e,handler:n,matcher:l,matcherParam:d}),this},r.prototype.off=function(t,e,n,r){var o,i,a,s,c;if("function"==typeof e&&(r=n,n=e,e=null),void 0===r)return this.off(t,e,n,!0),this.off(t,e,n,!1),this;if(a=this.listenerMap[r?1:0],!t){for(c in a)a.hasOwnProperty(c)&&this.off(c,e,n);return this}if(!(s=a[t])||!s.length)return this;for(o=s.length-1;o>=0;o--)i=s[o],e&&e!==i.selector||n&&n!==i.handler||s.splice(o,1);return s.length||(delete a[t],this.rootElement&&this.rootElement.removeEventListener(t,this.handle,r)),this},r.prototype.handle=function(t){var e,n,r,o,i,a,s=t.type,c=[];if(!0!==t.ftLabsDelegateIgnore){switch(a=t.target,3===a.nodeType&&(a=a.parentNode),r=this.rootElement,t.eventPhase||(t.target!==t.currentTarget?3:2)){case 1:c=this.listenerMap[1][s];break;case 2:this.listenerMap[0]&&this.listenerMap[0][s]&&(c=c.concat(this.listenerMap[0][s])),this.listenerMap[1]&&this.listenerMap[1][s]&&(c=c.concat(this.listenerMap[1][s]));break;case 3:c=this.listenerMap[0][s]}for(n=c.length;a&&n;){for(e=0;e<n&&(o=c[e]);e++)if(o.matcher.call(a,o.matcherParam,a)&&(i=this.fire(t,a,o)),!1===i)return t.ftLabsDelegateIgnore=!0,void t.preventDefault();if(a===r)break;n=c.length,a=a.parentElement}}},r.prototype.fire=function(t,e,n){return n.handler.call(e,t,e)};var s=function(t){if(t){var e=t.prototype;return e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector}}(Element);r.prototype.destroy=function(){this.off(),this.root()}},function(t,e,n){"use strict";function r(t){if(void 0===t)return t;switch(Object.prototype.toString.call(t)){case"[object Object]":return JSON.parse(JSON.stringify(t));case"[object Array]":return[].slice.call(t);default:return t}}function o(t,e){s[t]=r(e)}function i(t){return r(s[t])}function a(t){delete s[t]}var s={};t.exports={set:o,get:i,destroy:a}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;E=t,addEventListener(m.EVENT_PREFIX+".fetch",function(t){return d(t.detail.response)},!0),"[object Array]"===Object.prototype.toString.call(e)&&d(e)}function i(t){return s((0,v.getContentIDFromHTMLElement)(t),(0,v.getContentAttributeFromHTMLElement)(t,m.ATTR_ISO_LANG)||m.DEFAULT_LANGUAGE)}function a(t){return y.filter(function(e){return e[m.DATA_ID_PROPERTY]===t})}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.DEFAULT_LANGUAGE;return b[t+"__"+e]||b[t]||y.find(function(n){return l(n,t,e)})||null}function c(t){var e=void 0,n=void 0;switch(Object.prototype.toString.call(t)){case"[object Object]":e=t[m.DATA_ID_PROPERTY],n=t[m.DATA_LANG_PROPERTY]||m.DEFAULT_LANGUAGE;case"[object String]":return y.findIndex(function(t){return l(t,e,n)})}return-1}function u(){return E}function l(t,e,n){var r=e+"__"+n;return t[w]===r||t[m.DATA_ID_PROPERTY]===e&&t[m.DATA_LANG_PROPERTY]===n}function d(t){var e=[];return t.forEach(function(t){var n=t[m.DATA_ID_PROPERTY],r=t[m.DATA_LANG_PROPERTY]||m.DEFAULT_LANGUAGE,o=t[w]=n+"__"+r;if(o in b){e.push(t);var i=y.findIndex(function(t){return l(t,n,r)});i>-1&&(y[i]=t)}e.includes(t)||y.push(t),b[o]=t}),(0,g.broadcast)(m.EVENT_PREFIX+".dataChanged",{existing:e,items:y}),{DATA_STORE:y,DATA_STORE_MAP:b,EXISTING:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.refresh=e.init=e.getUserData=e.getItemIndex=e.getItemByID=e.getItemByHTMLElement=e.getAllItemsForID=e.fetchItems=e.DATA_STORE_MAP=e.DATA_STORE=void 0;var f=n(13),p=function(t){return t&&t.__esModule?t:{default:t}}(f),h=function(){var t=r(p.default.mark(function t(e){var n,r,o,i,a;return p.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==E.MAINTENANCE_MODE){t.next=4;break}return n=e.map(function(t){return{id:t,canBeSyndicated:"maintenance",messageCode:"MSG_5100"}}),(0,g.broadcast)(m.EVENT_PREFIX+".fetch",{request:e,response:n}),t.abrupt("return",Promise.resolve(n));case 4:return r={credentials:"include",headers:{"content-type":"application/json"},method:"POST",body:JSON.stringify(e)},t.prev=5,t.next=8,fetch("/syndication/resolve"+location.search,r);case 8:if(o=t.sent,o.ok){t.next=14;break}return t.next=12,o.text();case 12:throw i=t.sent,new Error('Next /syndication/resolve responded with "'+i+'" ('+o.status+")");case 14:return t.next=16,o.json();case 16:return a=t.sent,(0,g.broadcast)(m.EVENT_PREFIX+".fetch",{request:e,response:a}),t.abrupt("return",a);case 21:t.prev=21,t.t0=t.catch(5),(0,g.broadcast)("oErrors.log",{error:t.t0,info:{component:"next-syndication-redux"}});case 24:case"end":return t.stop()}},t,this,[[5,21]])}));return function(e){return t.apply(this,arguments)}}(),g=n(0),m=n(4),v=n(22),y=[],b={},w="__id__",E=void 0;e.DATA_STORE=y,e.DATA_STORE_MAP=b,e.fetchItems=h,e.getAllItemsForID=a,e.getItemByHTMLElement=i,e.getItemByID=s,e.getItemIndex=c,e.getUserData=u,e.init=o,e.refresh=d},function(t,e,n){"use strict";function r(){a()}function o(){return new Promise(function(t,e){var n=setInterval(function(){window.moatPrebidApi&&(clearInterval(n),clearTimeout(r),t({mhv:window.moatPrebidApi.pageDataAvailable()?"n":"y"}))},50),r=setTimeout(function(){clearInterval(n),e(new Error("Timeout while fetching moat invalid traffic script"))},1e3)})}function i(){var t=/FTConsent=([^;]+)/,e=document.cookie.match(t);if(!e)return{behavioral:!1,programmatic:!1};var n=decodeURIComponent(e[1]);return{behavioral:-1!==n.indexOf("behaviouraladsOnsite:on"),programmatic:-1!==n.indexOf("programmaticadsOnsite:on")}}function a(){document.addEventListener("o.DOMContentLoaded",l)}function s(){document.removeEventListener("o.DOMContentLoaded",l)}var c=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();r.prototype.config=n(5),r.prototype.slots=n(45),r.prototype.gpt=n(47),r.prototype.krux=n(48),r.prototype.api=n(49),r.prototype.targeting=n(14),r.prototype.utils=n(2);var u=n(50);r.prototype.init=function(t){var e=this;t=t||{},this.config.init(),this.config(t),t.disableConsentCookie?this.consents={behavioral:!0}:this.consents=i(),!this.consents.behavioral&&localStorage.getItem("kxkuid")&&Object.keys(localStorage).filter(function(t){return/(^kx)|(^_kx)/.test(t)}).forEach(function(t){return localStorage.removeItem(t)});var n=this.config().targetingApi,r=this.config().validateAdsTraffic;if(!n&&!r)return Promise.resolve(this.initLibrary());var a=n?this.api.init(n,this):Promise.resolve(),s=r?o():Promise.resolve();return Promise.all([s,a]).then(function(t){var n=c(t,1),r=n[0];return r&&e.targeting.add(r),e.initLibrary()}).catch(function(t){return e.initLibrary()})},r.prototype.updateContext=function(t,e){var n=this;return this.config(t),t.targetingApi?(this.api.reset(),this.api.init(t.targetingApi,this).then(function(){n.gpt.updatePageTargeting(n.targeting.get()),n.config("krux")&&n.consents.behavioral&&(n.krux.setAllAttributes(),n.krux.sendNewPixel(e))})):Promise.resolve()},r.prototype.initLibrary=function(){return this.slots.init(),this.gpt.init(),this.consents.behavioral&&this.krux.init(),this.consents.programmatic&&this.targeting.add({cc:"y"}),this.utils.on("debug",this.debug.bind(this)),this.isInitialised=!0,this.utils.broadcast("initialised",this),s(),this},r.prototype.debug=function(){var t=!0;localStorage.getItem("oAds")?t=!1:localStorage.setItem("oAds",!0),this.gpt.debug(),this.krux.debug(),this.slots.debug(),this.targeting.debug(),t&&localStorage.removeItem("oAds")},r.prototype.version=function(){console.log("o-ads version: "+u.version)};var l=function(){return d.init().then(function(){Array.from(document.querySelectorAll(".o-ads, [data-o-ads-name]")).forEach(d.slots.initSlot.bind(d.slots))})},d=new r;t.exports=d},function(t,e,n){"use strict";function r(t,e){var n=void 0;return function(){var r=this,o=arguments,i=function(){n=null,t.apply(r,o)};clearTimeout(n),n=setTimeout(i,e)}}function o(t,e){var n=void 0;return function(){var r=this;if(!n){var o=arguments,i=function(){n=null,t.apply(r,o)};n=setTimeout(i,e)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=r,e.throttle=o},function(t,e,n){"use strict";function r(t){try{this.storage=window[t]}catch(t){i=!1}this.keys={},this.store={},window.addEventListener("storage",function(t){this.keys[t.key]&&(this.keys[t.key]=!0,this.store[t.key]=JSON.parse(t.newValue))}.bind(this))}var o=function(t){return String(t).replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")},i=!0;r.prototype.get=function(t){if(1!==arguments.length)throw Error("get expects 1 argument, "+arguments.length+" given; "+t);if(!this.keys[t]&&i){var e;try{e=this.storage[t]}catch(t){i=!1}e&&(e=JSON.parse(e)),this.store[t]=e,this.keys[t]=!0}return this.store[t]},r.prototype.set=function(t,e){if(2!==arguments.length)throw Error("set expects 2 arguments, "+arguments.length+" given; "+t);if(i)try{this.storage[t]=JSON.stringify(e)}catch(t){if(22!==t.code)throw t;i=!1}return this.store[t]=e,this.keys[t]=!0,e},r.prototype.unset=function(t){delete this.store[t],delete this.keys[t],this.storage.removeItem(t)},r.prototype.clear=function(t){if(!t)return i&&this.storage.clear(),this.store={},void(this.keys={});t=o(t);var e=new RegExp("^"+t);for(var n in this.keys)n.match(e)&&this.unset(n)},t.exports.isPersisting=function(){return i},t.exports.local=new r("localStorage"),t.exports.session=new r("sessionStorage")},function(t,e,n){"use strict";function r(t,e){if(!e)throw"Namespace required";this.store=o[t],this.namespace="_ss."+e+"."}var o=n(11);r.prototype.get=function(t){return new Promise(function(e){e(this.store.get(this.namespace+t))}.bind(this))},r.prototype.set=function(t,e){return new Promise(function(n){n(this.store.set(this.namespace+t,e))}.bind(this))},r.prototype.unset=function(t){return new Promise(function(e){e(this.store.unset(this.namespace+t))}.bind(this))},r.prototype.clear=function(){return new Promise(function(t){t(this.store.clear(this.namespace))}.bind(this))},r.isPersisting=o.isPersisting,t.exports=r},function(t,e,n){"use strict";t.exports=n(117)},function(t,e,n){"use strict";function r(){}var o=n(5),i=n(2),a={};r.prototype.get=function(){var t={socialReferrer:this.getSocialReferrer,timestamp:this.timestamp,responsive:this.responsive};i.extend(a,this.getFromConfig(),this.searchTerm(),this.socialFlow());for(var e in t)t.hasOwnProperty(e)&&i.extend(a,t[e]());return a},r.prototype.add=function(t){i.isPlainObject(t)&&i.extend(a,t)},r.prototype.remove=function(t){a[t]&&delete a[t]},r.prototype.clear=function(){a={}},r.prototype.getFromConfig=function(){var t=o("dfp_targeting")||{};return i.isPlainObject(t)||i.isString(t)&&(t=i.hash(t,";","=")),t},r.prototype.socialFlow=function(){var t=i.getQueryParamByName("socialflow");if(t)return{socialflow:t}},r.prototype.getSocialReferrer=function(){var t=void 0,e=i.getReferrer(),n={"t.co":"twi","facebook.com":"fac","linkedin.com":"lin","drudgereport.com":"dru","dianomi.com":"dia",google:"goo"};return Object.keys(n).forEach(function(r){new RegExp("^http(|s)://(www.)*("+r+")").test(e)&&(t=n[r])}),t&&{socref:t}||{}},r.prototype.searchTerm=function(){var t=i.hash(i.getQueryString(),/\&|\;/,"="),e=t.q||t.s||t.query||t.queryText||t.searchField||void 0;return e&&""!==e&&(e=unescape(e).toLowerCase().replace(/[';\^\+]/g," ").replace(/\s+/g," ").trim()),{kw:e}},r.prototype.timestamp=function(){return{ts:i.getTimestamp()}},r.prototype.responsive=function(){return o("responsive")?{res:i.responsive.getCurrent()}:{}},r.prototype.debug=function(){var t=i.log,e=this.get();0!==Object.keys(e).length&&(t.start("Targeting"),t.attributeTable(this.get()),t.end())},t.exports=new r},function(t,e,n){"use strict";t.exports=function(t){var e=window.LUX||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;e&&e.mark&&e.mark(t)}},function(t,e,n){"use strict";function r(){this.version=u,this.source=l,this.api_key=d,this.initialised=!1}function o(){f.init(),document.removeEventListener("o.DOMContentLoaded",o)}var i=n(7),a=n(28),s=n(29),c=n(30),u="1.2.3",l="o-tracking",d="qUb9maKfKbtpRsdp0p2J7uWxRPGJEP";r.prototype.developer=function(t){t?i.set("developer",!0):(i.destroy("developer",null),i.destroy("no_send",null))},r.prototype.destroy=function(){this.developer(!1),this.initialised=!1,i.destroy("config"),i.destroy("page_sent")},r.prototype.toString=function(){return"oTracking version "+u},r.prototype.event=n(75),r.prototype.page=n(76),r.prototype.click=n(77),r.prototype.link={init:function(t){return r.prototype.click.init("link")}},r.prototype.utils=n(1),r.prototype.init=function(t){if(this.initialised)return this;var e=Boolean(this._getDeclarativeConfigElement());if(t=t||{},e&&(t=this._getDeclarativeConfig(t)),0===Object.keys(t).length&&t.constructor===Object)return null;i.set("version",this.version),i.set("source",this.source),i.set("api_key",this.api_key),i.set("page_sent",!1);var n=!!t&&t.cookieDomain;return a.init(!1,n),this.updateConfig(t),s.init(t.session),c.init(),this.event.init(),this.page.init(),this.initialised=!0,this},r.prototype.updateConfig=function(t){var e=i.get("config")||{};e=this.utils.merge(e,t),i.set("config",e),e.developer&&(this.developer(e.developer),e.noSend&&i.set("no_send",!0)),e.user&&e.user.user_id&&a.setUser(e.user.user_id),c.setDomain()},r.prototype._getDeclarativeConfigElement=function(){return document.querySelector("script[data-o-tracking-config]")},r.prototype._getDeclarativeConfig=function(t){var e=this._getDeclarativeConfigElement(),n=void 0;if(!e)return!1;n=e.textContent||e.innerText||e.innerHTML;var r=void 0;try{r=JSON.parse(n)}catch(t){var o=new Error('Invalid JSON configuration syntax, check validity for o-tracking configuration: "'+t.message+'"');throw this.utils.broadcast("oErrors","log",{error:o.message,info:{module:"o-tracking"}}),o}for(var i in r)r.hasOwnProperty(i)&&(t[i]=t[i]||r[i]);return t};var f=new r;document.addEventListener("o.DOMContentLoaded",o),t.exports=f},function(t,e,n){"use strict";var r=function(t,e){var r=void 0,o=n(1);if(o.isUndefined(t)){var i=new Error("You must specify a name for the store.");throw o.broadcast("oErrors","log",{error:i.message,info:{module:"o-tracking"}}),i}if(this.config=o.merge({storage:"best",expires:31536e7},e),this.data=null,this.storageKey=this.config.hasOwnProperty("nameOverride")?this.config.nameOverride:["o-tracking",t].join("_"),this.storage=function(t,e){function n(t){t+="=";var n=e.document.cookie.split(";"),r=void 0,i=void 0;for(r=0;r<n.length;r+=1)if(i=n[r].replace(/^\s+|\s+$/g,""),0===i.indexOf(t))return o.decode(i.substring(t.length,i.length));return null}function r(n,r,i){var a=void 0,s="",c=void 0;o.is(i,"number")&&(a=new Date,a.setTime(a.getTime()+i),s="expires="+a.toGMTString()+";"),c=o.encode(n)+"="+o.encode(r)+";"+s+"path=/;"+(t.domain?"domain=."+t.domain+";":""),e.document.cookie=c}function i(t){r(t,"",-1)}var a="o-tracking_InternalTest";if("cookie"!==t.storage)try{if(e.localStorage&&(e.localStorage.setItem(a,"TEST"),"TEST"===e.localStorage.getItem(a)))return e.localStorage.removeItem(a),{_type:"localStorage",load:function(t){return e.localStorage.getItem(t)},save:function(t,n){return e.localStorage.setItem(t,n)},remove:function(t){return e.localStorage.removeItem(t)}}}catch(t){o.broadcast("oErrors","log",{error:t.message,info:{module:"o-tracking"}})}return r(a,"TEST"),"TEST"===n(a)?(i(a),{_type:"cookie",load:n,save:r,remove:i}):{_type:"none",load:function(){},save:function(){},remove:function(){}}}(this.config,window),r=this.storage.load(this.storageKey))try{this.data=JSON.parse(r)}catch(t){o.broadcast("oErrors","log",{error:t.message,module:"o-tracking"}),this.data=r}return this};r.prototype.read=function(){return this.data},r.prototype.write=function(t){return this.data=t,this.storage.save(this.storageKey,"string"==typeof this.data?this.data:JSON.stringify(this.data),this.config.expires),this},r.prototype.destroy=function(){return this.data=null,this.storage.remove(this.storageKey),this},t.exports=r},function(t,e,n){"use strict";function r(){return d=l.guid()}function o(){return d||r(),d}function i(t,e){l.isUndefined(e)&&(e=function(){});var n=c.session(),r={async:!0,callback:e||function(){},context:{id:t.id||l.guid(),root_id:o()},user:{passport_id:l.getValueFromCookie(/USERID=([0-9]+):/)||l.getValueFromCookie(/PID=([0-9]+)\_/),ft_session:l.getValueFromCookie(/FTSession=([^;]+)/),ft_session_s:l.getValueFromCookie(/FTSession_s=([^;]+)/)},device:{spoor_session:n.id,spoor_session_is_new:n.isNew,spoor_id:s.userID()}},i=u.get("config")||{};return i.context&&l.merge(r.context,i.context),i.user&&l.merge(r.user,i.user),i.device&&l.merge(r.device,i.device),l.merge(r,t),l.log("Core.Track",r),a.addAndRun(r),r}var a=n(30),s=n(28),c=n(29),u=n(7),l=n(1),d=void 0;t.exports={setRootID:r,getRootID:o,track:i}},function(t,e,n){"use strict";function r(){return i("after")}function o(){return i("before")}function i(t){try{var e=window.getComputedStyle(document.documentElement,":"+t).getPropertyValue("content");return e=e.replace(/'/g,"").replace(/\\/g,"").replace(/^"/,"").replace(/"$/,""),JSON.parse(e)}catch(t){return{}}}function a(){return u?"L":r().layout}function s(){return u?"20px":r().gutter}function c(){var t=o();if(t.hasOwnProperty("layouts")){var e=t.layouts,n=new Map(Object.keys(e).map(function(t){return[t,e[t]]})),r=function(t){return Number(t.replace("px","")-1)+"px"};n.forEach(function(t,e){var o=[];"S"===e?(o.push("(max-width: "+t+")"),o.push("(min-width: "+t+") and (max-width: "+r(n.get("M"))+")")):"M"===e?o.push("(min-width: "+t+") and (max-width: "+r(n.get("L"))+")"):"L"===e?o.push("(min-width: "+t+") and (max-width: "+r(n.get("XL"))+")"):"XL"===e&&o.push("(min-width: "+t+")");var i=function(t){t.matches&&window.dispatchEvent(new CustomEvent("o-grid.layoutChange",{detail:{layout:e}}))};o.forEach(function(t){var e=window.matchMedia(t);e.addListener(i),i(e)})})}else console.error("To enable grid layout change events, include oGridSurfaceLayoutSizes in your Sass")}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){var t=document.createElement("B"),e=document.documentElement,n=void 0;return t.innerHTML='\x3c!--[if IE 8]><b id="ie8test"></b><![endif]--\x3e',e.appendChild(t),n=!!document.getElementById("ie8test"),e.removeChild(t),n}();e.default={getCurrentLayout:a,getCurrentGutter:s,getGridBreakpoints:o,enableLayoutChangeEvents:c},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(95),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=function t(){o.default.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",i),e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";function r(t){return JSON.parse(JSON.stringify(t))}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.ATTR_CONTENT_ID;do{if(t===document.documentElement)return null;var n=t.getAttribute(e);if(n)return n}while(t=t.parentElement);return null}function i(t){do{if(t===document.documentElement)return null;var e=t.getAttribute(u.ATTR_CONTENT_ID);if(!e&&!(e=t.getAttribute(u.ATTR_ID))){var n=t;"A"!==t.tagName.toUpperCase()&&(n=n.querySelector("a")),n&&n.hasAttribute("href")&&(e=n.getAttribute("href").split("/").pop(),(e=a(e))&&t.setAttribute(u.ATTR_CONTENT_ID,e))}return e&&(e=a(e),t.setAttribute(u.ATTR_CONTENT_ID,e)),e||null}while(t=t.parentElement);return null}function a(t){return t.indexOf("#")>-1&&(t=t.substring(0,t.indexOf("#"))),t.indexOf("?")>-1&&(t=t.substring(0,t.indexOf("?"))),t}function s(t,e){return t.prepend?t.prepend(e):t.childNodes.length?t.insertBefore(e,t.childNodes[0]):t.appendChild(e),t}function c(t){var e=document.createDocumentFragment(),n=document.createElement("div");return n.insertAdjacentHTML("afterbegin",t),Array.from(n.children).reverse().forEach(function(t){return s(e,t)}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.toElement=e.prepend=e.getContentIDFromHTMLElement=e.getContentAttributeFromHTMLElement=e.cheapClone=void 0;var u=n(4);e.cheapClone=r,e.getContentAttributeFromHTMLElement=o,e.getContentIDFromHTMLElement=i,e.prepend=s,e.toElement=c},function(t,e,n){"use strict";function r(t,e,n){var r=f(t,e,n);d.log("dfp_targeting",r.dfp_targeting),m=o.bind(this,t),document.addEventListener("oAds.ready",function(){y||(v.firstAdRequested=(new Date).getTime(),y=!0)}),document.addEventListener("oAds.gptDisplay",function(){b||(v.firstAdGptRequest=(new Date).getTime(),b=!0)}),document.addEventListener("oAds.complete",m),l.init(r).then(function(t){var e=[].slice.call(document.querySelectorAll(".o-ads"));h=e.length,d.log.info(h+" ad slots found on page"),e.forEach(t.slots.initSlot.bind(t.slots))})}function o(t,e){var n=e.detail;if("oop"!==n.type){if(n.slot.gpt&&!1===n.slot.gpt.isEmpty){if(d.log.info("Ad loaded in slot",e),0===g){(0,c.perfMark)("firstAdLoaded"),v.firstAdLoaded=(new Date).getTime();var r=function t(){/spoor-id=3/.test(document.cookie)&&(v.adIframeLoaded=(new Date).getTime(),(0,c.perfMark)("adIframeLoaded"),p(v,n.slot)),document.body.removeEventListener("oAds.adIframeLoaded",t)};document.body.addEventListener("oAds.adIframeLoaded",r)}}else n.slot.gpt&&!0===n.slot.gpt.isEmpty&&(d.log.warn("Failed to load ad, details below"),d.log(e));g++}g===h&&d.log("Ads component finished")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=n(51),s=function(t){return t&&t.__esModule?t:{default:t}}(a),c=n(0),u=n(65),l=window.oAds=n(9),d=n(26),f=n(66),p=n(68),h=void 0,g=0,m=void 0,v={},y=!1,b=!1;t.exports={init:function(t,e,n){window.addEventListener("ftNextLoaded",function(){s.default.init(t)});var o="object"===(void 0===n?"undefined":i(n))?n:{};return Promise.resolve().then(function(){if(t&&t.get("ads")){if(/(BlackBerry|BBOS|PlayBook|BB10)/.test(navigator.userAgent))return;return Promise.resolve().then(function(){var n=e.name;t&&t.get("ads")&&n&&r(t,n,o)}).then(function(){t&&t.get("krux")&&!o.noTargeting&&u.init(t)})}})}}},function(t,e,n){"use strict";var r=n(57),o=function t(){r.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",o),t.exports=r},function(t,e,n){"use strict";t.exports=function(){var t=new Date,e=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return e=(e<10?"0":"")+e,n=(n<10?"0":"")+n,e+"/"+n+"/"+r}},function(t,e,n){"use strict";function r(t,e,n){var r=void 0;return function(){var o=this,i=arguments,a=function(){r=null,n||t.apply(o,i)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(o,i)}}function o(){var t="default";if(1===window.location.search.indexOf("adsLayout")){t=new RegExp("(adsLayout=([^&#]*)|&|#|$)").exec(window.location.search.substring(1))[2]}else document.querySelector("[data-ads-layout]")&&(t=document.querySelector("[data-ads-layout]").getAttribute("data-ads-layout"));return t}function i(){var t="-",e=document.querySelector("[data-ab-state]");return e&&(t=e.getAttribute("data-ab-state")),t}function a(t){var e=document.querySelector('meta[name="'+t+'"]');return!!e&&e.getAttribute("content")}function s(t){return Object.keys(t).map(function(e){return e+"="+t[e]}).join(";")}function c(){return document.referrer}function u(t){return null===t.firstChild||1!==t.firstChild.nodeType||"none"===t.firstChild.style.display}function l(){var t=void 0,e=void 0,n=void 0;-1==="log warn error info".indexOf(arguments[0])?(t="log",n=0):(t=arguments[0],n=1),e=[].slice.call(arguments,n),l.isOn()&&window.console&&window.console[t]&&window.console[t].apply(window.console,e)}function d(){return window.innerWidth}l.warn=function(){var t=["warn"].concat([].slice.call(arguments,0));l.apply(null,t)},l.error=function(){var t=["error"].concat([].slice.call(arguments,0));l.apply(null,t)},l.info=function(){var t=["info"].concat([].slice.call(arguments,0));l.apply(null,t)},l.start=function(){l.isOn()&&window.console&&window.console.groupCollapsed&&window.console.groupCollapsed("next-ads-component")},l.end=function(){l.isOn()&&window.console&&window.console.groupEnd&&window.console.groupEnd()},l.isOn=function(){return location.search.indexOf("DEBUG=ADS")>-1},t.exports={debounce:r,getLayoutName:o,getABTestState:i,getMetaData:a,getReferrer:c,keyValueString:s,isEmpty:u,log:l,getScreenSize:d}},function(t,e,n){"use strict";t.exports={init:function(t,e){n(69).init(t,e)},lazyInit:function(t){window.addEventListener("ftNextLoaded",function(){n(82)(t),n(83)(t)})},scrollDepthComponents:n(84),scrollDepth:n(85)}},function(t,e,n){"use strict";function r(t,e){e&&(c.domain=e),s=new l(c.name,c);var n=s.read();return n||(n=t),o(n)}function o(t){return a=t,a||(a=u.guid()),s.write(a),a}function i(){s.destroy()}var a=void 0,s=void 0,c={storage:"cookie",name:"spoor-id",nameOverride:"spoor-id",value:null,domain:location.hostname.match(/^(?:.+\.)?ft\.com$/)?"ft.com":null},u=n(1),l=n(17);t.exports={init:r,setUser:o,userID:function(){return a},destroy:i}},function(t,e,n){"use strict";function r(t){var e=new Date;e.setTime(e.getTime()+a.config.expires),a.write({value:t,expiry:e.valueOf()})}function o(){var t=a.read(),e=void 0,n=!1;if(t){var o=(new Date).valueOf();parseInt(t.expiry,10)>=o&&(e=t.value)}return e||(e=c.guid(),n=!0),r(e),{id:e,isNew:n}}function i(t){c.is(t,"string")&&(t={name:t}),c.isUndefined(t)&&(t={});var e=c.merge(s,t);return"cookie"===e.storage&&t.name&&(e.nameOverride=e.name),a=new u(e.name,e),o()}var a=void 0,s={storage:"best",name:"session",expires:18e5},c=n(1),u=n(17);t.exports={init:i,session:o}},function(t,e,n){"use strict";function r(){return navigator.sendBeacon&&Promise&&(l.get("config")||{}).useSendBeacon}function o(t,e){var n=t.queueTime,o=(new Date).getTime()-n,i=r()?p.get("sendBeacon")():window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest?p.get("xhr")():p.get("image")(),a=t.callback,s=l.get("config")&&l.get("config").system||{},c=d.merge(s,{api_key:l.get("api_key"),version:l.get("version"),source:l.get("source")});t=d.merge({system:c},t),o>1e3&&o<31104e6&&(t.time=t.time||{},t.time.offset=o),delete t.callback,delete t.async,delete t.type,delete t.queueTime,d.log("user_callback",a),d.log("PreSend",t);var u=JSON.stringify(t);i.complete(function(r){d.is(a,"function")&&(a.call(t),d.log("calling user_callback")),r?(t.queueTime=n,g.add(t).save(),d.broadcast("oErrors","log",{error:r.message,info:{module:"o-tracking"}})):e&&e()});var f=h;if(t&&t.category&&t.action){var m="type="+t.category+":"+t.action;f=f.indexOf("?")>-1?f+"&"+m:f+"?"+m}l.get("developer")&&l.get("no_send")||i.send(f,u)}function i(t){t.queueTime=(new Date).getTime(),r()?o(t):g.add(t).save(),d.log("AddedToQueue",g)}function a(t){d.isUndefined(t)&&(t=function(){});var e=g.all();if(e.length>200){var n={};e.forEach(function(t){var e=[t.category,t.action].join(":");n.hasOwnProperty(e)||(n[e]=0),n[e]+=1}),g.replace([]),g.add({category:"o-tracking",action:"queue-bug",context:{url:document.url,queue_length:e.length,counts:n,storage:g.storage.storage._type}})}var r=function(){a(),t()},i=g.shift();return i?o(i,r):t()}function s(t){i(t),a()}function c(){l.get("config")&&l.get("config").server&&(h=l.get("config").server)}function u(){return g=new f("requests"),c(),d.addEvent(window,"online",function(){a()}),a(),g}var l=n(7),d=n(1),f=n(31),p=n(71),h="https://spoor-api.ft.com/px.gif",g=void 0;t.exports={init:u,setDomain:c,getDomain:function(){return h},add:i,run:a,addAndRun:s}},function(t,e,n){"use strict";var r=n(1),o=n(17),i=function(t){if(r.isUndefined(t)){var e=new Error("You must specify a name for the queue.");throw r.broadcast("oErrors","log",{error:e.message,info:{module:"o-tracking"}}),e}return this.queue=[],this.storage=new o(t),this.storage.read()&&(this.queue=this.storage.read()),this};i.prototype.all=function(){if(0===this.queue.length)return[];for(var t=[],e=0;e<this.queue.length;e+=1)t.push(this.queue[e].item);return t},i.prototype.first=function(){return 0===this.queue.length?null:this.queue[0].item},i.prototype.last=function(){return 0===this.queue.length?null:this.queue.slice(-1)[0].item},i.prototype.add=function(t){function e(t){n.queue.push({created_at:(new Date).valueOf(),item:t})}var n=this,o=void 0;if(r.is(t,"object")&&t.constructor.toString().match(/array/i))for(o=0;o<t.length;o+=1)e(t[o]);else e(t);return n},i.prototype.replace=function(t){if(r.is(t,"object")&&t.constructor.toString().match(/array/i))return this.queue=[],this.add(t).save(),this;var e=new Error("Argument invalid, must be an array.");throw r.broadcast("oErrors","log",{error:e.message,info:{module:"o-tracking"}}),e},i.prototype.shift=function(){if(0===this.queue.length)return null;var t=this.queue.shift().item;return this.save(),t},i.prototype.save=function(){return this.storage.write(this.queue),this},t.exports=i},function(t,e,n){"use strict";var r=n(16),o=n(78),i=n(79),a=n(80),s=n(81),c=function(){};c.prototype.init=function(){r.click.init("cta"),this.copy=new i(document.body),this.copy.track(),this.attention=new a,this.attention.init(),this.positional=new s,this.positional.init(document),(new o).track()},t.exports=new c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){new a.default({word:"invert",callback:(0,s.createToggler)({callback:u.default})})}var i=n(86),a=r(i),s=n(0),c=n(87),u=r(c);t.exports={init:o}},function(t,e,n){"use strict";function r(t){t?t instanceof HTMLElement||(t=document.querySelector(t)):t=document.body,"o-date"===t.getAttribute("data-o-component")?this.el=t:this.el=t.querySelector('[data-o-component~="o-date"]'),void 0!==this.el&&(document.body.addEventListener(u,this),this.update()),p||(p=setInterval(function(){document.body.dispatchEvent(new CustomEvent(u))},6e4))}function o(t){var e=c[t]||t,n="var months= "+a+", days= "+s+";";return n+='function pad2 (number) {return ("0" + number).slice(-2)}',n+='return "'+e.replace(/\\?[a-z]+/gi,function(t){if("\\"===t.charAt(0))return t.substr(1);var e=d[t];return e?'" + '+e+' + "':t})+'"',l[t]=new Function("date",n)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a='["'+"January,February,March,April,May,June,July,August,September,October,November,December".split(",").join('","')+'"]',s='["'+"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(",").join('","')+'"]',c={datetime:"MMMM d, yyyy h:mm a",date:"MMMM d, yyyy"},u="oDate.update",l={},d={MMMM:"months[date.getMonth()]",MMM:"months[date.getMonth()].substr(0,3)",MM:"pad2(date.getMonth() + 1, 2)",M:"(date.getMonth() + 1)",yyyy:"date.getFullYear()",yy:'(""+date.getFullYear()).substr(-2, 2)',EEEE:"days[date.getDay()]",EEE:"days[date.getDay()].substr(0,3)",d:"date.getDate()",dd:"pad2(date.getDate())",m:"date.getMinutes()",mm:"pad2(date.getMinutes())",h:"(((date.getHours() + 11) % 12) + 1)",hh:"pad2(((date.getHours() + 11) % 12) + 1)",H:"date.getHours()",HH:"pad2(date.getHours())",a:'(date.getHours() >= 12 ? "pm" : "am")'},f={minute:60,hour:3600,day:86400,week:604800,month:2592e3,year:31536e3},p=void 0;r.prototype.handleEvent=function(t){t.type===u&&this.update()},r.prototype.update=function(){var t=this.el,e=t.getAttribute("datetime"),n=t.getAttribute("data-o-date-format"),o=t.querySelector(".o-date__printer")||t,i=o.firstChild&&3===o.firstChild.nodeType;if(e?e=r.toDate(e):i&&(e=new Date),e){var a=void 0;a="today-or-yesterday-or-nothing"===n?r.asTodayOrYesterdayOrNothing(e):"date-only"===n?r.format(e,"date"):"time-ago-limit-4-hours"===n?r.timeAgo(e,{limit:4*f.hour}):"time-ago-abbreviated"===n?r.timeAgo(e,{abbreviated:!0}):"time-ago-abbreviated-limit-4-hours"===n?r.timeAgo(e,{abbreviated:!0,limit:4*f.hour}):"time-ago-no-seconds"===n?r.timeAgoNoSeconds(e):null!==n?r.format(e,n):r.ftTime(e),i?o.firstChild.nodeValue=a:o.innerHTML=a,t.title=r.format(e,"datetime"),t.setAttribute("data-o-date-js",""),t.setAttribute("aria-label",a)}},r.prototype.destroy=function(){document.body.removeEventListener(u,this),this.el=null},r.toDate=function(t){if(t=t instanceof Date?t:new Date(t),"Invalid Date"!==t.toString())return t},r.format=function(t,e){e=e||"datetime";var n=l[e]||o(e);return(t=r.toDate(t))&&n(t)},r.getSecondsBetween=function(t,e){return Math.round((t-e)/1e3)},r.ftTime=function(t){var e=new Date,n=r.getSecondsBetween(e,t);return r.isNearFuture(n)?"just now":r.isFarFuture(n)?r.format(t,"date"):r.isToday(t,e,n)||n<4*f.hour?r.timeAgo(t,n):r.isYesterday(t,e,n)?"yesterday":r.format(t,"date")},r.isNearFuture=function(t){return t<0&&t>-5*f.minute},r.isFarFuture=function(t){return t<-5*f.minute},r.isToday=function(t,e,n){var r=n<f.day,o=e.getDay()===t.getDay();return r&&o},r.isYesterday=function(t,e,n){var r=n<2*f.day,o=e.getDay()===t.getDay()+1;return r&&o},r.timeAgo=function(t,e,n){if(t=r.toDate(t)){if(2===arguments.length&&"object"===(void 0===e?"undefined":i(e))&&(n=e,e=n.interval),e||(e=r.getSecondsBetween(new Date,t)),n&&n.limit>0&&(!e||e>n.limit))return"";var o=!!n&&n.abbreviated;return e<f.minute?(o?e+"s":e+" seconds")+" ago":e<1.5*f.minute?(o?"1m":"a minute")+" ago":e<59*f.minute?Math.round(e/f.minute)+(o?"m":" minutes")+" ago":e<1.5*f.hour?(o?"1h":"an hour")+" ago":e<22*f.hour?Math.round(e/f.hour)+(o?"h":" hours")+" ago":e<1.5*f.day?(o?"1d":"a day")+" ago":e<25*f.day?Math.round(e/f.day)+(o?"d":" days")+" ago":e<45*f.day?(o?"1mth":"a month")+" ago":e<345*f.day?Math.round(e/f.month)+(o?"mth":" months")+" ago":e<547*f.day?(o?"1y":"a year")+" ago":Math.max(2,Math.floor(e/f.year))+(o?"y":" years")+" ago"}},r.asTodayOrYesterdayOrNothing=function(t){if(t){var e=new Date,n=r.getSecondsBetween(e,t);return r.isToday(t,e,n)?"today":r.isYesterday(t,e,n)?"yesterday":""}},r.timeAgoNoSeconds=function(t){if(t){var e=new Date;return r.getSecondsBetween(e,t)<60?"Less than a minute ago":r.timeAgo(t)}},r.init=function(t){if(t||(t=document.body),t instanceof HTMLElement||(t=document.querySelector(t)),/\bo-date\b/.test(t.getAttribute("data-o-component")))return new r(t);var e=t.querySelectorAll('[data-o-component~="o-date"]');return[].map.call(e,function(t){return new r(t)})};var h=function t(){r.init(),document.removeEventListener("o.DOMContentLoaded",t)};"undefined"!=typeof window&&document.addEventListener("o.DOMContentLoaded",h),t.exports=r},function(t,e,n){"use strict";var r=n(88);t.exports={lazyLoad:r}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(102),a=r(i),s=n(103),c=r(s),u={},l=function(){return(/FTSession=([^;]+)/.exec(document.cookie)||[null,""])[1]},d=function(){var t=/FTSession_s=([^;]+)/.exec(document.cookie)||[];return o(t,2)[1]},f=function(){var t=(0,c.default)("uuid");if(t)return Promise.resolve({uuid:t});var e=d();return e?(u.uuid||(u.uuid=(0,a.default)("/sessions/s/"+e).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uuid;return delete u.uuid,e&&(0,c.default)("uuid",e),{uuid:e}})),u.uuid):Promise.resolve({uuid:void 0})},p=function(){var t=(0,c.default)("products"),e=(0,c.default)("uuid");return t&&e?Promise.resolve({products:t,uuid:e}):d()?(u.products||(u.products=(0,a.default)("/products",{credentials:"include"}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.products,n=t.uuid;return u.products=void 0,e&&(0,c.default)("products",e),n&&(0,c.default)("uuid",n),{products:e,uuid:n}})),u.products):Promise.resolve({})},h=function(){return f().then(function(t){return!!t.uuid})};e.default={uuid:f,products:p,validate:h,cache:c.default,cookie:l,sessionId:d},t.exports=e.default},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(13),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=n(0);e.default=function(){function t(){return e.apply(this,arguments)}var e=r(i.default.mark(function t(){var e,n,r,o,s;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e="/syndication/user-status",n={credentials:"include"},t.prev=2,t.next=5,fetch(e,n);case 5:if(r=t.sent,!r.ok){t.next=10;break}return t.abrupt("return",r.json());case 10:t.t0=r.status,t.next=401===t.t0?13:503===t.t0?14:21;break;case 13:return t.abrupt("return",null);case 14:if(!r.headers.get("content-type").includes("application/json")){t.next=21;break}return t.next=17,r.json();case 17:return o=t.sent,o.migrated=!0,o.MAINTENANCE_MODE=!0,t.abrupt("return",o);case 21:return t.next=23,r.text();case 23:throw s=t.sent,new Error("Next "+e+' responded with "'+s+'" ('+r.status+")");case 25:t.next=30;break;case 27:t.prev=27,t.t1=t.catch(2),(0,a.broadcast)("oErrors.log",{error:t.t1,info:{component:"next-syndication-redux"}});case 30:case"end":return t.stop()}},t,this,[[2,27]])}));return t}(),t.exports=e.default},function(t,e,n){"use strict";function r(t){addEventListener("click",o,!0),addEventListener("keyup",i,!0),addEventListener("resize",p,!0),(0,b.listenTo)("resize"),O=t}function o(t){var e=(0,A.getItemByHTMLElement)(t.target),n=!0,r={};if(r.category=_.TRACKING.CATEGORY,r.contractID=O.contract_id,r.product=_.TRACKING.CATEGORY,r.url=location.href,r.action=t.target.getAttribute(_.ATTR_TRACKABLE),e&&(r.lang=e.lang,r.message=e.messageCode,r.article_id=e[_.DATA_ID_PROPERTY],r.syndication_content=e.type),t.target.matches(_.CSS_SELECTOR_SYNDATION_ICON))m(t);else if(t.target.matches(_.CSS_SELECTOR_REPUBLISHING_BTN))t.preventDefault(),m(t);else if(t.target.matches(_.CSS_SELECTOR_ACTION_SAVE))h(t),d(),m(t),s();else if(t.target.matches(_.CSS_SELECTOR_ACTION_DOWNLOAD))c(t),s();else if(v()){var o=t.target.getAttribute(_.ATTR_ACTION);(t.target.matches("."+_.CSS_CLASS_PREFIX+"-modal-shadow")||o&&"close"===o)&&(t.preventDefault(),s())}else n=!1;!n||(0,y.broadcast)("oTracking.event",r)}function i(t){switch(t.key){case"Escape":d();var e={};e.category=_.TRACKING.CATEGORY,e.contractID=O.contract_id,e.product=_.TRACKING.CATEGORY,e.url=location.href,e.action="close-syndication-modal",(0,y.broadcast)("oTracking.event",e);break;case" ":case"Enter":t.target.matches(_.CSS_SELECTOR_SYNDATION_ICON)&&m(t)}}function a(t){var e=!0===t.saved?"Already saved":"Save for later",n="",r=u(t[_.DATA_ID_PROPERTY],t),o="Download",i=!0===t.saved?"disabled":"",a=l(t[_.DATA_ID_PROPERTY],t),s=void 0,c="download-items",d="save-for-later",p="",h=""+_.ATTR_TRACKABLE;if(t.embargoPeriod&&("number"==typeof t.embargoPeriod&&(t.embargoPeriod=t.embargoPeriod+" day"+(t.embargoPeriod>1?"s":"")),t.embargoMessage=t.embargoPeriod?f(_.MESSAGES.EMBARGO,t):""),location.pathname.includes("/download")?(c="redownload",d+="-downloads-page"):location.pathname.includes("/save")&&(c=""),!0===O.MAINTENANCE_MODE)s=_.MESSAGES.MSG_5100,n="disabled",i="disabled",t.title="";else if("package"===t.type)s=_.MESSAGES.MSG_4300,n="disabled",i="disabled";else if(!0===t.notAvailable)n="disabled",s=_.MESSAGES.MSG_4050;else if("verify"===t.canBeSyndicated)n="disabled",s=t.lang!==_.DEFAULT_LANGUAGE?_.MESSAGES.MSG_4250:_.MESSAGES.MSG_2200;else if("withContributorPayment"===t.canBeSyndicated)!0!==O.contributor_content?(n="disabled",s=_.MESSAGES.MSG_2300):s=!0===t.downloaded?_.MESSAGES.MSG_2340:_.MESSAGES.MSG_2320;else if("no"!==t.canBeSyndicated&&t.canBeSyndicated)if(!0===t.downloaded)s=_.MESSAGES.MSG_2100;else if(t.canDownload<1)switch(n="disabled",t.canDownload){case 0:s=t.lang!==_.DEFAULT_LANGUAGE?_.MESSAGES.MSG_4250:_.MESSAGES.MSG_4200;break;case-1:s=_.MESSAGES.MSG_4100}else s=_.MESSAGES.MSG_2000;else n="disabled",i="disabled",s=_.MESSAGES.MSG_4000;return s=f(s,t),"disabled"===n&&(r="#",o+=" unavailable"),"disabled"===i&&(a="#",!0!==t.saved&&(e="Save unavailable")),t.wordCount&&(p='<span class="'+_.CSS_CLASS_PREFIX+'-modal-word-count">Word count: '+t.wordCount+"</span>"),h=c?h+'="'+c+'"':"",(0,S.toElement)('<div class="'+_.CSS_CLASS_PREFIX+'-modal-shadow"></div>\n<div class="'+_.CSS_CLASS_PREFIX+"-modal "+_.CSS_CLASS_PREFIX+"-modal-"+t.type+'" role="dialog" aria-labelledby="'+_.LABEL_ARIA_OVERLAY+" "+t.title+'" tabindex="0">\n\t<header class="'+_.CSS_CLASS_PREFIX+'-modal-heading">\n\t\t<a class="'+_.CSS_CLASS_PREFIX+'-modal-close" data-action="close" '+_.ATTR_TRACKABLE+'="close-syndication-modal" role="button" href="#" aria-label="Close" title="Close" tabindex="0"></a>\n\t\t<span role="heading" class="'+_.CSS_CLASS_PREFIX+'-modal-title">'+t.title+'</span>\n\t</header>\n\t<section class=" '+_.CSS_CLASS_PREFIX+'-modal-content">\n\t\t'+p+'\n\t\t<div class="'+_.CSS_CLASS_PREFIX+'-modal-message">\n\t\t'+s+'\n\t\t</div>\n\t\t<div class="'+_.CSS_CLASS_PREFIX+'-actions" data-content-id="'+t[_.DATA_ID_PROPERTY]+'" data-iso-lang="'+t[_.DATA_LANG_PROPERTY]+'">\n\t\t\t<a class="'+_.CSS_CLASS_PREFIX+'-action" data-action="save" '+i+" "+_.ATTR_TRACKABLE+'="'+d+'" href="'+a+'">'+e+'</a>\n\t\t\t<a class="'+_.CSS_CLASS_PREFIX+"-action "+_.CSS_CLASS_PREFIX+'-action-primary" data-action="download" '+n+" "+h+' href="'+r+'">'+o+"</a>\n\t\t</div>\n\t</section>\n</div>")}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.MS_DELAY_HIDE,e=setTimeout(function(){clearTimeout(e),e=null,d()},t)}function c(t){var e=(0,A.getItemByHTMLElement)(t.target);(0,A.getAllItemsForID)(e.id).forEach(function(t){t.downloaded=!0,t.messageCode="MSG_2100"}),(0,y.broadcast)(_.EVENT_PREFIX+".downloadItem",{item:e})}function u(t,e){var n=_.URI_PREFIX_DOWNLOAD+"/"+t+C;return e.lang&&(n+=(n.includes("?")?"&":"?")+"lang="+e.lang),n}function l(t,e){var n=_.URI_PREFIX_SAVE+"/"+t+C;return e.lang&&(n+=(n.includes("?")?"&":"?")+"lang="+e.lang),n}function d(){v()&&(x.remove(),L.remove(),T=null,x=null,L=null)}function f(t,e){return String(t).replace(_.RE_INTERPOLATE,function(t,n){return n in e?e[n]:""})}function p(){if(v()){var t=document.documentElement,e=t.clientWidth/2-x.clientWidth/2,n=Math.max(t.clientHeight/3-x.clientHeight/2,100);x.style.left=e+"px",x.style.top=n+"px"}}function h(t){var e=(0,A.getItemByHTMLElement)(t.target);(0,A.getAllItemsForID)(e.id).forEach(function(t){return t.saved=!0})}function g(t){do{if("A"===t.tagName.toUpperCase())return!0}while(t=t.parentElement);return!1}function m(t){v()&&d(),g(t.target.parentElement)&&t.preventDefault(),k.get("download_format").then(function(e){C=e&&Date.now()-e.time<=_.MAX_LOCAL_FORMAT_TIME_MS?"?format="+e.format:"",T=a((0,A.getItemByHTMLElement)(t.target)),x=T.lastElementChild||T.lastChild,L=T.firstElementChild||T.firstChild,document.body.appendChild(T),p()})}function v(){return!(!x||!document.body.contains(x))}Object.defineProperty(e,"__esModule",{value:!0}),e.init=void 0;var y=n(0),b=n(3),w=n(12),E=function(t){return t&&t.__esModule?t:{default:t}}(w),_=n(4),S=n(22),A=n(8),k=new E.default("local","syndication"),T=void 0,x=void 0,L=void 0,C=void 0,O=void 0;e.init=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(9),i=r(o),a=n(23),s=r(a),c=n(27),u=r(c),l=n(33),d=r(l),f=n(16),p=r(f),h=n(34),g=r(h),m=n(0),v=r(m),y=n(19),b=r(y),w=n(3),E=r(w),_=n(35),S=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(_),A=n(6),k=r(A),T=n(12),x=r(T),L=n(11),C=r(L),O=n(90),I=new O.AppInitializer;window.FT.nUi=Object.assign({},I.env,{onAppInitialized:I.onAppInitialized,ads:s.default,tracking:u.default,_hiddenComponents:{oAds:i.default,oTracking:p.default,oDate:g.default,oViewport:E.default,nUiFoundations:v.default,oGrid:b.default,nImage:S,ftdomdelegate:k.default,roe:d.default,superstore:x.default,superstoreSync:C.default}}),I.bootstrap(window.FT.nUiConfig||{preset:"discrete"})},function(t,e,n){"use strict";function r(t,e,n){n=n||document.body||document.documentElement,t="oAds."+t;var r={bubbles:!0,cancelable:!0,detail:e};n.dispatchEvent(new CustomEvent(t,r))}function o(t,e,n){t="oAds."+t,n=n||document.body||document.documentElement,n.addEventListener(t,e)}function i(t,e,n){t="oAds."+t,n=n||document.body||document.documentElement,n.removeEventListener(t,e)}function a(t,e,n){var r=function(n){(n.target||n.srcElement).removeEventListener(t="oAds."+t,e),e&&(e(n),e=null)};o(t,r,n)}t.exports.broadcast=r,t.exports.on=o,t.exports.off=i,t.exports.once=a},function(t,e,n){"use strict";t.exports.messenger={post:function(t,e){t="string"==typeof t?t:JSON.stringify(t),e=arguments[1]||window.top,e.postMessage(t,"*")},parse:function(t){if("string"!=typeof t||"{"!==t[0])return t;try{return JSON.parse(t)}catch(e){return t}}}},function(t,e,n){"use strict";function r(){function t(t){var r=u[t];n.width>=r[0]&&n.height>=r[1]&&(!e||r[0]>=u[e][0])&&(e=t)}var e=void 0,n=f.getSize(!0);return Object.keys(u).forEach(t),e}function o(){var t=r();l!==t&&(i(t),c(t))}function i(t){l=t}function a(){return l}function s(t,e){return!!d.isFunction(e)&&(u=t,c=e,i(r()),document.body.addEventListener("oViewport.orientation",o),document.body.addEventListener("oViewport.resize",o),f.listenTo("orientation"),f.listenTo("resize"),a())}var c=void 0,u=void 0,l=void 0,d=n(2),f=n(3);t.exports=s,t.exports.getCurrent=a,t.exports.setThrottleInterval=f.setThrottleInterval},function(t,e,n){"use strict";function r(t,e,n){n=n||document.body,f&&console.log("o-viewport",t,e),n.dispatchEvent(new CustomEvent("oViewport."+t,{detail:e,bubbles:!0}))}function o(t){return t?document.documentElement.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}function i(t){return t?document.documentElement.clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0)}function a(e){return{height:t.exports.getHeight(e),width:t.exports.getWidth(e)}}function s(){var t=document.documentElement,e=document.body,n="CSS1Compat"===(document.compatMode||""),r=n?t.scrollLeft:e.scrollLeft,o=n?t.scrollTop:e.scrollTop;return{height:e.scrollHeight,width:e.scrollWidth,left:window.pageXOffset||window.scrollX||r,top:window.pageYOffset||window.scrollY||o}}function c(){var t=window.screen.orientation||window.screen.mozOrientation||window.screen.msOrientation||void 0;return t?"string"==typeof t?t.split("-")[0]:t.type.split("-")[0]:window.matchMedia?window.matchMedia("(orientation: portrait)").matches?"portrait":"landscape":o()>=i()?"portrait":"landscape"}function u(){var t=void 0,e=void 0;return void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.mozHidden?(t="mozHidden",e="mozvisibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),{hiddenName:t,eventType:e}}function l(){var t=u().hiddenName;return document[t]}var d=n(10),f=void 0;t.exports={debug:function(){f=!0},broadcast:r,getWidth:i,getHeight:o,getSize:a,getScrollPosition:s,getVisibility:l,getOrientation:c,detectVisiblityAPI:u,debounce:d.debounce,throttle:d.throttle}},function(t,e,n){"use strict";function r(){var t=void 0,e=void 0,n=void 0;-1==="log warn error info".indexOf(arguments[0])?(t="log",n=0):(t=arguments[0],n=1),e=[].slice.call(arguments,n),r.isOn(t)&&window.console[t].apply(window.console,e)}t.exports=r,t.exports.isOn=function(t){return(localStorage.getItem("oAds")||-1!==location.search.indexOf("DEBUG=OADS"))&&window.console&&window.console[t]},t.exports.warn=function(){var t=["warn"].concat([].slice.call(arguments,0));r.apply(null,t)},t.exports.error=function(){var t=["error"].concat([].slice.call(arguments,0));r.apply(null,t)},t.exports.info=function(){var t=["info"].concat([].slice.call(arguments,0));r.apply(null,t)},t.exports.start=function(t){r.isOn("groupCollapsed")&&window.console.groupCollapsed(t||"o-ads")},t.exports.end=function(){r.isOn("groupEnd")&&window.console.groupEnd()},t.exports.table=function(t,e){r.isOn("log")&&window.console&&(console.table?console.table(t,e):console.log(t))},t.exports.attributeTable=function(t,e){var o=n(2);if(r.isOn("log")&&window.console)if(t&&console.table){var i=Object.keys(t).map(function(e){var n=void 0;return n=o.isArray(t[e])||o.isObject(t[e])?JSON.stringify(t[e]):t[e],{key:e,value:n}});console.table(i,e)}else console.log(t)}},function(t,e,n){"use strict";function r(){}function o(t,e,n){var r=[];return t=t||Object.keys(this),u.isNonEmptyString(t)?r.push(t):u.isArray(t)&&(r=t),r.forEach(i.bind(null,this,e)),u.isFunction(n)&&n.call(this,r),this}function i(t,e,n){var r=t[n];r?u.isFunction(r[e])?r[e]():u.isFunction(r.fire)?r.fire(e):u.log.warn("Attempted to %s on a non-slot %s",e,n):u.log.warn("Attempted to %s non-existant slot %s",e,n)}function a(t){if(!t)return!1;var e=l("formats");for(var n in e)if(e.hasOwnProperty(n)){var r=e[n].sizes;r=u.isArray(r[0])?r:[r];var o=r.filter(function(e){return e[0]===parseInt(t[0])&&e[1]===parseInt(t[1])});if(o.length)return n}}function s(t,e){t.forEach(function(t){if(t){var n=t.container&&"Responsive"===t.container.getAttribute("data-o-ads-loaded"),r=t.sizes[e]&&t.sizes[e].filter(function(t){return"Responsive"===a(t)}).length>0;if(n&&r)return!1;t.screensize=e,t.fire("breakpoint",{screensize:e})}})}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=n(2),l=n(5),d=n(46),f=null;r.prototype.collapse=function(t){return o.call(this,t,"collapse")},r.prototype.uncollapse=function(t){return o.call(this,t,"uncollapse")},r.prototype.refresh=function(t){return o.call(this,t,"refresh")},r.prototype.clear=function(t){return o.call(this,t,"clear")},r.prototype.destroy=function(t){return o.call(this,t,"destroy",function(t){var e=this;t.forEach(function(t){e[t]=null,delete e[t]})})},r.prototype.submitImpression=function(t){return o.call(this,t,"submitImpression")},r.prototype.initSlot=function(t){if(u.isString(t)&&(t=document.getElementById(t)||document.querySelector('[data-o-ads-name="'+t+'"]'))&&t.id&&(t.setAttribute("data-o-ads-name",t.id),t.removeAttribute("id")),!u.isElement(t))return u.log.error("slot container must be an element!",t),!1;t.setAttribute("aria-hidden","true");var e=new d(t,f,this.initLazyLoading.bind(this));return e&&!this[e.name]?(this[e.name]=e,e.fire("ready")):this[e.name]&&u.log.error("slot %s is already defined!",e.name),e},r.prototype.initRefresh=function(){var t=this;if(l("flags").refresh&&l("refresh")){var e=l("refresh");if(this.refreshCount=0,e.time&&!e.inview){var n=function n(){!e.max||t.refreshCount++<e.max?t.refresh():t.refreshCount>=e.max&&clearInterval(n)};setInterval(n,1e3*(parseFloat(e.time)||1))}}return this},r.prototype.initRendered=function(){return u.on("rendered",function(t,e){var n=t[e.detail.name];if(n){u.extend(n[n.server],e.detail[n.server]);var r=e.detail.gpt.size,o=a(r);n.setFormatLoaded(o),n.maximise(r),n.fire("complete",e.detail)}}.bind(null,this)),this},r.prototype.initResponsive=function(){var t=l("responsive");return u.isObject(t)&&(f=u.responsive(t,s.bind(null,this))),this},r.prototype.initPostMessage=function(){function t(t,e){var n=u.messenger.parse(e.data);if(n.type&&(/^oAds\./.test(n.type)||/^touch/.test(n.type))){var r=n.type.replace("oAds.",""),o=!!n.name&&t[n.name];if("whoami"===r&&e.source){document.body.dispatchEvent(new CustomEvent("oAds.adIframeLoaded"));var i={type:"oAds.youare"},s=u.iframeToSlotName(e.source.window);if(o=t[s]||!1){if(n.collapse&&o.collapse(),n.mastercompanion){var l=o.gpt.size,d=a(l);t.forEach(function(t){t.companion&&t.name!==o.name&&(t.fire("masterLoaded",o),t.container.setAttribute("data-o-ads-master-loaded",d))})}n.customMessages&&"object"===c(n.customMessages)&&o.fire("customMessages",n.customMessages),o.disableSwipeDefault&&(i.disableDefaultSwipeHandler=!0),i.name=s,i.sizes=o.sizes,u.messenger.post(i,e.source)}else u.log.error("Message received from unidentified slot"),u.messenger.post(i,e.source)}else{if(!o)return void u.log.error("Message received from unidentified slot");"responsive"===r?o.setResponsiveCreative(!0):u.isFunction(o[r])?o[r]():/^touch/.test(n.type)?o.fire("touch",n):(delete n.type,delete n.name,o.fire(r,n))}}}window.addEventListener("message",t.bind(null,this),!1)},r.prototype.flushLazyLoading=function(){this.lazyLoadingObservers=this.lazyLoadingObservers.filter(function(t){return Boolean(!t.root||document.contains(t.root))})},r.prototype.initLazyLoading=function(t){var e=l("lazyLoad")||t|{};this.lazyLoadingObservers=this.lazyLoadingObservers||[],this.flushLazyLoading();var n=this.lazyLoadingObservers.find(function(t){return e.root==t.root});if("IntersectionObserver"in window&&!n&&e){var r=function(t){var e=this;t.filter(function(t){return t.intersectionRect.height||t.intersectionRect.width||t.intersectionRect.top||t.intersectionRect.left}).sort(function(t,e){return t.intersectionRect.top-e.intersectionRect.top}).forEach(function(t){var n=t.target.getAttribute("data-o-ads-name");n&&o.call(e,n,"render")})},i={};"object"===(void 0===e?"undefined":c(e))&&(e.viewportMargin&&(i.rootMargin=e.viewportMargin),e.threshold&&(i.threshold=e.threshold),i.root=e.root||null),n=new IntersectionObserver(r.bind(this),i),this.lazyLoadingObservers.push(n)}return n},r.prototype.forEach=function(t){var e=this;return Object.keys(this).forEach(function(n){var r=e[n];r instanceof d&&t.call(e,r)}),this},r.prototype.init=function(){this.initRefresh(),this.initRendered(),this.initResponsive(),this.initPostMessage(),this.initLazyLoading()},r.prototype.debug=function(){var t=u.log,e=[];this.forEach(function(t){var n={name:t.name,"unit name":t.gpt.unitName,"creative id":t.gpt.creativeId||"N/A","line item id":t.gpt.lineItemId||"N/A",size:u.isArray(t.gpt.size)&&t.gpt.size.join("")||t.gpt.isEmpty&&"empty"||"N/A",sizes:u.isArray(t.sizes)&&t.sizes.map(function(t){return t.join("")}).join(", ")||"responsive slot",targeting:Object.keys(t.targeting).map(function(e){return e+"="+t.targeting[e]}).join(", ")};e.push(n)}),t.start("Creatives"),t.table(e),t.end()},t.exports=new r},function(t,e,n){"use strict";function r(t,e,n){var r=this,a=i("slots")||{},c=i("disableSwipeDefault")||!1;if(this.container=t,e&&(this.screensize=e),this.outer=this.addContainer(t,{class:"o-ads__outer"}),this.inner=this.addContainer(this.outer,{class:"o-ads__inner"}),this.setName(),this.setResponsiveCreative(!1),a=a[this.name]||{},this.server="gpt",this.defer=!1,this.targeting=a.targeting||{},this.sizes=a.sizes||[],this.center=a.center||!1,this.label=a.label||!1,this.outOfPage=a.outOfPage||!1,this.disableSwipeDefault=a.disableSwipeDefault||c,this.companion=!1!==a.companion,this.collapseEmpty=a.collapseEmpty,o.isArray(a.formats)?s.formats(a.formats,this.sizes):o.isPlainObject(a.formats)&&(this.sizes={},Object.keys(a.formats).forEach(function(t){r.sizes[t]=s.formats(a.formats[t],[])})),void 0!==a.lazyLoad?this.lazyLoad=a.lazyLoad:this.lazyLoad=i("lazyLoad")||!1,this.parseAttributeConfig(),!this.sizes.length&&!o.isPlainObject(this.sizes))return o.log.error("slot %s has no configured sizes!",this.name),!1;this.lazyLoadObserver=n(this.lazyLoad),this.initLazyLoad(),this.centerContainer(),this.labelContainer(),this.initResponsive()}var o=n(2),i=n(5),a=["fluid"],s={sizes:function(t,e){if(!1===t||"false"===t)return!1;if(o.isArray(e)){var n=/(\d+)x(\d+)/;t.split(",").filter(function(t){return t.length}).forEach(function(t){n.test(t)?t.replace(n,function(t,n,r){e.push([parseInt(n,10),parseInt(r,10)])}):a.indexOf(t)>=0&&e.push(t)})}return e},formats:function(t,e){if(!1===t||"false"===t)e=!1;else{var n=i().formats;(o.isArray(t)?t:t.split(",")).forEach(function(t){n&&n[t]?(t=n[t],o.isArray(t.sizes[0])||a.indexOf(t.sizes[0])>=0?t.sizes.forEach(function(t){e.push(t)}):e.push(t.sizes)):o.log.error("Slot configured with unknown format "+t)})}return e},responsiveSizes:function(t,e,n){var r=t.replace(/^sizes/,"").toLowerCase();return o.isPlainObject(n)||(n={}),n[r]=s.sizes(e,n[r]||[]),n},responsiveFormats:function(t,e,n){var r=t.replace(/^formats/,"").toLowerCase();return o.isPlainObject(n)||(n={}),n[r]=s.formats(e,[]),n},lazyLoadThreshold:function(t){return t.split(",").map(Number)},targeting:function(t,e){return t=o.hash(t,";","="),o.extend(e,t),e},base:function(t){return""===t||"true"===t?t=!0:"false"===t&&(t=!1),t}},c=function(t){!0===t.lazyLoad&&(t.lazyLoad={})},u=function(t){var e=t.detail.slot;e.screensize=t.detail.screensize,e.hasValidSize()?e.uncollapse():(e.collapse(),e.clear())};r.prototype.parseAttributeConfig=function(){var t=this;Array.from(this.container.attributes).forEach(function(e){var n=o.parseAttributeName(e.name),r=e.value;"formats"===n?t[n]=s[n](r,t.sizes):"lazyLoadThreshold"===n&&t.lazyLoad?(c(t),t.lazyLoad.threshold=s.lazyLoadThreshold(r)):"lazyLoadViewportMargin"===n&&t.lazyLoad?(c(t),t.lazyLoad.viewportMargin=s.base(r)):s[n]?t[n]=s[n](r,t[n]):/^formats\w*/.test(n)?t.sizes=s.responsiveFormats(n,r,t.sizes):/^sizes\w*/.test(n)?t.sizes=s.responsiveSizes(n,r,t.sizes):t.hasOwnProperty(n)&&(t[n]=s.base(r))})},r.prototype.getAttributes=function(){var t={};return Array.from(this.container.attributes).forEach(function(e){t[o.parseAttributeName(e)]=e.value}),this.attributes=t,this},r.prototype.initLazyLoad=function(){var t=this;return this.lazyLoadObserver&&this.lazyLoad&&(this.defer=!0,this.lazyLoadObserver.observe(this.container),this.companion&&o.once("masterLoaded",function(){t.hasValidSize()&&t.render()},this.container)),this},r.prototype.render=function(){this.fire("render"),this.lazyLoadObserver&&this.lazyLoadObserver.unobserve(this.container)},r.prototype.initResponsive=function(){return o.isPlainObject(this.sizes)&&(this.hasValidSize()||this.collapse(),o.on("breakpoint",u,this.container)),this},r.prototype.maximise=function(t){t&&100==+t[0]&&100==+t[1]&&this.fire("resize",{size:["100%","100%"]})},r.prototype.setName=function(){return this.name=this.container.getAttribute("data-o-ads-name")||this.container.getAttribute("o-ads-name"),this.name||(this.name="o-ads-slot-"+Math.floor(1e4*Math.random()),this.container.setAttribute("data-o-ads-name",this.name)),this},r.prototype.setResponsiveCreative=function(t){return this.responsiveCreative=t,this},r.prototype.collapse=function(){return this.container.classList.add("o-ads--empty"),this.setFormatLoaded(!1),document.body.classList.add("o-ads-no-"+this.name),o.broadcast("collapsed",this),this},r.prototype.setFormatLoaded=function(t){return this.container.setAttribute("data-o-ads-loaded",t),this},r.prototype.uncollapse=function(){return this.container.classList.remove("o-ads--empty"),document.body.classList.remove("o-ads-no-"+this.name),this},r.prototype.clear=function(){return o.isFunction(this.clearSlot)&&this.clearSlot(),this},r.prototype.destroy=function(){return o.isFunction(this.destroySlot)&&(o.off("breakpoint",u,this.container),this.destroySlot(),this.container.removeChild(this.outer)),this},r.prototype.submitImpression=function(){return o.isFunction(this.submitGptImpression)&&this.submitGptImpression(),this},r.prototype.fire=function(t,e){var n={name:this.name,slot:this};return o.isPlainObject(e)&&o.extend(n,e),o.broadcast(t,n,this.container),this},r.prototype.addContainer=function(t,e){var n="<div ";return e&&Object.keys(e).forEach(function(t){var r=e[t];n+=t+"="+r+" "}),n+="></div>",t.insertAdjacentHTML("beforeend",n),t.lastChild},r.prototype.hasValidSize=function(t){return!(t=t||this.screensize)||!o.isPlainObject(this.sizes)||!1!==this.sizes[t]},r.prototype.centerContainer=function(){return this.center&&this.container.classList.add("o-ads--center"),this},r.prototype.labelContainer=function(){var t=void 0;return!0===this.label||"left"===this.label?t="label-left":"right"===this.label&&(t="label-right"),t&&this.container.classList.add("o-ads--"+t),this},t.exports=r},function(t,e,n){"use strict";function r(){var t=y("gpt")||{};E=y("responsive"),o(),b.on("ready",d.bind(null,_)),b.on("render",f),b.on("refresh",p),b.on("resize",h),googletag.cmd.push(i.bind(null,t))}function o(){window.googletag||(window.googletag={},window.googletag.cmd=[]),b.attach("//www.googletagservices.com/tag/js/gpt.js",!0,null,function(t){b.broadcast("adServerLoadError",t)})}function i(t){return googletag.pubads().addEventListener("slotRenderEnded",g),l(t),a(t),s(w.get()),u(t),googletag.enableServices(),googletag.pubads().setTargeting("url",window.location.href),!0}function a(t){var e=t.rendering;"sync"===e?googletag.pubads().enableSyncRendering():"sra"===e?googletag.pubads().enableSingleRequest():googletag.pubads().enableAsyncRendering()}function s(t){return b.isPlainObject(t)?googletag.cmd.push(function(){var e=googletag.pubads();Object.keys(t).forEach(function(n){e.setTargeting(n,t[n])})}):b.log.warn("invalid targeting object passed",t),t}function c(t){return window.googletag?t?void googletag.cmd.push(function(){googletag.pubads().clearTargeting(t)}):void b.log.warn("Refusing to unset all keys - a key must be specified"):void b.log.warn("Attempting to clear page targeting before the GPT library has initialized")}function u(t){var e=t.collapseEmpty;"before"===e||!0===e?googletag.pubads().collapseEmptyDivs(!0,!0):"never"===e||!1===e?googletag.pubads().collapseEmptyDivs(!1):googletag.pubads().collapseEmptyDivs(!0)}function l(t){t.companions&&(googletag.pubads().disableInitialLoad(),googletag.companionAds().setRefreshUnfilledSlots(!0))}function d(t,e){var n=e.detail.slot;"gpt"===n.server&&(n.gpt={},b.extend(n,t),googletag.cmd.push(function(){n.defineSlot().addServices().setCollapseEmpty().setTargeting().setURL(),!n.defer&&n.hasValidSize()&&n.display()}))}function f(t){var e=t.detail.slot;b.isFunction(e.display)&&e.display()}function p(t){return window.googletag.cmd.push(function(){var e=t.detail.targeting;b.isPlainObject(e)&&Object.keys(e).forEach(function(n){t.detail.slot.gpt.slot.setTargeting(n,e[n])}),googletag.pubads().refresh([t.detail.slot.gpt.slot])}),this}function h(t){var e=t.detail.slot.gpt.iframe,n=t.detail.size;e.width=n[0],e.height=n[1]}function g(t){var e={gpt:{}},n=t.slot.getSlotId(),r=n.getDomId().split("-"),o="google_ads_iframe_"+n.getId();e.type=r.pop(),e.name=r.join("-");var i=e.gpt;i.isEmpty=t.isEmpty,i.size=t.size,i.creativeId=t.creativeId,i.lineItemId=t.lineItemId,i.serviceName=t.serviceName,i.iframe=document.getElementById(o),i.iframe.setAttribute("tabindex","-1"),i.iframe.setAttribute("aria-hidden","true"),i.iframe.setAttribute("role","presentation"),i.iframe.setAttribute("title","Advertisement"),b.broadcast("rendered",e)}function m(){googletag.cmd.push(function(){googletag.pubads().updateCorrelator()})}function v(t){if(window.googletag){var e=b.isPlainObject(t)?t:w.get();t||googletag.cmd.push(function(){googletag.pubads().clearTargeting()}),s(e)}else b.log.warn("Attempting to set page targeting before the GPT library has initialized")}var y=n(5),b=n(2),w=n(14),E=!1,_={defineSlot:function(){var t=this;return window.googletag.cmd.push(function(){t.gpt.id=t.name+"-gpt",t.inner.setAttribute("id",t.gpt.id),t.setUnitName(),t.outOfPage?t.gpt.slot=googletag.defineOutOfPageSlot(t.gpt.unitName,t.gpt.id):E&&b.isObject(t.sizes)?(t.initResponsive(),t.gpt.slot=googletag.defineSlot(t.gpt.unitName,[],t.gpt.id).defineSizeMapping(t.gpt.sizes)):t.gpt.slot=googletag.defineSlot(t.gpt.unitName,t.sizes,t.gpt.id)}),this},clearSlot:function(t){return!(!window.googletag.pubadsReady||!window.googletag.pubads)&&(t=t||this.gpt.slot,googletag.pubads().clear([t]))},initResponsive:function(){var t=this;return window.googletag.cmd.push(function(){b.on("breakpoint",function(e){var n=e.detail.slot,r=e.detail.screensize;v({res:r}),n.hasValidSize(r)&&!n.responsiveCreative&&(n.gpt.iframe?n.fire("refresh"):t.defer||n.display())},t.container);var e=googletag.sizeMapping();Object.keys(E).forEach(function(n){t.sizes[n]&&e.addSize(E[n],t.sizes[n])}),t.gpt.sizes=e.build()}),this},destroySlot:function(t){return!(!window.googletag.pubadsReady||!window.googletag.pubads)&&(t=t||this.gpt.slot,googletag.destroySlots([t]))},display:function(){var t=this;return window.googletag.cmd.push(function(){b.broadcast("gptDisplay"),googletag.display(t.gpt.id)}),this},setUnitName:function(){var t=this;return window.googletag.cmd.push(function(){var e=void 0,n=y("gpt")||{},r=t.container.getAttribute("data-o-ads-gpt-unit-name");if(b.isNonEmptyString(r))e=r;else if(b.isNonEmptyString(n.unitName))e=n.unitName;else{var o=n.network,i=n.site,a=n.zone;e="/"+o,e+=b.isNonEmptyString(i)?"/"+i:"",e+=b.isNonEmptyString(a)?"/"+a:""}t.gpt.unitName=e}),this},addServices:function(t){var e=this;return window.googletag.cmd.push(function(){var n=y("gpt")||{};t=t||e.gpt.slot,t.addService(googletag.pubads()),n.companions&&!1!==e.companion&&t.addService(googletag.companionAds())}),this},setCollapseEmpty:function(){var t=this;return window.googletag.cmd.push(function(){var e=t.collapseEmpty||y("collapseEmpty");!0===e||"after"===e?t.gpt.slot.setCollapseEmptyDiv(!0):"before"===e?t.gpt.slot.setCollapseEmptyDiv(!0,!0):!1!==e&&"never"!==e||t.gpt.slot.setCollapseEmptyDiv(!1)}),this},submitGptImpression:function(){if(this.outOfPage&&this.gpt.iframe){var t=function(t){var e=t.contentWindow.document.querySelector("[data-o-ads-impression-url]");return e?e.dataset.oAdsImpressionUrl:(b.log.warn("Impression URL not found, this is set via a creative template."),!1)}(this.gpt.iframe);t&&b.attach(t,!0,function(){b.log.info("Impression Url requested")},function(){b.log.info("CORS request to submit an impression failed")},!0)}else b.log.warn("Attempting to call submitImpression on a non-oop slot")},setURL:function(t){var e=this;return window.googletag.cmd.push(function(){t=t||e.gpt.slot;var n=y("canonical");t.set("page_url",n||b.getLocation())}),this},setTargeting:function(t){var e=this;return window.googletag.cmd.push(function(){t=t||e.gpt.slot,b.isPlainObject(e.targeting)&&Object.keys(e.targeting).forEach(function(n){t.setTargeting(n,e.targeting[n])})}),this}};t.exports.init=r,t.exports.updateCorrelator=m,t.exports.updatePageTargeting=v,t.exports.clearPageTargetingForKey=c,t.exports.debug=function(){var t=b.log,e=y("gpt");e&&(t.start("gpt"),t.attributeTable(e),t.end())}},function(t,e,n){"use strict";function r(){this.customAttributes={}}var o=n(2),i=n(5),a=n(6),s=n(14);r.prototype.add=function(t){o.extend(!0,this.customAttributes,t)},r.prototype.sendNewPixel=function(t){var e=window.Krux&&window.Krux("require:pixel");e&&e.send&&(t?e.send():e.send("",!1))},r.prototype.init=function(){var t=this;if(this.config=i("krux"),this.config&&this.config.id){window.Krux||((window.Krux=function(){window.Krux.q.push(arguments)}).q=[]),this.api=window.Krux,this.config.attributes&&this.add(this.config.attributes),this.setAllAttributes();var e=void 0,n=o.getLocation().match(/\bkxsrc=([^&]+)/);n&&(e=decodeURIComponent(n[1]));var r=/^https?:\/\/([^\/]+\.)?krxd\.net(:\d{1,5})?\//i.test(e)?e:"disable"===e?"":"//cdn.krxd.net/controltag/"+this.config.id+".js",a=function(){t.kruxScript=o.attach(r,!0,function(){o.broadcast("kruxScriptLoaded")}),t.events.init()};setTimeout(function(){"requestIdleCallback"in window?requestIdleCallback(a):a()},1e3),s.add(this.targeting()),o.on("kruxScriptLoaded",this.consents)}},r.prototype.retrieve=function(t){var e=void 0;return t="kx"+t,window.localStorage&&localStorage.getItem(t)?e=localStorage.getItem(t):o.cookie(t)&&(e=o.cookie(t)),e},r.prototype.segments=function(){return this.retrieve("segs")},r.prototype.targeting=function(){var t=this.segments();return t&&(t=t.split(","),i("krux").limit&&(t=t.slice(0,i("krux").limit))),{kuid:this.retrieve("user"),kxid:this.retrieve("kuid"),ksg:t,khost:encodeURIComponent(location.hostname),bht:t&&t.length>0?"true":"false"}},r.prototype.events={delegated:function(t){if(window.addEventListener&&t){var e=this.fire,n=function(n){return function(){e(t[n].id)}};window.addEventListener("load",function(){var e=new a(document.body);for(var r in t)t.hasOwnProperty(r)&&e.on(t[r].eType,t[r].selector,n(r))},!1)}}},r.prototype.events.fire=function(t,e){return!!t&&(e=o.isPlainObject(e)?e:{},window.Krux("admEvent",t,e))},r.prototype.events.init=function(){var t=void 0,e=i("krux")&&i("krux").events;if(o.isPlainObject(e))for(t in e)o.isFunction(this[t])?this[t](e[t]):o.isFunction(e[t].fn)&&e[t].fn(e[t])},r.prototype.setAttributes=function(t,e){e&&Object.keys(e).forEach(function(n){window.Krux("set",t+n,e[n])})},r.prototype.setAllAttributes=function(){this.customAttributes&&(this.setAttributes("page_attr_",this.customAttributes.page||{}),this.setAttributes("user_attr_",this.customAttributes.user||{}),this.setAttributes("",this.customAttributes.custom||{}))},r.prototype.resetAttributes=function(){var t=this;["user","page","custom"].forEach(function(e){t.customAttributes[e]&&Object.keys(t.customAttributes[e]).forEach(function(t){window.Krux("set","custom"===e?t:e+"_attr_"+t,null)})}),this.customAttributes={}},r.prototype.consents=function(){if(!localStorage.getItem("kxftconsent")){var t=localStorage.getItem("kxkuid");if(!t)return!1;var e="https://consumer.krxd.net/consent/set/bcbe1a6d-fa90-4db5-b4dc-424c69802310?idt=device&dt=kxcookie&dc=1&al=1&tg=1&cd=1&sh=1&re=1&idv="+t;fetch(e,{timeout:2e3}).then(function(){localStorage.setItem("kxftconsent",!0)}()).catch(function(){return Promise.resolve(o.log.warn("Fetch request failed to GET krux consent api"))})}},r.prototype.resetSpecificAttribute=function(t){this.customAttributes[t]&&(Object.keys(this.customAttributes[t]).forEach(function(e){window.Krux("set","custom"===t?e:t+"_attr_"+e,null)}),delete this.customAttributes[t])},r.prototype.debug=function(){var t=o.log;if(this.config){t.start("Krux"),t("%c id:","font-weight: bold",this.config.id),this.config.limit&&t("%c segment limit:","font-weight: bold",this.config.limit);var e=o.extend(!0,this.config.attributes,this.customAttributes);if(Object.keys(e).length>0&&(t.start("Attributes"),Object.keys(e).forEach(function(n){t.start(""+n),t.attributeTable(e[n]),t.end()}),t.end()),this.config.events){var n=this.config.events;t.start("Events"),t.start("Delegated"),t.table(n.delegated),t.end(),t.end()}var r=this.targeting();t.start("Targeting"),t.attributeTable(r),t.end();var i=Array.from(document.querySelectorAll(".kxinvisible"));i.length&&(t.start(i.length+" Supertag scripts"),i.forEach(function(e){t(e.dataset.alias,e.querySelector("script"))}),t.end()),t.end()}},t.exports=new r},function(t,e,n){"use strict";function r(){this.data=[],this.config={}}r.prototype.getUserData=function(t){return t?fetch(t,{timeout:2e3,useCorsProxy:!0,credentials:"include"}).then(function(t){return t.json()}).catch(function(){return Promise.resolve({})}):Promise.resolve({})},r.prototype.getPageData=function(t,e){return t?(e=e||2e3,fetch(t,{timeout:e,useCorsProxy:!0}).then(function(t){return t.json()}).catch(function(){return Promise.resolve({})})):Promise.resolve({})},r.prototype.handleResponse=function(t){this.data=t;for(var e=0;e<t.length;e++){var n=t[e],r=["user","page"],o={};if(n.krux&&n.krux.attributes&&(o[r[e]]=this.instance.utils.buildObjectFromArray(n.krux.attributes),this.instance.krux.add(o)),n.dfp&&n.dfp.targeting&&this.instance.targeting.add(this.instance.utils.buildObjectFromArray(n.dfp.targeting)),this.config.usePageZone&&n.dfp&&n.dfp.adUnit){var i=this.instance.config("gpt");i&&i.zone&&(i.zone=n.dfp.adUnit.join("/"))}}return t},r.prototype.init=function(t,e){return this.config=t,this.instance=e,t?Promise.all([this.getUserData(t.user),this.getPageData(t.page)]).then(this.handleResponse.bind(this)):Promise.resolve()},r.prototype.reset=function(){var t=this;this.instance.krux.resetAttributes(),this.data.forEach(function(e){e.dfp&&e.dfp.targeting&&e.dfp.targeting.forEach(function(e){t.instance.targeting.remove(e.key),t.instance.gpt.clearPageTargetingForKey(e.key)})})},t.exports=new r},function(t,e){t.exports={name:"o-ads",version:"9.2.0",main:["main.scss","main.js"],ignore:[],dependencies:{ftdomdelegate:"^2.0.3","o-viewport":">=1.5.0 < 4","o-grid":"^4.0.0","o-visual-effects":"^2.0.0","o-colors":"^4.0.0"},devDependencies:{"jquery-1.7.2.min":"https://code.jquery.com/jquery-1.7.2.min.js","sinon-1.10.3":"http://sinonjs.org/releases/sinon-1.10.3.js","sinon.ie.timers-1.10.3":"http://sinonjs.org/releases/sinon-timers-ie-1.10.3.js"}}},function(t,e,n){"use strict";var r=n(0).broadcast,o=n(54),i=function(t){return{category:"ads",action:t,context:{provider:"sourcepoint"}}};t.exports={init:function(t){if(/spoor-id/.test(document.cookie)&&t&&t.get("sourcepoint")){document.addEventListener("sp.blocking",function(){document.documentElement.classList.add("isAdBlocking"),r("oTracking.event",i("blocked")),t.get("adCounterBlocking")&&o(t)}),document.addEventListener("sp.not_blocking",function(){r("oTracking.event",i("unblocked"))});var e=document.createElement("script");e.async=e.defer=!0,e.src="https://www.ft.com/__assets/creatives/ad-blocking/sourcepoint-script-09-05-2018.js",e.setAttribute("data-client-id","pHQAcgfacNTVtzm"),document.body.appendChild(e)}}}},function(t,e,n){"use strict";function r(t){return new RegExp("(?:(?:^|.*;\\s*)"+t+"\\s*=\\s*([^;]*).*$)|^.*$")}function o(t){return Object.keys(t).map(function(e){var n=e;return"maxAge"===e&&(n="max-age"),t[e]instanceof Date&&(t[e]=t[e].toUTCString()),n+"="+t[e]})}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o(n).join("; "),i=encodeURIComponent(t)+"="+encodeURIComponent(e)+"; "+r;document.cookie=i}function a(t){return decodeURIComponent(document.cookie.replace(r(encodeURIComponent(t)),"$1"))}function s(t){return new RegExp(encodeURIComponent(t)+"=").test(document.cookie)}function c(t){return i(t,"",{expires:new Date(0)})}t.exports={get:a,set:i,has:s,getRegexForName:r,remove:c}},function(t,e,n){"use strict";function r(t){if(!1===i.test(t))return t;for(var e=t.length;e>-1;){var n=o[t[e]];n&&(t=t.substr(0,e)+n+t.substr(e+1)),e--}return t}var o={"":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"c","":"c","":"e","":"e","":"e","":"e","":"e","":"g","":"i","":"i","":"i","":"i","":"i","":"l","":"n","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oe","":"s","":"s","":"s","":"ss","":"u","":"u","":"u","":"u","":"u","":"z"},i=/[^\x00-\x7F]+/;t.exports=r},function(t,e,n){"use strict";var r=n(55),o=n(64),i=["article","front-page","stream-page"];t.exports=function(t){if(!(window.innerWidth<980)){var e=document.querySelector(".js-success"),n=e&&e.dataset&&e.dataset.nextApp;if(-1!==i.indexOf(n)&&("article"!==n||!document.querySelector(".content__video"))){var a={};t.get("registeredAdBlockingCohort")&&(a.close=!1,a.type="overlay"),t.get("subsB2cAdBlockingCohort")&&(a.close=!0,a.type=o()),a.type&&r(a)}}}},function(t,e,n){"use strict";var r=n(0).broadcast,o=n(56),i=n(62);t.exports=function(t){switch(t&&t.type){case"overlay":o(t);break;case"banner":i(t);break;default:return}r("oTracking.event",function(t){return{category:"ads",action:"counter-ad-blocking",context:{type:t.type,close:t.close,action:"shown"}}}(t))}},function(t,e,n){"use strict";var r=n(24),o=n(61);t.exports=function(t){var e={html:o(t),modal:!0,preventclosing:t&&!1===t.close,customclose:t&&!1!==t.close};new r("counter-ad-block",e).open(),document.body.classList.add("counter-adblock__prevent-scroll"),document.documentElement.classList.add("counter-adblock__prevent-scroll");var n=function t(){document.removeEventListener("oOverlay.destroy",t),document.body.classList.remove("counter-adblock__prevent-scroll"),document.documentElement.classList.remove("counter-adblock__prevent-scroll")};document.addEventListener("oOverlay.destroy",n)}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(6),a=n(3),s=n(58),c=n(60),u={},l=function(t){if(!t.trigger||t.trigger instanceof HTMLElement||(t.trigger=document.querySelector(t.trigger)),t.heading&&(!t.heading.title||!t.heading.title.trim()))throw new Error('"o-overlay error": To have a heading, a non-empty title needs to be set');if(void 0===t.modal&&(t.modal=!0),void 0===t.layer&&(t.layer=!0),t.compact&&t.heading&&t.heading.shaded)throw new Error('"o-overlay error": Compact overlays can\'t have a shaded header');return t.parentNode&&(console.warn("Please change the instantation of o-overlay to use the `parentnode` option instead of `parentNode`. `parentNode` will be removed in a future major version."),t.parentnode=t.parentNode),t.noFocus&&(console.warn("Please change the instantation of o-overlay to use the `nofocus` option instead of `noFocus`. `noFocus` will be removed in a future major version."),t.nofocus=t.noFocus),t},d=function(t){var e={};return t instanceof HTMLElement&&(Array.prototype.forEach.call(t.attributes,function(t){if(0===t.name.indexOf("data-o-overlay")){var n=t.name.replace("data-o-overlay-","");e=c.optionsFromKey(n,t.value,e)}}),e.trigger=t),e},f=function(t,e){e.stopPropagation();var n=u[t];n&&(!0===n.visible?n.close():n.open())},p=function(t,e){u[t]&&console.warn('o-overlay with id "'+t+'" already exists. Creating an overlay twice with the same id may result in unexpected behaviour. This will error in the next major release of o-overlay.'),a.listenTo("resize"),this.visible=!1,this.id=t;try{this.opts=l(e)}catch(t){throw this.broadcast("log","oErrors",{error:t}),t}if(!this.opts){var n=new Error('"o-overlay error": Required options have not been set');throw this.broadcast("log","oErrors",{error:n}),n}this.opts.trigger?(this.opts.trigger.addEventListener("click",f.bind(this.opts.trigger,t),!1),this.context=s.getLayerContext(this.opts.trigger)):document.querySelector(this.opts.parentnode)?this.context=document.querySelector(this.opts.parentnode):this.context=document.body,this.delegates={doc:new i,wrap:new i,context:new i},u[t]=this};p.prototype.open=function(){if((this.opts.modal||this.opts.fullscreen)&&(this.originalOverflow=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden"),window.history.pushState&&this.opts.fullscreen&&(window.history.pushState(o({},"o-overlay-"+this.id,"fullscreen"),window.location.href),this.popstateHandler=function(){window.history.state&&window.history.state["o-overlay-"+this.id]&&this.close()}.bind(this),window.addEventListener("popstate",this.popstateHandler)),this.opts.trigger&&this.opts.trigger.setAttribute("aria-pressed","true"),this.content)this.show();else{var t=this;this.loadContent(function(e){if(t.opts.html=e,!t.opts.html)throw new Error('"o-overlay error": Content for the overlay needs to be set via the "html" or the "src" option.');t.render()})}},p.prototype.loadContent=function(t){!this.opts.html&&this.opts.src?/^(https?\:\/)?\//.test(this.opts.src)?c.copyContentFromUrl(this.opts.src,function(e){t(e)}):c.copyContentFromElement(document.querySelector(this.opts.src),function(e){t(e)}):t(this.opts.html)},p.prototype.render=function(){var t=document.createElement("div");if(t.className="o-overlay",t.classList.add("o-overlay--"+this.id.replace(" ","-")),this.opts.class)try{var e;(e=t.classList).add.apply(e,r(this.opts.class.split(" ")))}catch(t){console.warn("Could not add the classes: "+this.opts.class)}if(this.opts.fullscreen&&t.classList.add("o-overlay--full-screen"),t.setAttribute("role","dialog"),this.opts.zindex&&(t.style.zIndex=this.opts.zindex),this.wrapper=t,this.opts.heading){var n=document.createElement("header"),o=this.opts.heading.title.replace(" ","-").toLowerCase();if(n.classList.add("o-overlay__heading"),n.setAttribute("id",o),t.setAttribute("aria-labelledby",o),this.opts.heading.shaded&&n.classList.add("o-overlay__heading--shaded"),!this.opts.preventclosing){var i=document.createElement("a");i.className="o-overlay__close",i.setAttribute("role","button"),i.setAttribute("href","#void"),i.setAttribute("aria-label","Close"),i.setAttribute("title","Close"),this.opts.nofocus||i.setAttribute("tabindex","0"),n.appendChild(i)}var a=document.createElement("span");a.setAttribute("role","heading"),a.className="o-overlay__title",this.opts.heading.visuallyHideTitle||(a.innerHTML=this.opts.heading.title),n.appendChild(a),t.appendChild(n)}if(this.opts.tooltip){var s=document.createElement("a");s.className="o-overlay__close",s.setAttribute("role","button"),s.setAttribute("href","#void"),s.setAttribute("aria-label","Close"),s.setAttribute("title","Close"),this.opts.nofocus||s.setAttribute("tabindex","0"),t.appendChild(s),t.classList.add("o-overlay--compact")}var c=document.createElement("section");c.className="o-overlay__content",t.appendChild(c),this.content=c,this.opts.compact&&t.classList.add("o-overlay--compact"),this.show()},p.prototype.show=function(){if(this.opts.modal){this.wrapper.classList.add("o-overlay--modal");var t=document.createElement("div");t.className="o-overlay-shadow",this.shadow=t,document.body.appendChild(t)}this.delegates.doc.root(document.body),this.delegates.wrap.root(this.wrapper),this.delegates.context.root(this.context),this.closeHandler=this.close.bind(this),this.opts.nested||(this.resizeListenerHandler=this.resizeListener.bind(this),this.delegates.doc.on("oViewport.resize","body",this.resizeListenerHandler),this.closeOnEscapePressHandler=this.closeOnEscapePress.bind(this),this.delegates.doc.on("keyup",this.closeOnEscapePressHandler)),this.opts.layer&&(this.closeOnNewLayerHandler=this.closeOnNewLayer.bind(this),this.delegates.context.on("oLayers.new",this.closeOnNewLayerHandler),this.broadcast("new","oLayers")),(this.opts.heading||this.opts.tooltip||this.opts.customclose)&&(this.delegates.wrap.on("click",".o-overlay__close",this.closeHandler),this.delegates.wrap.on("touchend",".o-overlay__close",this.closeHandler)),this.closeOnExternalClickHandler=this.closeOnExternalClick.bind(this),this.delegates.doc.on("click","body",this.closeOnExternalClickHandler),this.delegates.doc.on("touchend","body",this.closeOnExternalClickHandler),this.context.appendChild(this.wrapper),this.opts.nofocus||(this.wrapper.setAttribute("tabindex","0"),this.wrapper.style.outline=0),window.requestAnimationFrame(function(){this.content.innerHTML||("string"==typeof this.opts.html?this.content.innerHTML=this.opts.html:this.content.appendChild(this.opts.html)),this.width=this.getWidth(),this.height=this.getHeight(),this.opts.nested||this.realign(),this.visible=!0,this.wrapper.focus(),this.broadcast("ready"),this.broadcast("event","oTracking",{category:"overlay",action:"show",overlay_id:this.id})}.bind(this))},p.prototype.close=function(){return this.delegates.doc.destroy(),this.delegates.wrap.destroy(),this.delegates.context.destroy(),(this.opts.modal||this.opts.fullscreen)&&(document.documentElement.style.overflow=this.originalOverflow),this.opts.fullscreen&&window.removeEventListener("popstate",this.popstateHandler),window.history.pushState&&window.history.state&&"fullscreen"===window.history.state["o-overlay-"+this.id]&&window.history.back(),a.stopListeningTo("resize"),this.broadcast("destroy"),this.broadcast("event","oTracking",{category:"overlay",action:"close",overlay_id:this.id}),this.context.removeChild(this.wrapper),this.opts.modal&&this.shadow.parentNode.removeChild(this.shadow),this.opts.trigger&&(this.opts.trigger.focus(),this.opts.trigger.setAttribute("aria-pressed","false")),this.visible=!1,this.opts.layer&&this.broadcast("close","oLayers"),!1},p.prototype.closeOnExternalClick=function(t){this.wrapper.contains(t.target)||this.opts.modal||!this.opts.trigger||this.opts.trigger.contains(t.target)||this.close()},p.prototype.closeOnEscapePress=function(t){this.opts.preventclosing||27!==t.keyCode||this.close()},p.prototype.closeOnNewLayer=function(t){t.detail&&t.detail.el===this||this.close()},p.prototype.resizeListener=function(t){this.wrapper.contains(t.target)||this.respondToWindow()},p.prototype.broadcast=function(t,e,n){e=e||"oOverlay";var r="oLayers"===e?this.context:this.wrapper||document.body;n=n||{},"oTracking"!==e&&(n.el=this),r.dispatchEvent(new CustomEvent(e+"."+t,{detail:n,bubbles:"oLayers"!==e}))},p.prototype.realign=function(t,e){return t||e?t&&!e?void this._align(t,a.getSize().dimension):void this._align(t,e):(this._align("width",a.getSize().width),void this._align("height",a.getSize().height))},p.prototype._align=function(t,e){if("width"!==t&&"height"!==t)throw new Error('Can not realign the overlay for the dimension "'+t+'". "height" or "width" expected.');if(isNaN(e))throw new Error("Can not realign the overlay for the size "+e+". A number is expected.");var n="width"===t?"left":"top";if(this.width=this.getWidth(),this.height=this.getHeight(),e<=this[t]){if(this.wrapper.classList.add("o-overlay--full-"+t),this.wrapper.style[n]="0",this.wrapper.style["margin"+c.capitalise(n)]=0,"height"===t){var r=this.wrapper.offsetHeight-this.wrapper.clientHeight;this.content.style.height=this.wrapper.offsetHeight-(this.opts.heading?this.wrapper.querySelector("header").offsetHeight:0)-r+"px"}}else"height"===t&&(this.content.style.height=null),this.wrapper.classList.remove("o-overlay--full-"+t),this.wrapper.style["margin"+c.capitalise(n)]=-this.wrapper["offset"+c.capitalise(t)]/2+"px",this.wrapper.style[n]="50%"},p.prototype.respondToWindow=function(){this.realign()},p.prototype.fills=function(t){return this.wrapper.classList.contains("o-overlay--full-"+t)},p.prototype.destroy=function(){!0===this.visible&&this.close(),this.opts.trigger&&this.opts.trigger.removeEventListener("click",f),delete u[this.id]},p.prototype.getHeight=function(){var t=this.wrapper.offsetHeight-this.wrapper.clientHeight;return this.content.scrollHeight+(this.opts.heading?this.wrapper.querySelector("header").offsetHeight:0)+t},p.prototype.getWidth=function(){var t=this.wrapper.offsetWidth-this.wrapper.clientWidth;return this.content.scrollWidth+t},p.init=function(t){t||(t=document.body),t instanceof HTMLElement||(t=document.querySelector(t));for(var e=t.querySelectorAll(".o-overlay-trigger"),n=[],r=0;r<e.length;r++)u[e[r].getAttribute("data-o-overlay-id")]||n.push(new p(e[r].getAttribute("data-o-overlay-id"),d(e[r])));return n},p.destroy=function(){Object.keys(u).forEach(function(t){u[t].destroy()})},p.getOverlays=function(){return u},t.exports=p},function(t,e,n){"use strict";var r=n(59);t.exports={getLayerContext:function(t){return r.getClosestMatch(t,".o-layers__context")||document.body}}},function(t,e,n){"use strict";function r(t,e){for(;t;){if(t.matches(e))return t;t=t.parentElement}return!1}function o(t){var e=0;if(t&&"object"===(void 0===t?"undefined":i(t))&&1===t.nodeType){for(;t.previousSibling;)t=t.previousSibling,1===t.nodeType&&++e;return e}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getClosestMatch=r,e.getIndex=o},function(t,e,n){"use strict";t.exports={unCapitalise:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},capitalise:function(t){return t.charAt(0).toUpperCase()+t.substr(1)},copyContentFromElement:function(t,e){e("SCRIPT"===t.nodeName?t.innerHTML:t.outerHTML)},copyContentFromUrl:function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onload=function(){4===n.readyState&&e(200===n.status?n.responseText:"Content failed to load correctly")},n.onerror=function(e){throw new Error('"o-overlay error": Fetching content from '+t+" failed with errror "+e)},n.send(null)},optionsFromKey:function(t,e,n){var r=t.indexOf("-");if(-1===r)try{n[t]=JSON.parse(e.replace(/\'/g,'"'))}catch(r){n[t]=e}else{var o=t.substr(0,r);n[o]||(n[o]={}),n[o]=this.optionsFromKey(t.substr(r+1),e,n[o])}return n},getOffsetRect:function(t){var e=t.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft,a=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0;return{width:e.width||e.right-e.left,height:e.height||e.bottom-e.top,top:e.top+o-a,left:e.left+i-s}}}},function(t,e,n){"use strict";t.exports=function(t){var e="";return t&&!0===t.close&&(e='<a class="o-overlay__close" role="button" tabindex="0" href="javascript:void(0)" data-trackable="close" aria-label="Close" title="Close"></a>'),'\n\t\t<div tabindex="-1" class="o-grid-container counter-adblock" data-trackable="counter-adblock-overlay">\n\t\t\t<div class="o-grid-row">\n\t\t\t\t<div class="counter-adblock__block--left" data-o-grid-colspan="12 L7">\n\t\t\t\t\t<h2 class="counter-adblock__title">We understand your decision to use an ad blocker</h2>\n\t\t\t\t\t<p class="counter-adblock__text">However FT journalism requires funding from both subscriptions and advertising.</p>\n\t\t\t\t\t<p class="counter-adblock__text">Please <span class="counter-adblock__text--bold">whitelist ft.com in your ad blocker</span> then refresh your browser to '+(t&&!0===t.close?"support our journalism":"continue")+'.</p>\n\t\t\t\t\t<button onclick="location.href = \'http://help.ft.com/help/advertising/\';" class="counter-adblock__button o-buttons o-buttons--inverse o-buttons--big" data-trackable="help-centre">Help Centre</button>\n\t\t\t\t\t<ul class="counter-adblock__list">\n\t\t\t\t\t\t<li class="counter-adblock__list-item">\n\t\t\t\t\t\t\t<a class="counter-adblock__link" href="http://help.ft.com/help/advertising/advertising-on-the-ft/what-is-the-fts-advertising-policy/" data-trackable="advertising-policy" data-original-title="" title="">FT advertising policy</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="counter-adblock__list-item">\n\t\t\t\t\t\t\t<a class="counter-adblock__link" href="http://help.ft.com/help/contact-us/" data-trackable="contact-us" data-original-title="" title="">Contact Us</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="counter-adblock__list-item">\n\t\t\t\t\t\t\t<a class="counter-adblock__link" href="http://help.ft.com/help/legal/your-privacy-and-adblocking-detection/" data-trackable="privacy" data-original-title="" title="">Privacy</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t\t<div class="counter-adblock__block--right" data-o-grid-colspan="12 L5">\n\t\t\t\t\t<img class="counter-adblock__image" src="https://www.ft.com/__origami/service/image/v2/images/raw/https://www.ft.com/__assets/creatives/ad-blocking/browser-frontpage-whitelisting.svg%3Fcachebust%3D21-02-2017?source=next&quality=highest&dpr=2" alt="How to whitelist ft.com" role="presentation">\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t'+e+"\n\t\t</div>\n\t"}},function(t,e,n){"use strict";var r=n(11).local,o=n(0).broadcast,i=n(63),a=n(25);t.exports=function(t){var e=function(){return{category:"ads",action:"counter-ad-blocking",context:{type:"banner",close:"true",action:"closed"}}},n=function(){var t=document.querySelector(".counter-adblock__banner");t&&(t.parentNode.removeChild(t),r.set("counter-ad-blocking-closed",a()),o("oTracking.event",e()))},s=document.createElement("div");s.classList.add("counter-adblock__banner"),s.dataset.trackable="counter-adblock-banner",s.innerHTML=i(t),document.body.append(s),document.body.classList.add("counter-adblock__banner-margin"),document.querySelector(".o-overlay__close").onclick=n}},function(t,e,n){"use strict";t.exports=function(t){var e="";return t&&!0===t.close&&(e='<a class="o-overlay__close" role="button" tabindex="0" href="javascript:void(0)" data-trackable="close" aria-label="Close" title="Close"></a>'),'\n\t\t<div class="o-grid-container counter-adblock">\n\t\t\t<div data-o-grid-colspan="12 L8 XL7" class="counter-adblock__text">\n\t\t\t\t<p><span class="counter-adblock__text--bold">Please whitelist FT.com in your ad blocker.</span><br/>Our journalism requires funding from both subscription and advertising.</p>\n\t\t\t</div>\n\t\t\t<div data-o-grid-colspan="12 L2 XL3">\n\t\t\t\t<button onclick="location.href = \'https://help.ft.com/help/advertising/ad-blocking/how-do-i-whitelist-ft-com-in-my-ad-blocker/\';" class="counter-adblock__button o-buttons o-buttons--inverse o-buttons--big" data-trackable="help-centre">See how to whitelist</button>\n\t\t\t</div>\n\t\t\t<div data-o-grid-colspan="12 M1">\n\t\t\t\t<a class="counter-adblock__link" href="http://help.ft.com/help/legal/your-privacy-and-adblocking-detection/" data-trackable="privacy" data-original-title="" title="">Privacy</a>\n\t\t\t</div>\n\t\t\t<div data-o-grid-colspan="12 M1">\n\t\t\t\t'+e+"\n\t\t\t</div>\n\t\t</div>\n\t"}},function(t,e,n){"use strict";var r=n(11).local,o=n(25);t.exports=function(){var t=r.get("counter-ad-blocking-seen")===o(),e=r.get("counter-ad-blocking-closed")===o(),n=r.get("counter-ad-blocking-days")||0;return!e&&(t?"banner":n<3&&(n++,r.set("counter-ad-blocking-seen",o()),r.set("counter-ad-blocking-days",n),"banner"))}},function(t,e,n){"use strict";var r=n(12),o=new r("session","next-krux"),i=n(9),a=function(t){(new Image).src=t},s=function(t,e,n){var r="scriptExecCount_"+t;o.get(r).then(function(t){t=t||0,parseInt(t)<e&&(n(),o.set(r,++t).catch(function(){}))}).catch(function(){})};e.init=function(t){document.body.addEventListener("oAds.kruxScriptLoaded",function(){if(void 0!==window.Krux&&r.isPersisting()){var e=i.krux.retrieve("kuid");e&&void 0!==e&&(t.get("kruxGoogleIntegration")&&s("doubleclick",2,function(){a("https://usermatch.krxd.net/um/v2?partner=google")}),t.get("kruxAcxiomIntegration")&&s("acxiom",2,function(){a("https://idsync.rlcdn.com/379708.gif?partner="+e)}),t.get("kruxExelateIntegration")&&s("exelate",2,function(){a("https://loadm.exelator.com/load?_kdpid=e4942ff0-4070-4896-a7ef-e6a5a30ce9f9&buid="+e+"&p=204&g=270&j=0")}))}})}},function(t,e,n){"use strict";var r=n(26),o=n(67),i=n(9).utils.extend;t.exports=function(t,e,n){function a(){var t="0%",n=e,o=r.getScreenSize();return o<980&&!/^article/.test(n)&&(/^front/.test(n)&&(t=o<760?"15%":"5%"),/^stream/.test(n)&&(t=o<760?"5%":"15%")),t}n=n||{};var s=i({pt:e.toLowerCase().substr(0,3),nlayout:r.getLayoutName(),mvt:r.getABTestState()}),c=t.get("krux")&&!n.noTargeting&&{id:"KHUSeE3x",attributes:{user:{},page:{}}};return{gpt:{network:"5887",site:o.isActive()?"sandbox.next.ft":"ft.com",zone:function(){var t=[r.getMetaData("dfp_site"),r.getMetaData("dfp_zone")].filter(function(t){return t});return t.length||(t=["unclassified"]),t.join("/")}()},formats:{PaidPost:{sizes:"fluid"}},responsive:{extra:[1025,0],large:[980,0],medium:[760,0],small:[0,0]},krux:c,collapseEmpty:"before",dfp_targeting:r.keyValueString(s),lazyLoad:function(){return(!/^front/.test(e)||!t.get("noLazyLoadingFrontPage"))&&{viewportMargin:a()}}(),targetingApi:n.noTargeting?null:{user:"https://ads-api.ft.com/v1/user",page:function(t){var e=void 0,n=void 0;if("article"===t){e=document.documentElement.getAttribute("data-content-id");var o=r.getReferrer();n="https://ads-api.ft.com/v1/content/"+e,o&&(n+="?referrer="+encodeURIComponent(o.split(/[?#]/)[0]))}else"stream-page"===t&&(e=document.documentElement.getAttribute("data-concept-id"),n="https://ads-api.ft.com/v1/concept/"+e);return n}(e),usePageZone:!0},disableConsentCookie:t.get("adsDisableCookieConsent"),validateAdsTraffic:t.get("moatAdsTraffic")}}},function(t,e,n){"use strict";function r(){return location.hash.indexOf("adsandbox")>-1}t.exports.isActive=r},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){var n=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;if(n&&n.mark&&t){var a=o(n,t),s=i(n,t);(0,r.broadcast)("oTracking.event",{category:"ads",action:"first-load",timings:{offsets:a,marks:s},creative:{id:e.gpt.creativeId,serviceName:e.gpt.serviceName,size:e.container.getAttribute("data-o-ads-loaded")}})}};var o=function(t,e){var n={};return Object.keys(e).forEach(function(r){n[r]={domContentLoadedEventEnd:e[r]-t.timing.domContentLoadedEventEnd,loadEventEnd:e[r]-t.timing.loadEventEnd,domInteractive:e[r]-t.timing.domInteractive}}),n},i=function(t,e){var n={};return t.getEntriesByName&&Object.keys(e).forEach(function(e){t.getEntriesByName(e).forEach(function(t){n[t.name]=Math.round(t.startTime)})}),n}},function(t,e,n){"use strict";function r(t){return[].slice.call(t)}function o(t){return document.documentElement.getAttribute("data-"+t)}function i(t){var e=new RegExp("[?&]"+t+"=([^?&]+)");return(String(window.location.search).match(e)||[])[1]}var a=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=n(0),c=n(16),u=n(19),l=n(3),d=n(32),f={init:function(t,e){if(t&&t.get("oTracking")){try{var n={layout:u.getCurrentLayout(),orientation:l.getOrientation()},f=navigator.connection||navigator.mozConnection||navigator.webkitConnection;f&&f.type&&(n.connectionType=f.type);var p={product:e&&e.product||"next",app:e&&e.name,appVersion:e&&e.version},h=o("content-id");h&&(p.rootContentId=h);var g=o("concept-idv1")||o("concept-id");g&&(p.rootConceptId=g,p.rootConceptIdV1=o("concept-idv1"),p.rootTaxonomy=o("taxonomy"));var m=(/nextErrorStatus=(\d{3})/.exec(window.location.search)||[])[1],v=(/nextErrorReason=(\w+)/.exec(window.location.search)||[])[1],y={context:{}};m&&(p.url=y.context.url=window.parent.location.toString(),p.referrer=y.context.referrer=window.parent.document.referrer,p.errorStatus=y.context.errorStatus=m,v&&(p.errorReason=y.context.errorReason=v));var b=document.querySelector("[data-next-edition]");b&&(p.edition=b.getAttribute("data-next-edition"));var w=i("segmentId");w&&(p.marketing_segment_id=w);var E=i("cpccampaign");E&&(p.cpc_campaign=E);var _=window.FT&&window.FT.pageMeta;if(_&&_===Object(_))for(var S in _)_.hasOwnProperty(S)&&(p[S]=_[S]);var A=o("ab-state");if(A){var k=A;"-"!==A&&(k={},A.split(",").map(function(t){var e=t.split(":"),n=a(e,2),r=n[0],o=n[1];k[r]=o})),p.active_ammit_flags=k}if(c.init({server:"https://spoor-api.ft.com/ingest",context:p,user:n,useSendBeacon:t.get("sendBeacon")}),"/"===location.pathname){var T=[].slice.call(document.querySelectorAll("[data-trackable-context-headline-variant]")),x=T.every(function(t,e,n){return t.getAttribute("href")===n[0].getAttribute("href")});if(T.length&&x){y.context["headline-variant"]=T[0].getAttribute("data-trackable-context-headline-variant");var L=T[0].getAttribute("href").replace("/content/","");y.context["headline-uuid"]=L}}var C=document.querySelector("[data-barrier]"),O=document.querySelector("[data-barrier-is-product-selector]");if(C&&(y.context.barrier=!0,y.context.barrierType=C.getAttribute("data-barrier")),window!==window.top&&"errors-next.ft.com"!==window.location.hostname||c.page(y.context),C){var I=!!O&&"true"===O.getAttribute("data-barrier-is-product-selector"),P={type:I?"products":"barrier",subtype:C.getAttribute("data-opportunity-subtype")||C.getAttribute("data-barrier")},N=document.querySelectorAll("[data-offer-id]"),M=document.querySelectorAll("[data-acquisition-context]"),R=C.getAttribute("data-barrier-messaging"),D=(/barrierReferrer=(\w+)/.exec(window.location.search)||[])[1];(0,s.broadcast)("oTracking.event",Object.assign({category:"barrier",action:"view",opportunity:P,barrierReferrer:D,type:C.getAttribute("data-barrier"),commsType:R,acquisitionContext:r(M).map(function(t){return t.getAttribute("data-acquisition-context")}),offers:r(N).map(function(t){return t.getAttribute("data-offer-id")})},p))}}catch(t){(0,s.broadcast)("oErrors.log",{error:t,info:{message:"Failed to init o-tracking"}})}d.init()}}};t.exports=f},function(t,e,n){"use strict";!function(e){var n=0,r=Math.pow(36,4),o=function(t,e){var n="000000000"+t;return n.substr(n.length-e)},i=function(){return o((Math.random()*r<<0).toString(36),4)},a=function(){return n=n<r?n:0,++n-1},s=function(){var t,e=(new Date).getTime().toString(36),n=s.fingerprint(),r=i()+i();return t=o(a().toString(36),4),"c"+e+t+n+r};s.slug=function(){var t,e=(new Date).getTime().toString(36),n=s.fingerprint().slice(0,1)+s.fingerprint().slice(-1),r=i().slice(-2);return t=a().toString(36).slice(-4),e.slice(-2)+t+n+r},s.globalCount=function(){var t=function(){var t,e=0;for(t in window)e++;return e}();return s.globalCount=function(){return t},t},s.fingerprint=function(){return o((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+s.globalCount().toString(36),4)},t.exports=s}()},function(t,e,n){"use strict";t.exports={xhr:n(72),sendBeacon:n(73),image:n(74),get:function(t){return this.mock||this[t]}}},function(t,e,n){"use strict";t.exports=function(){var t=new window.XMLHttpRequest;return{send:function(e,n){t.open("POST",e,!0),t.withCredentials=!0,t.setRequestHeader("Content-type","application/json"),t.send(n)},complete:function(e){t.onerror=function(){e(this)},t.onload=function(){t.status>=200&&t.status<300?e():e("Incorrect response: "+t.status)}}}}},function(t,e,n){"use strict";t.exports=function(){var t=void 0,e=void 0,n=new Promise(function(n,r){t=n,e=r});return{send:function(n,r){navigator.sendBeacon(n,r)?t():e(new Error("Failed to send beacon event: "+r.toString()))},complete:function(t){t&&n.then(t,t)}}}},function(t,e,n){"use strict";var r=n(1);t.exports=function(){var t=new Image(1,1);return{send:function(e,n){t.src=e+(e.indexOf("?")>-1?"&":"?")+"data="+r.encode(n)},complete:function(e){t.addEventListener?(t.addEventListener("error",e),t.addEventListener("load",function(){return e()})):(t.attachEvent("onerror",e),t.attachEvent("onload",function(){return e()}))}}}},function(t,e,n){"use strict";function r(t,e){if(u.is(t.detail.category)||u.is(t.detail.action)){throw u.broadcast("oErrors","log",{error:"Missing category or action values",info:{module:"o-tracking"}}),"Missing category or action values"}var n=u.merge(l(),{category:t.detail.category,action:t.detail.action,context:t.detail});delete n.context.category,delete n.context.action;var r=o(t);r?(n.context.component_name=r.getAttribute("data-o-component"),n.context.component_id=n.context.component_id||i(r)):(n.context.component_name=n.context.component_name,n.context.component_id=n.context.component_id),c.track(n,e)}function o(t){var e=t.target||t.srcElement;if(e&&e.getAttribute("data-o-component"))return e}function i(t){var e=a(t);if(void 0!==e){var n=e[0],r=function(t){var e=t.parentElement;if(e){for(var r=0;r<e.childNodes.length;r++)if(e.childNodes[r]===n)return r;return-1}return 0}(n);return s(e.reduceRight(function(t,e){if(!e.nodeName)return t+" - "+e.constructor.name+"\n";var n=e.nodeName.toLowerCase();return 0===n.indexOf("#")?t+"<"+n+">":t+"<"+n+' id="'+(e.id||"")+'">'},"")+"_siblingIndex="+r)}}function a(t){for(var e=[];t;)e.push(t),t=t.parentElement;return e}function s(t){for(var e=t.length,n=1^e,r=0,o=void 0;e>=4;)o=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),o^=o>>>24,o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)^o,e-=4,++r;switch(e){case 3:n^=(255&t.charCodeAt(r+2))<<16;break;case 2:n^=(255&t.charCodeAt(r+1))<<8;break;case 1:n^=255&t.charCodeAt(r),n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16)}return n^=n>>>13,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),(n^=n>>>15)>>>0}var c=n(18),u=n(1),l=function(){return{category:"event",action:"generic",context:{}}};t.exports=r,t.exports.init=function(){u.addEvent(window,"oTracking.event",r)}},function(t,e,n){"use strict";function r(t,e){t=a.merge(c(),{context:t}),s.get("page_viewed")&&i.setRootID(),i.track(t,e),s.set("page_viewed",!0),a.triggerPage()}function o(t){r(t.detail)}var i=n(18),a=n(1),s=n(7);s.set("page_viewed",!1);var c=function(){return{category:"page",action:"view",context:{url:document.URL,referrer:document.referrer},async:!0}};t.exports=r,t.exports.init=function(){a.addEvent(window,"oTracking.page",o)}},function(t,e,n){"use strict";var r=n(6),o=n(31),i=n(18),a=n(1),s=n(7),c=void 0,u=["nodeName","className","id","href","text","role"],l=["ctrlKey","altKey","shiftKey","metaKey"],d=function(t){var e=t.context.domPathTokens[0],n=e.href||null,r=e["data-o-tracking-skip-queue"],o=r&&"true"===r.toLowerCase()||!1;n&&n.indexOf(window.document.location.hostname)>-1&&!o?(t.context.source_id=i.getRootID(),c.add(t).save()):(t.async=!1,i.track(t))},f=function(t){return"string"==typeof t?t.trim():t},p=function(t,e,n){var r=Array.from(t.querySelectorAll(n)),o=r.findIndex(function(t){return t===e});if(-1!==o)return{siblings:r.length,position:o}},h=function(t){return u.reduce(function(e,n){return t[n]?e[n]=f(t[n]):t.getAttribute(n)?e[n]=f(t.getAttribute(n)):t.hasAttribute(n)&&(e[n]=t.hasAttribute(n)),e},{})},g=function(t,e){return t.filter(function(t){return t.name.match(/^data-trackable|^data-o-|^aria-/i)}).forEach(function(t){e[t.name]=t.value}),e},m=function(t,e,n){var r={};return n&&u.forEach(function(t){void 0!==e[t]&&"id"!==t&&(r[t]=e[t])}),t.filter(function(t){return t.name.match(/^data-trackable-context-/i)}).forEach(function(t){r[t.name.replace("data-trackable-context-","")]=t.value}),r},v=function(t,e){for(var n in t)e[n]?console.warn("You can't set a custom property called "+n):e[n]=t[n]},y=function(t){for(var e=document,n=t,r=n.getAttribute("data-trackable")?'[data-trackable="'+n.getAttribute("data-trackable")+'"]':n.nodeName,o=[],i={};t&&t!==e;){var a=h(t),s=Array.from(t.attributes),c=g(s,a);c["data-trackable"]&&(c=Object.assign(c,p(t,n,r))),o.push(c);var u=m(s,a,t===n);v(u,i),t=t.parentNode}return{trace:o,customContext:i}},b=function(t){return l.reduce(function(e,n){try{t[n]&&(e[n]=f(t[n]))}catch(t){console.log(t)}return e},{})},w=function(t){return function(e,n){if("true"!==n.getAttribute("data-o-tracking-do-not-track")){var r=b(e),o=y(n),i=o.trace,c=o.customContext;r.domPathTokens=i,r.url=window.document.location.href||null,v(c,r),t.context=r;var u=a.merge(s.get("config"),t);d(u)}}},E=function t(e){var n=function(e){t()},r=c.shift();r&&i.track(r,n)},_=function(t,e){e=e||'a, button, input, [role="button"]';var n={action:"click",category:t||"o-tracking"};new r(document.body).on("click",e,w(n),!0),c=new o("clicks"),E(),a.onPage(E)};t.exports={init:_}},function(t,e,n){"use strict";var r=n(0).broadcast,o=["navigationStart","unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],i=function(t){var e=t.timing;return["navigationStart","domLoading"].reduce(function(t,n){var r=e[n];return t[n]=o.slice(o.indexOf(n)+1).reduce(function(t,n){var o=e[n];return o&&(t[n]=o-r),t},{}),t},{})},a=function(t){return t.getEntriesByType?t.getEntriesByType("mark").reduce(function(t,e){return t[e.name]=Math.round(e.startTime),t},{}):{}},s=function(t,e){var n={},r=t.chrome;if(r&&r.loadTimes){var o=r.loadTimes();n.firstPaint=Math.round(1e3*o.firstPaintTime-1e3*o.startLoadTime)}else"number"==typeof e.timing.msFirstPaint&&(n.firstPaint=e.timing.msFirstPaint-e.timing.navigationStart);return n},c=function(){};c.prototype.track=function(){window.addEventListener("load",function(){var t=window.performance||window.webkitPerformance||window.msPerformance||window.mozPerformance;if(!(t&&"timing"in t&&/spoor-id=0/.test(document.cookie)))return!1;setTimeout(function(){var e=i(t),n=a(t),o=s(window,t);r("oTracking.event",{category:"page-load",action:"timing",timings:{offsets:e,marks:n,custom:o}})},0)})},t.exports=c},function(t,e,n){"use strict";var r=n(0).broadcast,o=function(t){this.root=t||document};o.prototype.track=function(){this.root.addEventListener("copy",function(t){var e=t.target,n={action:"copy",category:"text",context:{nodeName:e.nodeName.toLowerCase(),product:"next"}};if(window.getSelection){var o=window.getSelection().toString();n.context.characters=o.length,n.context.words=Math.ceil(o.split(/\b/).length/2),o.length>100?n.selection=o.substr(0,47)+" ... "+o.substr(-47):n.selection=o}r("oTracking.event",n)})},t.exports=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(3),a=n(0).broadcast,s=["load","click","focus","scroll","mousemove","touchstart","touchend","touchcancel","touchleave"],c=["blur"],u=["beforeunload","unload","pagehide"],l=function(){function t(){r(this,t),this.totalAttentionTime=0,this.startAttentionTime,this.endAttentionTime,this.hasSentEvent=!1}return o(t,[{key:"init",value:function(){for(var t=this,e=0;e<s.length;e++)window.addEventListener(s[e],function(e){return t.startAttention(e)});for(var n=0;n<c.length;n++)window.addEventListener(c[n],function(e){return t.endAttention(e)});i.listenTo("visibility"),document.body.addEventListener("oViewport.visibility",function(e){return t.handleVisibilityChange(e)},!1),this.addVideoEvents(),u.forEach(function(e){window.addEventListener(e,function(){t.hasSentEvent||(t.hasSentEvent=!0,t.endAttention(),a("oTracking.event",{category:"page",action:"interaction",context:{attention:{total:t.totalAttentionTime}}}))})})}},{key:"startAttention",value:function(){var t=this;clearTimeout(this.attentionTimeout),this.startAttentionTime||(this.startAttentionTime=(new Date).getTime()),this.attentionTimeout=setTimeout(function(){return t.endAttention()},15e3)}},{key:"startConstantAttention",value:function(){var t=this;this.constantAttentionInterval=setInterval(function(){return t.startAttention()},15e3)}},{key:"endConstantAttention",value:function(){this.endAttention(),clearInterval(this.constantAttentionInterval)}},{key:"endAttention",value:function(){this.startAttentionTime&&(this.endAttentionTime=(new Date).getTime(),this.totalAttentionTime+=Math.round((this.endAttentionTime-this.startAttentionTime)/1e3),clearTimeout(this.attentionTimeout),this.startAttentionTime=null)}},{key:"get",value:function(){return this.endAttention(),this.startAttention(),this.totalAttentionTime}},{key:"addVideoEvents",value:function(){var t=this;this.videoPlayers=document.getElementsByTagName("video");for(var e=0;e<this.videoPlayers.length;e++)this.videoPlayers[e].addEventListener("playing",function(e){return t.startConstantAttention(e)}),this.videoPlayers[e].addEventListener("pause",function(e){return t.endConstantAttention(e)}),this.videoPlayers[e].addEventListener("ended",function(e){return t.endConstantAttention(e)})}},{key:"handleVisibilityChange",value:function(t){t.detail.hidden?this.endAttention():this.startAttention()}}]),t}();t.exports=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(6),a=function(t){return[].slice.call(t)},s=function(){function t(){r(this,t),this.delegate=new i}return o(t,[{key:"init",value:function(t){a(t.querySelectorAll("[role=main] section")).forEach(function(t){a(t.querySelectorAll("article")).forEach(function(t,e,n){a(t.querySelectorAll("a")).forEach(function(t){t.setAttribute("data-position",e+1),t.setAttribute("data-siblings",n.length)})})})}},{key:"destroy",value:function(){this.delegate.destroy()}}]),t}();t.exports=s},function(t,e,n){"use strict";t.exports=function(t){var e=!/FTSession/.test(document.cookie),n=/spoor-id=([^;]+)/.exec(document.cookie),r="https://4235225.fls.doubleclick.net/activityi;src=4235225",o=document.querySelector("[data-signup-country]"),i=document.querySelector("[data-signup-term]"),a=document.querySelector("[data-signup-offer]"),s=document.querySelector("[data-signup-is-trial]"),c=o?o.getAttribute("data-signup-country"):void 0,u=i?o.getAttribute("data-signup-term"):void 0,l=a?o.getAttribute("data-signup-offer"):void 0,d=/^\/signup/.test(location.pathname),f=/^\/thank-you/.test(location.pathname),p=s?"true"===s.getAttribute("data-signup-is-trial"):void 0,h=n?n[1]:"",g=Date.now(),m=function(t){(new Image).src=t;var e=new CustomEvent("oTracking.event",{detail:{category:"marketing-floodlight",action:"fired",data:{source:t}},bubbles:!0});document.body.dispatchEvent(e)};t&&t.get("floodlight")&&n&&(d?m(r+";type=signu107;cat=ft-ne00;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord="+g):p?m(r+";type=trans658;cat=ft-ne00;qty=1;u5="+l+";u7="+c+";u8="+u+";u10="+h+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord="+g):f?m(r+";type=trans658;cat=ft-ne0;qty=1;u5="+l+";u7="+c+";u8="+u+";u10="+h+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord="+g):e&&m(r+";type=homeo886;cat=ft-ne000;u10="+h+";dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord="+g+";num=1"))}},function(t,e,n){"use strict";var r=n(0),o=function(t){var e=document,n=e.createElement("script");n.src=t;var r=e.getElementsByTagName("script")[0];return r.parentNode.insertBefore(n,r.nextSibling),n},i=function(){window._sf_async_config={uid:14181,domain:"next.ft.com",useCanonical:!0},"/"===location.pathname&&document.querySelector("[data-next-edition]")&&(window._sf_async_config.path="/home/"+(document.querySelector("[data-next-edition]").getAttribute("data-next-edition")||"")),o("//static.chartbeat.com/js/chartbeat.js")};t.exports=function(t){if(t.get("chartbeatHud"))i();else if(t.get("chartbeat")){var e=r.cookieStore.get("spoor-id"),n=e.replace(/-/g,""),o=n.substring(n.length-12,n.length),a=parseInt(o,16);a%100<20&&i()}}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0).broadcast,i=function(t,e){return o("oTracking.event",{category:"page",action:"scrolldepth",componentId:t,componentPos:e})},a=function(t,e){return e.forEach(function(e){if(e.isIntersecting||e.intersectionRatio>0){var n=e.target,o=n.id||n.getAttribute("data-trackable"),a=[].concat(r(document.querySelectorAll(".js-track-scroll-event"))).findIndex(function(t){return(t.id||t.getAttribute("data-trackable"))===o});i(o,a+1),t.unobserve(n)}})},s=function(){if(!/spoor-id=0/.test(document.cookie)||!window.IntersectionObserver)return!1;var t=new IntersectionObserver(function(t){a(this,t)});[].concat(r(document.querySelectorAll(".js-track-scroll-event"))).forEach(function(e){t.observe(e)})};e.default={init:s},t.exports=e.default},function(t,e,n){"use strict";var r=n(0).broadcast,o=n(32),i=function(t,e){var n={action:"scrolldepth",category:"page",meta:{percentagesViewed:e,attention:o.attention.get()},context:{product:"next",source:t}};r("oTracking.event",n)},a={init:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.percentages,r=void 0===n?[25,50,75,100]:n,o=e.selector,a=void 0===o?"body":o;if(!t||!t.length)throw new Error("contextSource required");var s=function(e,n){n.forEach(function(n){if(n.isIntersecting||n.intersectionRatio>0){var r=n.target;i(t,r.getAttribute("data-percentage")),r.parentNode&&r.parentNode.removeChild(r),e.unobserve(r)}})},c=document.querySelector(a);if(c&&window.IntersectionObserver){var u=new IntersectionObserver(function(t){s(this,t)});r.forEach(function(t){var e=document.createElement("div");e.className="n-ui__scroll-depth-marker",e.style.position="absolute",e.style.top=t+"%",e.style.bottom="0",e.style.width="100%",e.style.zIndex="-1",e.setAttribute("data-percentage",t),c.appendChild(e),u.observe(e)})}}};t.exports=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=["input","textarea","select"],o=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.word,o=e.callback;if("string"!=typeof n||"function"!=typeof o)throw new Error("Required an object to be passed with these properties: word (string) and callback (function)");this.word=n,this.callback=o,this.index=0,this.listener=function(e){var n=e.key,o=e.target,i=o&&o.tagName.toLowerCase();if(r.includes(i)||"true"===o.contentEditable)return void(t.index=0);n===t.word[t.index]?t.index++:t.index=0,t.index===t.word.length&&(t.callback(),t.index=0)},document.addEventListener("keyup",this.listener)};o.prototype.stopListening=function(){document.removeEventListener("keyup",this.listener)},e.default=o,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e=t.flag,n=document.body.style,r=document.styleSheets[document.styleSheets.length-1];n&&r&&(n.backgroundColor="inherit",r.insertRule("body, img, iframe {\n\t\tfilter: invert("+(e?"100%":0)+");\n\t\ttransition: 'filter 300ms ease-in-out';\n\t}",r.cssRules.length))};e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var o=n(89),i=function(){return(Date.now()*Math.random()).toString(16)},a=window.LUX||window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance,s=o.eventListenOptionSupported("once"),c=function(t,e,n){a&&a.measure&&a.measure(t,e,n)},u=function(t){a&&a.mark&&a.mark(t)},l=function(t,e){if("0.01"===Math.random().toFixed(2)){var n=new CustomEvent(t,{detail:e});document.body.dispatchEvent(n)}},d=function(t){var e=i();return t.setAttribute("data-uid",e),e},f=function(t){return t.getAttribute("data-uid")},p=function(t,e){u(t+":"+e)},h=function(t){c(t,"START:"+t,"END:"+t)},g=function(t){if(a&&a.getEntriesByName){var e=a.getEntriesByName(t),n='img[data-uid="'+t+'"]',r=document.querySelector(n);if(r&&r.currentSrc){var o={category:"lazy-image-load",action:"timing",data:{src:r.currentSrc,duration:e.length?e[0]:null}};l("oTracking.event",o)}}},m=function(t){var e=f(t);p("END",e),h(e),t.classList.remove("n-image--lazy-loading"),t.parentNode.classList.remove("n-image-wrapper--lazy-loading"),g(e)},v=function(t){var e=d(t);t.addEventListener("load",function(){setTimeout(m.bind(null,t),13)},s?{once:!0}:void 0),p("START",e),[].concat(r(t.attributes)).forEach(function(e){/^data-src(set)?$/.test(e.name)&&(t.setAttribute(e.name.replace("data-",""),e.value),t.removeAttribute(e.name))})},y=function(t,e){e.forEach(function(e){if(e.isIntersecting||e.intersectionRatio>0){var n=e.target;v(n),t.unobserve(n)}})},b=function(t,e){var n=t.observer;n?n.observe(e):v(e),e.setAttribute("data-n-image-lazy-load-js","")};t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.root,n=void 0===e?document:e,o=window.FT&&window.FT.flags&&window.FT.flags.get("imgLazyLoadThreshold")||"0px",i=window.IntersectionObserver?new window.IntersectionObserver(function(t){y(this,t)},{rootMargin:o+" 0px "+o+" 0px"}):null;[].concat(r(n.querySelectorAll(".n-image--lazy-loading"))).filter(function(t){return!t.hasAttribute("data-n-image-lazy-load-js")}).forEach(b.bind(null,{observer:i}))}},function(t,e,n){"use strict";t.exports={eventListenOptionSupported:function(t){var e=!1;try{var n=Object.defineProperty({},t,{get:function(){e=!0}});window.addEventListener("test",n,n),window.removeEventListener("test",n,n)}catch(t){e=!1}return e}}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0}),e.AppInitializer=e.presets=void 0;var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(23),c=o(s),u=n(27),l=o(u),d=n(34),f=o(d),p=n(91),h=o(p),g=n(33),m=o(g),v=n(108),y=o(v),b=n(109),w=o(b),E=n(35),_=n(112),S=r(_),A=n(115),k=r(A),T=n(122),x=o(T),L=n(0),C=n(127),O=o(C);n(128);var I=e.presets={discrete:{header:!0,footer:!0,date:!0},complete:{header:!0,footer:!0,date:!0,ads:!0,syndication:!0,roe:!0,feedback:!1,evenMoreJanky:!0}},P=function(t,e){window.FT.conditions[t]?e():document.addEventListener("FT."+t,e)},N=function(){var t=!1,e=function(){if("complete"===document.readyState&&!1===t)return t=!0,window.dispatchEvent(new CustomEvent("ftNextLoaded")),!0};e()||(window.addEventListener("load",e),document.onreadystatechange=e)};e.AppInitializer=function(){function t(){i(this,t),this.onAppInitialized=this.onAppInitialized.bind(this);var e={isProduction:document.documentElement.hasAttribute("data-next-is-production"),version:document.documentElement.getAttribute("data-next-version"),name:document.documentElement.getAttribute("data-next-app"),product:document.documentElement.getAttribute("data-next-product")},n=Object.assign(window.FT.flags,{get:function(t){return this[t]},getAll:function(){return this}});this.env={flags:n,appInfo:e,allStylesLoaded:new Promise(function(t){document.querySelector("style.n-layout-head-css")?P("allStylesLoaded",t):t()})}}return a(t,[{key:"bootstrap",value:function(t){return t=t||{},this.enabledFeatures=Object.assign({},I[t.preset],t.features),this.initializeComponents(),(0,L.perfMark)("nUiJsExecuted"),this.env}},{key:"initializeComponents",value:function(){var t=this,e=this.env,n=e.flags,r=e.allStylesLoaded,o=e.appInfo;l.default.init(n,o),n.get("serviceWorker")?(S.register(n).catch(function(){}),S.message({type:"updateCache",data:{}}).catch(function(t){if("service worker unavailable"!==t.toLowerCase())throw t})):S.unregister(),this.enabledFeatures.header&&h.default.init(n),this.enabledFeatures.date&&f.default.init(),this.enabledFeatures.ads&&c.default.init(n,o,this.enabledFeatures.ads),this.enabledFeatures.lazyLoadImages&&(0,E.lazyLoad)(),n.get("speedcurveLuxFlagsSupport")&&O.default.addFlags(),r.then(function(){t.enabledFeatures.footer&&w.default.init(),t.enabledFeatures.syndication&&k.init(n),t.enabledFeatures.feedback&&n.get("qualtrics")&&x.default.init(o),t.enabledFeatures.roe&&m.default.init(n),t.enabledFeatures.evenMoreJanky&&y.default.init(n)})}},{key:"onAppInitialized",value:function(){(0,L.perfMark)("appJsExecuted"),N(),l.default.lazyInit(this.env.flags),document.documentElement.classList.add("js-success")}}]),t}()},function(t,e,n){"use strict";function r(t){i.init(t),new o,new o(document.querySelector("[data-o-header--sticky]"));var e=document.querySelectorAll(".o-header [data-n-topic-search], .o-header__drawer [data-n-topic-search]");if(e.length)for(var n=0;n<e.length;n++){var r=e[n];new a(r)}}var o=n(92),i=n(101),a=n(104);t.exports={init:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(93),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=function t(){o.default.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",i),e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(94),s=r(a),c=n(97),u=r(c),l=n(98),d=r(l),f=n(99),p=r(f),h=n(100),g=r(h),m=function(){function t(e){o(this,t),e?"string"==typeof e&&(e=document.querySelector(e)):e=document.querySelector('[data-o-component="o-header"]'),e.hasAttribute("data-o-header--js")||(this.headerEl=e,s.default.init(this.headerEl),u.default.init(this.headerEl),d.default.init(this.headerEl),p.default.init(this.headerEl),g.default.init(this.headerEl),this.headerEl.removeAttribute("data-o-header--no-js"),this.headerEl.setAttribute("data-o-header--js",""))}return i(t,null,[{key:"init",value:function(e){return e||(e=document.body),e instanceof HTMLElement||(e=document.querySelector(e)),/\bo-header\b/.test(e.getAttribute("data-o-component"))?new t(e):[].map.call(e.querySelectorAll('[data-o-component="o-header"]'),function(e){if(!e.hasAttribute("data-o-header--js"))return new t(e)}).filter(function(t){return void 0!==t})}}]),t}();e.default=m,t.exports=e.default},function(t,e,n){"use strict";function r(t){var e=t.querySelector("[data-o-header-search]"),n=e&&t.querySelectorAll('[aria-controls="'+e.id+'"]');if(null!==n&&0!==n.length)for(var r=[],o=function(t,n){"open"===t?(r.push(n.currentTarget),e.querySelector('[name="q"]').focus()):r.length&&r.pop().focus()},a=0,s=n.length;a<s;a++)new i.default(n[a],{target:e,callback:o})}Object.defineProperty(e,"__esModule",{value:!0});var o=n(20),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default={init:r},t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(96),a=function(t){return t&&t.__esModule?t:{default:t}}(i),s=function(){function t(e,n){r(this,t),t._targets||(t._targets=new Map),e&&(e instanceof HTMLElement||(e=document.querySelector(e)),e.hasAttribute("data-o-toggle--js")||(n||(n={},Array.prototype.forEach.call(e.attributes,function(t){if(0===t.name.indexOf("data-o-toggle")){var e=t.name.replace("data-o-toggle-","");try{n[e]=JSON.parse(t.value.replace(/\'/g,'"'))}catch(r){n[e]=t.value}}})),this.callback=n.callback,"string"==typeof this.callback&&(this.callback=new Function(this.callback)),this.toggleEl=e,"A"===this.toggleEl.nodeName&&this.toggleEl.setAttribute("role","button"),this.toggle=this.toggle.bind(this),this.toggleEl.addEventListener("click",this.toggle),this.toggleEl.setAttribute("data-o-toggle--js","true"),this.targetEl=n.target,this.targetEl instanceof HTMLElement||(this.targetEl=document.querySelector(this.targetEl)),void 0===t._targets.get(this.targetEl)?(this.target=new t.Target(this),t._targets.set(this.targetEl,this.target)):this.target=t._targets.get(this.targetEl),this.target.addToggle(this),this.target.close()))}return o(t,[{key:"open",value:function(){this.toggleEl.setAttribute("aria-expanded","true")}},{key:"close",value:function(){this.toggleEl.setAttribute("aria-expanded","false")}},{key:"toggle",value:function(t){if(this.target.toggle(),t&&t.preventDefault(),this.callback){var e=this.target.isOpen()?"open":"close";this.callback(e,t)}}},{key:"destroy",value:function(){this.toggleEl.removeEventListener("click",this.toggle),this.toggleEl.removeAttribute("aria-expanded"),this.toggleEl.removeAttribute("role"),this.toggleEl.removeAttribute("data-o-toggle--js"),this.target.removeToggle(this),this.target=void 0,this.toggleEl=void 0,this.callback=void 0}}],[{key:"init",value:function(e,n){e?e instanceof HTMLElement||(e=document.querySelector(e)):e=document.body;var r=e.querySelectorAll('[data-o-component="o-toggle"]'),o=[],i=!0,a=!1,s=void 0;try{for(var c,u=r[Symbol.iterator]();!(i=(c=u.next()).done);i=!0){var l=c.value;l.hasAttribute("data-o-toggle--js")||o.push(new t(l,n))}}catch(t){a=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(a)throw s}}return o}}]),t}();s.Target=a.default,e.default=s,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){r(this,t),this.targetEl=e.targetEl,this.toggles=[]}return o(t,[{key:"addToggle",value:function(t){this.toggles.push(t)}},{key:"removeToggle",value:function(t){var e=this.toggles.indexOf(t);this.toggles=this.toggles.slice(0,e).concat(this.toggles.slice(e+1)),0===this.toggles.length&&this.open()}},{key:"open",value:function(){this.targetEl.setAttribute("aria-hidden","false"),this.targetEl.classList.add("o-toggle--active"),this.toggles.forEach(function(t){t.open()})}},{key:"close",value:function(){this.targetEl.setAttribute("aria-hidden","true"),this.targetEl.classList.remove("o-toggle--active"),this.toggles.forEach(function(t){t.close()})}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"isOpen",value:function(){return this.targetEl.classList.contains("o-toggle--active")}}]),t}();e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=void 0;t.addEventListener("mouseenter",function(){clearTimeout(n),o(e)||(n=setTimeout(function(){l.length?(a(l[0]),i(e,!1)):i(e,!0)},c))}),t.addEventListener("mouseleave",function(){clearTimeout(n),n=setTimeout(function(){return o(e)&&a(e)},u)})}function o(t){return-1!==l.indexOf(t)}function i(t,e){e&&t.classList.add("o-header__mega--animation"),t.setAttribute("aria-hidden","false"),t.setAttribute("aria-expanded","true"),t.dispatchEvent(new CustomEvent("oHeader.MegaMenuShow",{bubbles:!0})),l.push(t)}function a(t){t.classList.remove("o-header__mega--animation"),t.setAttribute("aria-hidden","true"),t.setAttribute("aria-expanded","false"),t.dispatchEvent(new CustomEvent("oHeader.MegaMenuHide",{bubbles:!0})),l.splice(l.indexOf(t),1)}function s(t){var e=Array.from(t.querySelectorAll("[data-o-header-mega]")),n=e.map(function(t){return t.parentNode});e.forEach(function(t){t.setAttribute("aria-hidden","true"),t.setAttribute("aria-expanded","false")}),n.forEach(function(t,n){return r(t,e[n])})}Object.defineProperty(e,"__esModule",{value:!0});var c=300,u=400,l=[];e.default={init:s,show:i,hide:a},t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=void 0,r=function(t){27===t.keyCode&&e()},o=function(n){t.contains(n.target)||e()},i=function(){clearTimeout(n)},a=function(){window.innerWidth>=t.offsetWidth&&(n=setTimeout(e,d))},s=function(e){var n=e.relatedTarget||e.target;t.contains(n)||t.focus()},c=function(){clearTimeout(n),t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",a),document.removeEventListener("click",o),document.removeEventListener("touchstart",o),document.removeEventListener("keydown",r),document.removeEventListener("focusin",s),document.removeEventListener("focusout",s)};return{addEvents:function(){t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",a),document.addEventListener("click",o),document.addEventListener("touchstart",o),document.addEventListener("keydown",r),document.addEventListener("focusin",s),document.addEventListener("focusout",s)},removeEvents:c,handleMouseleave:a}}function o(t){function e(e,n){"close"===e?(a(t,!1),o.removeEvents(),i.focus()):(a(t,!0),setTimeout(o.addEvents,l),i=n.currentTarget,setTimeout(function(){var e=t.querySelector("a, button, input, select");e?e.focus():t.focus()})),t.classList.toggle("o-header__drawer--closing","close"===e),t.classList.toggle("o-header__drawer--opening","open"===e)}var n=Array.from(document.body.querySelectorAll('[aria-controls="'+t.id+'"]')),o=void 0,i=void 0;n.forEach(function(n){var i=new u.default(n,{target:t,callback:e});o||(o=r(t,i.toggle))}),t.tabIndex=-1}function i(t){var e=t.querySelectorAll('[id^="o-header-drawer-child-"]');Array.from(e).forEach(function(e){var n=t.querySelector('[aria-controls="'+e.id+'"]');e.setAttribute("aria-hidden","true"),new u.default(n,{target:e,callback:function(t){n.textContent=n.textContent.replace(/fewer|more/,"open"===t?"fewer":"more")}})})}function a(t,e){var n=Array.from(t.querySelectorAll("a, button, input, select"));e?n.forEach(function(t){t.removeAttribute("tabindex")}):n.forEach(function(t){t.setAttribute("tabindex","-1")})}function s(){var t=document.body.querySelector("[data-o-header-drawer]");t&&(a(t,!1),i(t),o(t),t.removeAttribute("data-o-header-drawer--no-js"),t.setAttribute("data-o-header-drawer--js","true"))}Object.defineProperty(e,"__esModule",{value:!0});var c=n(20),u=function(t){return t&&t.__esModule?t:{default:t}}(c),l=300,d=1e3;e.default={init:s,handleCloseEvents:r},t.exports=e.default},function(t,e,n){"use strict";function r(t){function e(t){return t.className.match(/left|right/).pop()}function n(){c=a.scrollWidth,u=a.clientWidth,s.forEach(function(t){if("left"===e(t))t.disabled=0===a.scrollLeft;else{var n=c-u-a.scrollLeft;t.disabled=n<=1}})}function r(t){var r=100;if("left"===e(t.currentTarget))r=-1*(a.scrollLeft>r?r:a.scrollLeft);else{var o=c-u-a.scrollLeft;r=o>r?r:o}a.scrollLeft=a.scrollLeft+r,n()}var o=t.querySelector("[data-o-header-subnav]");if(null!==o){var a=o.querySelector("[data-o-header-subnav-wrapper]"),s=Array.from(o.getElementsByTagName("button")),c=void 0,u=void 0;a.addEventListener("scroll",i.throttle(n,100)),window.addEventListener("oViewport.resize",n),s.forEach(function(t){t.onclick=r}),n(),function(){var t=a.querySelector("[aria-current]");if(t){var e=t.getBoundingClientRect().right;e>a.getBoundingClientRect().width&&a.scrollTo(e,0)}}()}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(10),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o);e.default={init:r},t.exports=e.default},function(t,e,n){"use strict";function r(t){function e(){var e=window.pageYOffset||window.scrollY,n=e>s;if(t.classList.toggle("o-header--sticky-active",n),n!==l&&(l=n,t.dispatchEvent(new CustomEvent("oHeader.Sticky",{bubbles:!0,detail:{isActive:n}}))),Math.abs(e-c)>20){var r=c<e;t.classList.toggle("o-header--sticky-scroll-down",n&&r),t.classList.toggle("o-header--sticky-scroll-up",n&&!r)}c=e}function n(){s=window.innerHeight/2,u=window.requestAnimationFrame(function(){e(),n()})}function r(){u&&window.cancelAnimationFrame(u)}function i(){window.removeEventListener("scroll",i),window.addEventListener("scroll",d),n()}function a(){r(),window.removeEventListener("scroll",d),window.addEventListener("scroll",i)}if(t.hasAttribute("data-o-header--sticky")){var s=void 0,c=void 0,u=void 0,l=void 0,d=(0,o.debounce)(a,300);window.addEventListener("scroll",i),e()}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(10);e.default={init:r},t.exports=e.default},function(t,e,n){"use strict";function r(){return"withCredentials"in new XMLHttpRequest}function o(){return(0,v.products)().catch(function(){return{}})}function i(t){return t.isForRegisteredUser=p(t),t.isForWeekendUser=h(t),t.isForAnonymousUser=!t.products&&!t.uuid,t}function a(){return"/signup"===window.location.pathname||"/thank-you"===window.location.pathname}function s(){return document.documentElement.dataset&&"control-centre"===document.documentElement.dataset.nextApp}function c(){return!!document.querySelector(".barrier")}function u(t){return t.b2bCommsCohort?Promise.resolve(!0):new b.default("session","next.product-selector").get("barrier-messaging").then(function(t){return"B2B"===t}).catch(function(){return!1})}function l(t){var e=document.querySelector(".n-header__marketing-promo");if(e){var n=document.querySelector("#discountPercent");n&&(n.innerText=w[t.barrierDiscountByCohort]+"%"),e.classList.add("visible")}}function d(){var t=document.querySelector(".n-header__marketing-promo");t&&(t.style.background="#0088C1",t.innerHTML='\n\t\t<div class="n-header__marketing-promo__container o-header__container">\n\t\t\t<a href="https://www.ft.com/products?segmentId=05a3d326-9abe-5885-4ee2-8d58d9a9a4ea" class="n-header__marketing-promo__box n-header__marketing-promo__box--us" data-trackable="marketing-promo:box">\n\t\t\t\t<div class="n-header__marketing-promo__link" data-trackable="marketing-promo-elections:link">LIMITED TIME OFFER: Subscribe &amp; save 25%</div>\n\t\t\t</a>\n\t\t</div>',t.classList.add("visible"))}function f(){return document.cookie.indexOf("USERNAME")}function p(t){return t.products&&t.products.indexOf("P0")>-1&&-1===t.products.indexOf("P1")&&-1===t.products.indexOf("P2")}function h(t){return t.products&&t.products.indexOf("P6")>-1&&-1===t.products.indexOf("P1")&&-1===t.products.indexOf("P2")}function g(t){return t.get("discountOn")&&t.get("headerMarketingPromo")}function m(t){a()||c()||s()||u(t).then(function(e){e||(r()?o().then(i).then(function(e){(e.isForAnonymousUser||e.isForRegisteredUser||e.isForWeekendUser)&&(g(t)?d():l(t))}):f()&&l(t))})}Object.defineProperty(e,"__esModule",{value:!0}),e.init=m;var v=n(36),y=n(12),b=function(t){return t&&t.__esModule?t:{default:t}}(y),w={L:50,S:25,S_5:25}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.credentials,r=void 0===n?"omit":n;return fetch("https://session-next.ft.com"+t,{credentials:r,useCorsProxy:!0}).then(function(t){return t.ok?t.json():t.text().then(function(e){throw new Error('Next session responded with "'+e+'" ('+t.status+")")})}).catch(function(t){document.body.dispatchEvent(new CustomEvent("oErrors.log",{bubbles:!0,detail:{error:t,info:{component:"next-session-client"}}}))})},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={},i=function(t,e){if("object"===(void 0===t?"undefined":r(t)))return void(o=t);if("string"==typeof t&&"string"==typeof e)return void(o[t]=e);if("string"==typeof t&&void 0===e)return o[t]||null;if(void 0===t&&void 0===e)return o;throw new Error("Invalid arguments")};i.clear=function(){o={}},e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return"string"==typeof t?function(e){return e&&e!==document&&!e.matches(t)}:function(e){return e&&e!==document&&e!==t}}function i(t,e){for(var n=o(e);n(t);)t=t.parentNode;return!t||t===document}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(0),c=n(105),u=function(t){return t&&t.__esModule?t:{default:t}}(c),l=n(6),d=/local(?:host)?\.ft\.com/.test(window.location.host)?window.location.host:"www.ft.com",f=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.listComponent,i=void 0===o?u.default:o,a=n.preSuggest,s=void 0===a?function(t){return t}:a;r(this,t),this.container=e,this.listComponent=i,this.preSuggest=s,this.searchEl=this.container.querySelector("[data-n-topic-search-input]"),this.dataSrc="//"+d+"/search-api/suggestions?partial=",this.categories=(this.container.getAttribute("data-n-topic-search-categories")||"tags").split(","),this.itemTag=this.container.getAttribute("data-n-topic-search-item-tag")||"a",this.includeViewAllLink=this.container.hasAttribute("data-n-topic-search-view-all"),this.minLength=2,this.init()}return a(t,[{key:"init",value:function(){var t=this;this.suggestions=[],this.suggestionListContainer=document.createElement("div"),this.searchEl.parentNode.insertBefore(this.suggestionListContainer,null),this.suggestionsView=this.listComponent(this.suggestionListContainer,{categories:this.categories,itemTag:this.itemTag,includeViewAllLink:this.includeViewAllLink,searchEl:this.searchEl}),this.searchTermHistory=[],this.bodyDelegate=new l(document.body),this.onType=(0,s.debounce)(this.onType,150).bind(this),this.onFocus=this.onFocus.bind(this),this.searchEl.addEventListener("keydown",function(t){40!==t.which&&38!==t.which||t.preventDefault()}),this.searchEl.addEventListener("keyup",function(e){switch(e.which){case 13:case 9:return;case 27:t.hide();break;case 40:t.onDownArrow(e);break;default:t.onType(e)}}),this.searchEl.addEventListener("focus",this.onFocus),this.searchEl.addEventListener("click",this.onFocus),this.suggestionListContainer.addEventListener("keydown",function(t){40!==t.which&&38!==t.which||t.preventDefault()}),this.suggestionListContainer.addEventListener("keyup",function(e){switch(e.which){case 13:t.onSelect(e);break;case 9:return;case 40:t.onDownArrow(e);break;case 38:t.onUpArrow(e)}}),this.suggestionListContainer.addEventListener("click",function(e){return t.onSelect(e)})}},{key:"onType",value:function(){this.searchTerm=this.searchEl.value.trim(),this.searchTermHistory.push(this.searchTerm),this.getSuggestions(this.searchTerm),[].forEach.call(this.suggestionListContainer.querySelectorAll("li"),function(t){t.setAttribute("data-trackable-meta",'{"search-term":"'+this.searchTerm+'"}')}.bind(this))}},{key:"onFocus",value:function(t){t.target.setSelectionRange?t.target.setSelectionRange(0,t.target.value.length):t.target.select(),this.show()}},{key:"onDownArrow",value:function(t){if(this.suggestionTargets.length){var e=(this.suggestionTargets.indexOf(t.target)+1)%this.suggestionTargets.length;this.suggestionTargets[e].focus()}t.preventDefault()}},{key:"onSelect",value:function(t){for(var e=t.target;!e.classList.contains("n-topic-search__target");)if(e=e.parentNode,e.classList.contains("n-topic-search"))return;this.suggestionsView.handleSelection(e,t,this)}},{key:"onUpArrow",value:function(t){if(this.suggestionTargets.length){var e=this.suggestionTargets.indexOf(t.target);0===e?this.searchEl.focus():this.suggestionTargets[(e-1)%this.suggestionTargets.length].focus()}t.preventDefault()}},{key:"getSuggestions",value:function(t){var e=this;t.length>=this.minLength?fetch(this.dataSrc+encodeURIComponent(t)).then(function(t){if(!t.ok)throw new Error(t.statusText);return t.json()}).then(function(t){return e.suggest(e.preSuggest(t))}).catch(function(t){setTimeout(function(){throw t})}):this.unsuggest()}},{key:"isTimelyResponse",value:function(t){var e=this.searchTermHistory.indexOf(t);return e>-1&&(this.searchTermHistory=this.searchTermHistory.slice(e),!0)}},{key:"suggest",value:function(t){t.query&&this.isTimelyResponse(t.query.partial)&&(this.suggestions=t,this.suggestionsView.setState({searchTerm:this.searchTerm,suggestions:this.suggestions}),this.show(),this.suggestionTargets=Array.from(this.suggestionListContainer.querySelectorAll(".n-topic-search__target")))}},{key:"unsuggest",value:function(){this.hide()}},{key:"hide",value:function(){this.suggestionListContainer.setAttribute("hidden",""),this.bodyDelegate.off()}},{key:"reset",value:function(){this.hide(),this.suggestions=[],this.suggestionTargets=[],this.suggestionsView.setState({suggestions:{tags:[],equities:[]},searchTerm:""}),this.searchTermHistory=[],this.searchTerm="",this.searchEl.value=""}},{key:"show",value:function(){var t=this;this.suggestionListContainer.removeAttribute("hidden"),["focus","touchstart","mousedown"].forEach(function(e){t.bodyDelegate.on(e,function(e){i(e.target,t.container)&&t.hide()})})}}]),t}();e.default=f,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.default=function(t,e){return new l(t,e)};var s=n(106),c=function(t){return t&&t.__esModule?t:{default:t}}(s),u={concepts:"News",equities:"Securities"},l=function(t){function e(t,n){r(this,e);var i=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i.renderSuggestionGroup=i.renderSuggestionGroup.bind(i),i.createHtml(),i.render(),i}return i(e,t),a(e,[{key:"renderTailLink",value:function(t){if(t.tailLink){return"<a "+('\n\t\t\t\tclass="n-topic-search__target n-topic-search__target--tail"\n\t\t\t\thref="'+t.tailLink.url+'"\n\t\t\t\tdata-trackable="'+t.tailLink.trackable+'""\n\t\t\t')+' tabindex="0">'+t.tailLink.innerHtml+"</a>"}}},{key:"renderSuggestionLink",value:function(t,e){return'<li class="n-topic-search__item">\n\t\t\t<a class="n-topic-search__target '+e.linkClassName+'"\n\t\t\t\thref="'+t.url+'"\n\t\t\t\ttabindex="0"\n\t\t\t\tdata-trackable="link"\n\t\t\t\tdata-suggestion-id="'+t.id+'"\n\t\t\t\tdata-suggestion-type="'+t.type+'"\n\t\t\t>'+t.html+"</a>\n\t\t</li>"}},{key:"renderSuggestionGroup",value:function(t){var e=this,n='<div class="n-topic-search__group '+t.className+'" data-trackable="'+t.trackable+'">';return n+=this.options.categories.length>1?'<div class="n-topic-search__heading">'+t.heading+"</div>":"",(t.suggestions.length||t.emptyHtml)&&(n+='<ul class="n-topic-search__item-list">\n\t\t\t\t'+t.suggestions.map(function(n){return e.renderSuggestionLink(n,t)}).join("")+'\n\t\t\t\t<li class="n-topic-search__item">\n\t\t\t\t\t'+this.renderTailLink(t)+"\n\t\t\t\t</li>\n\t\t\t</ul>"),n+="</div>"}},{key:"createHtml",value:function(){var t=this,e=this.state.suggestions.concepts&&this.state.suggestions.concepts.length,n=this.state.suggestions.equities&&this.state.suggestions.equities.length,r=e||n,o=[];this.items=[],this.options.categories.includes("concepts")&&o.push({heading:u.concepts,linkClassName:"n-topic-search__target--news",trackable:"news",suggestions:this.state.suggestions.concepts.slice(0,5).map(function(e){return{html:t.highlight(e.prefLabel),url:e.url,id:e.id,type:"tag"}}),tailLink:this.options.includeViewAllLink&&{url:"/search?q="+this.state.searchTerm,innerHtml:"<span>See all news matching <mark>"+this.state.searchTerm+"</mark></span>",trackable:"see-all"}}),this.options.categories.includes("equities")&&o.push({heading:u.equities,trackable:"equities",linkClassName:"n-topic-search__target--equities",emptyHtml:'<div className="n-topic-search__no-results-message">No equities found</div>',suggestions:this.state.suggestions.equities.slice(0,5).map(function(e){return{html:'<span class="n-topic-search__target__equity-name">'+t.highlight(e.name)+"</span><abbr>"+t.highlight(e.symbol)+"</abbr>",url:e.url,id:e.symbol,type:"equity"}}),tailLink:this.options.includeViewAllLink&&{url:"https://markets.ft.com/data/search?query="+this.state.searchTerm,innerHtml:"<span>See all quotes matching <mark>"+this.state.searchTerm+"</mark></span>",trackable:"see-all"}}),this.newHtml='<div\n\t\t\t\tclass="n-topic-search"\n\t\t\t\t'+(r?"":"hidden")+'\n\t\t\t\tdata-trackable="typeahead"\n\t\t\t>\n\t\t\t\t'+o.map(this.renderSuggestionGroup).join("")+"\n\t\t\t</div>"}},{key:"handleSelection",value:function(t,e){e.stopPropagation()}}]),e}(c.default);t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(107),s=function(){function t(e,n){r(this,t),this.container=e,this.container.appendChild(document.createElement("div")),this.options=n,this.state={suggestions:n.categories.reduce(function(t,e){return t[e]=[],t},{})}}return i(t,[{key:"setState",value:function(t){this.state=t,this.createHtml(),this.render()}},{key:"highlight",value:function(t){return t.replace(RegExp(o(this.state.searchTerm),"gi"),"<mark>$&</mark>")}},{key:"render",value:function(){if(this.container.innerHTML.trim()){var t=document.createDocumentFragment();t.appendChild(document.createElement("div")),t.firstChild.insertAdjacentHTML("beforeend",this.newHtml),a(this.container.firstChild,t.firstChild.firstChild)}else this.container.innerHTML=this.newHtml;this.newHtml=""}}]),t}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===i(e)&&void 0!==t?t.exports=s():(r=s,void 0!==(o="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=o))}(0,function(){function t(t){!c&&d.createRange&&(c=d.createRange(),c.selectNode(d.body));var e;return c&&c.createContextualFragment?e=c.createContextualFragment(t):(e=d.createElement("body"),e.innerHTML=t),e.childNodes[0]}function e(t,e){var n=t.nodeName,r=e.nodeName;return n===r||!!(e.actualize&&n.charCodeAt(0)<91&&r.charCodeAt(0)>90)&&n===r.toUpperCase()}function n(t,e){return e&&e!==l?d.createElementNS(e,t):d.createElement(t)}function r(t,e){for(var n=t.firstChild;n;){var r=n.nextSibling;e.appendChild(n),n=r}return e}function o(t,e){var n,r,o,i,a,s=e.attributes;for(n=s.length-1;n>=0;--n)r=s[n],o=r.name,i=r.namespaceURI,a=r.value,i?(o=r.localName||o,t.getAttributeNS(i,o)!==a&&t.setAttributeNS(i,o,a)):t.getAttribute(o)!==a&&t.setAttribute(o,a);for(s=t.attributes,n=s.length-1;n>=0;--n)r=s[n],!1!==r.specified&&(o=r.name,i=r.namespaceURI,i?(o=r.localName||o,p(e,i,o)||t.removeAttributeNS(i,o)):p(e,null,o)||t.removeAttribute(o))}function i(t,e,n){t[n]!==e[n]&&(t[n]=e[n],t[n]?t.setAttribute(n,""):t.removeAttribute(n,""))}function a(){}function s(t){return t.id}var c,u,l="http://www.w3.org/1999/xhtml",d="undefined"==typeof document?void 0:document,f=d?d.body||d.createElement("div"):{};u=f.hasAttributeNS?function(t,e,n){return t.hasAttributeNS(e,n)}:f.hasAttribute?function(t,e,n){return t.hasAttribute(n)}:function(t,e,n){return null!=t.getAttributeNode(e,n)};var p=u,h={OPTION:function(t,e){i(t,e,"selected")},INPUT:function(t,e){i(t,e,"checked"),i(t,e,"disabled"),t.value!==e.value&&(t.value=e.value),p(e,null,"value")||t.removeAttribute("value")},TEXTAREA:function(t,e){var n=e.value;t.value!==n&&(t.value=n);var r=t.firstChild;if(r){var o=r.nodeValue;if(o==n||!n&&o==t.placeholder)return;r.nodeValue=n}},SELECT:function(t,e){if(!p(e,null,"multiple")){for(var n=0,r=e.firstChild;r;){var o=r.nodeName;if(o&&"OPTION"===o.toUpperCase()){if(p(r,null,"selected")){n;break}n++}r=r.nextSibling}t.selectedIndex=n}}},g=1,m=3,v=8;return function(o){return function(i,c,u){function l(t){_?_.push(t):_=[t]}function f(t,e){if(t.nodeType===g)for(var n=t.firstChild;n;){var r=void 0;e&&(r=S(n))?l(r):(C(n),n.firstChild&&f(n,e)),n=n.nextSibling}}function p(t,e,n){!1!==L(t)&&(e&&e.removeChild(t),C(t),f(t,n))}function y(t){if(t.nodeType===g)for(var e=t.firstChild;e;){var n=S(e);n&&(P[n]=e),y(e),e=e.nextSibling}}function b(t){k(t);for(var n=t.firstChild;n;){var r=n.nextSibling,o=S(n);if(o){var i=P[o];i&&e(n,i)&&(n.parentNode.replaceChild(i,n),w(i,n))}b(n),n=r}}function w(t,n,r){var a,s=S(n);if(s&&delete P[s],!c.isSameNode||!c.isSameNode(i)){if(!r){if(!1===T(t,n))return;if(o(t,n),x(t),!1===O(t,n))return}if("TEXTAREA"!==t.nodeName){var u,f,y,E,_=n.firstChild,k=t.firstChild;t:for(;_;){for(y=_.nextSibling,u=S(_);k;){if(f=k.nextSibling,_.isSameNode&&_.isSameNode(k)){_=y,k=f;continue t}a=S(k);var L=k.nodeType,C=void 0;if(L===_.nodeType&&(L===g?(u?u!==a&&((E=P[u])?k.nextSibling===E?C=!1:(t.insertBefore(E,k),f=k.nextSibling,a?l(a):p(k,t,!0),k=E):C=!1):a&&(C=!1),(C=!1!==C&&e(k,_))&&w(k,_)):L!==m&&L!=v||(C=!0,k.nodeValue=_.nodeValue)),C){_=y,k=f;continue t}a?l(a):p(k,t,!0),k=f}if(u&&(E=P[u])&&e(E,_))t.appendChild(E),w(E,_);else{var I=A(_);!1!==I&&(I&&(_=I),_.actualize&&(_=_.actualize(t.ownerDocument||d)),t.appendChild(_),b(_))}_=y,k=f}for(;k;)f=k.nextSibling,(a=S(k))?l(a):p(k,t,!0),k=f}var N=h[t.nodeName];N&&N(t,n)}}if(u||(u={}),"string"==typeof c)if("#document"===i.nodeName||"HTML"===i.nodeName){var E=c;c=d.createElement("html"),c.innerHTML=E}else c=t(c);var _,S=u.getNodeKey||s,A=u.onBeforeNodeAdded||a,k=u.onNodeAdded||a,T=u.onBeforeElUpdated||a,x=u.onElUpdated||a,L=u.onBeforeNodeDiscarded||a,C=u.onNodeDiscarded||a,O=u.onBeforeElChildrenUpdated||a,I=!0===u.childrenOnly,P={};y(i);var N=i,M=N.nodeType,R=c.nodeType;if(!I)if(M===g)R===g?e(i,c)||(C(i),N=r(i,n(c.nodeName,c.namespaceURI))):N=c;else if(M===m||M===v){if(R===M)return N.nodeValue=c.nodeValue,N;N=c}if(N===c)C(i);else if(w(N,c,I),_)for(var D=0,j=_.length;D<j;D++){var q=P[_[D]];q&&p(q,q.parentNode,!1)}return!I&&N!==i&&i.parentNode&&(N.actualize&&(N=N.actualize(i.ownerDocument||d)),i.parentNode.replaceChild(N,i)),N}}(o)})},function(t,e,n){"use strict";function r(t){t&&"more-janky"===t.get("perfJanky")&&(o(),i())}var o=function(){var t=document.createElement("style");t.type="text/css";var e=document.createTextNode("\n\t\t.janky {\n\t\t\t\tpadding-top: 20px;\n\t\t\t\tpadding-bottom: 20px;\n\t\t}\n\t");t.appendChild(e),document.getElementsByTagName("head")[0].appendChild(t)},i=function(){["#top-gpt",".js-markets-data","#site-navigation","#o-header-nav-desktop","#site-content",".js-track-scroll-event",".o-grid-container",".article__content",".article-info"].forEach(function(t){document.querySelectorAll(t).forEach(function(t){t.className+=" janky",setTimeout(function(){t.className=t.className.replace(new RegExp(/ janky/,"g"),"")},Math.floor(4e3*Math.random())+1e3)})})};t.exports={init:r}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(110),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=function t(){o.default.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",i),e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(20),s=r(a),c=n(111),u=r(c),l=["default","XS","S"],d=function(){function t(e){var n=this;o(this,t),e?"string"==typeof e&&(e=document.querySelector(e)):e=document.querySelector('[data-o-component="o-footer"]'),this.footerEl=e,(0,u.default)(function(e){var r=t.shouldCollapse(e);return r&&!n._toggles?n.setup():!r&&n._toggles?n.destroy():void 0}),this.footerEl.removeAttribute("data-o-footer--no-js"),this.footerEl.setAttribute("data-o-footer--js","")}return i(t,[{key:"setup",value:function(){var t=this;this._toggles=[];var e=this.footerEl.querySelectorAll("[aria-controls]");Array.prototype.forEach.call(e,function(e){var n=document.getElementById(e.getAttribute("aria-controls"));e.setAttribute("role","button"),e.setAttribute("tabindex","0"),t._toggles.push(new s.default(e,{target:n}))})}},{key:"destroy",value:function(){this._toggles.forEach(function(t){return t.destroy()}),this._toggles=null}}],[{key:"shouldCollapse",value:function(t){return-1!==l.indexOf(t)}},{key:"init",value:function(e){e?"string"==typeof e&&(e=document.querySelector(e)):e=document.body;var n=e.querySelector('[data-o-component="o-footer"]');if(n)return new t(n)}},{key:"collapsibleBreakpoints",get:function(){return l}}]),t}();e.default=d,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){c.default.listenTo("resize");var e=a.default.getCurrentLayout();document.body.addEventListener("oViewport.resize",function(){var n=a.default.getCurrentLayout();n!==e&&(t(n),e=n)}),t(e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var i=n(19),a=r(i),s=n(3),c=r(s);t.exports=e.default},function(t,e,n){"use strict";function r(t){return new Promise(function(e,n){var r=indexedDB.open("next-flags",1);r.onupgradeneeded=function(){r.result.createObjectStore("flags")},r.onsuccess=function(){var o=r.result,i=o.transaction("flags","readwrite");i.objectStore("flags").put(JSON.parse(JSON.stringify(t)),"flags"),i.oncomplete=function(){o.close(),e()},i.onerror=function(){return n(i.error)},i.onabort=function(){return n(i.error)}}}).then(function(){return o({type:"flagsClobber"})})}Object.defineProperty(e,"__esModule",{value:!0});var o=function(t){return"serviceWorker"in navigator?navigator.serviceWorker.ready.then(function(e){return new Promise(function(n,r){var o=new MessageChannel;o.port1.onmessage=function(t){t.data.error?r(t.data.error):n(t.data)},e.active.postMessage(t,[o.port2])})}):Promise.reject("Service Worker unavailable")},i=function(t){if("serviceWorker"in navigator&&t.get("serviceWorker")){if(document.cookie.length>4e3)return console.warn("Cookie is greater than 4000 characters - unregistering service worker due to potential failure to retrieve updates"),a();var e=n(113).sampleUsers,i=t.get("swQAVariant")||(t.get("swCanaryRelease")&&e(3,"sw-canary")?"canary":"prod");return r(t),navigator.serviceWorker.register("/__sw-"+i+".js").then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){switch(n.state){case"installed":navigator.serviceWorker.controller||window.postMessage({command:"precacheDone"},"*"),o({type:"flagsUpdate",flags:JSON.parse(JSON.stringify(t))});break;case"redundant":throw Error("The installing service worker became redundant.")}}}})}return Promise.reject("Service Worker unavailable, or serviceWorker flag off")},a=function(){return"serviceWorker"in navigator?navigator.serviceWorker.getRegistration().then(function(t){return!!t&&t.unregister()}):Promise.resolve(!1)};e.register=i,e.unregister=a,e.passFlags=r,e.message=o},function(t,e,n){"use strict";var r=n(114),o=function(){var t=r.get("spoor-id").replace(/-/g,"");return t=t.substring(t.length-12,t.length),parseInt(t,16)},i=function(t,e){if(!e)throw new Error("sampleUsers needs a seed string to be passed in as the second parameter");var n=e.split("").reduce(function(t,e,n){return t+Math.pow(2,n)*e.charCodeAt(0)},0);return(o()+n)%100<t};t.exports={sampleUsers:i}},function(t,e,n){"use strict";function r(t){return new RegExp("(?:(?:^|.*;\\s*)"+t+"\\s*=\\s*([^;]*).*$)|^.*$")}function o(t){return Object.keys(t).map(function(e){var n=e;return"maxAge"===e&&(n="max-age"),t[e]instanceof Date&&(t[e]=t[e].toUTCString()),n+"="+t[e]})}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=o(n).join("; "),i=encodeURIComponent(t)+"="+encodeURIComponent(e)+"; "+r;document.cookie=i}function a(t){return decodeURIComponent(document.cookie.replace(r(encodeURIComponent(t)),"$1"))}function s(t){return new RegExp(encodeURIComponent(t)+"=").test(document.cookie)}function c(t){return i(t,"",{expires:new Date(0)})}t.exports={get:a,set:i,has:s,getRegexForName:r,remove:c}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getUserData=e.checkIfUserIsSyndicationCustomer=e.initRepublishing=e.init=e.CONFIG=void 0;var r=n(116),o=n(4),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(o),a=n(121),s=n(8);e.CONFIG=i,e.init=r.init,e.initRepublishing=a.init,e.checkIfUserIsSyndicationCustomer=r.checkIfUserIsSyndicationCustomer,e.getUserData=s.getUserData},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),e.checkIfUserIsSyndicationCustomer=e.init=void 0;var i=n(13),a=r(i),s=function(){var t=o(a.default.mark(function t(){var e,n;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e="S1",t.next=3,(0,l.products)().catch(function(t){return t});case 3:return n=t.sent,t.abrupt("return",!(!n||!n.products)&&n.products.includes(e));case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),c=function(){var t=o(a.default.mark(function t(e){var n,r,o,i,c;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.get("syndication")){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,s();case 4:if(n=t.sent){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,(0,f.default)();case 9:if(r=t.sent,!(o=!r||!0!==r.migrated)){t.next=13;break}return t.abrupt("return");case 13:if((0,m.init)(r),i=r.allowed||{},!(c=!0===i.spanish_content||!0===i.spanish_weekend)||!0===i.ft_com){t.next=18;break}return t.abrupt("return");case 18:(0,p.init)(r),(0,h.init)(),(0,g.init)(r),(0,u.$$)(v.CSS_SELECTOR_VIDEO_DOWNLOAD_BUTTON).forEach(function(t){return t.parentNode.removeChild(t)});case 22:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),u=n(0),l=n(36),d=n(37),f=r(d),p=n(8),h=n(119),g=n(38),m=n(120),v=n(4);e.init=c,e.checkIfUserIsSyndicationCustomer=s},function(t,e,n){"use strict";var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(118),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e,n){"use strict";(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n){function r(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new h(r||[]);return a._invoke=l(t,n,s),a}function o(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function a(){}function s(){}function c(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function n(r,i,a,s){var c=o(t[r],t,i);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"===(void 0===l?"undefined":e(l))&&b.call(l,"__await")?Promise.resolve(l.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):Promise.resolve(l).then(function(t){u.value=t,a(u)},s)}s(c.arg)}function r(t,e){function r(){return new Promise(function(r,o){n(t,e,r,o)})}return i=i?i.then(r,r):r()}var i;this._invoke=r}function l(t,e,n){var r=T;return function(i,a){if(r===L)throw new Error("Generator is already running");if(r===C){if("throw"===i)throw a;return m()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=d(s,n);if(c){if(c===O)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===T)throw r=C,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=L;var u=o(t,e,n);if("normal"===u.type){if(r=n.done?C:x,u.arg===O)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=C,n.method="throw",n.arg=u.arg)}}}function d(t,e){var n=t.iterator[e.method];if(n===v){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=v,d(t,e),"throw"===e.method))return O;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var r=o(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,O;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,O):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,O)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function g(t){if(t){var e=t[E];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(b.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=v,e.done=!0,e};return r.next=r}}return{next:m}}function m(){return{value:v,done:!0}}var v,y=Object.prototype,b=y.hasOwnProperty,w="function"==typeof Symbol?Symbol:{},E=w.iterator||"@@iterator",_=w.asyncIterator||"@@asyncIterator",S=w.toStringTag||"@@toStringTag",A="object"===e(t),k=n.regeneratorRuntime;if(k)return void(A&&(t.exports=k));k=n.regeneratorRuntime=A?t.exports:{},k.wrap=r;var T="suspendedStart",x="suspendedYield",L="executing",C="completed",O={},I={};I[E]=function(){return this};var P=Object.getPrototypeOf,N=P&&P(P(g([])));N&&N!==y&&b.call(N,E)&&(I=N);var M=s.prototype=i.prototype=Object.create(I);a.prototype=M.constructor=s,s.constructor=a,s[S]=a.displayName="GeneratorFunction",k.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},k.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,S in t||(t[S]="GeneratorFunction")),t.prototype=Object.create(M),t},k.awrap=function(t){return{__await:t}},c(u.prototype),u.prototype[_]=function(){return this},k.AsyncIterator=u,k.async=function(t,e,n,o){var i=new u(r(t,e,n,o));return k.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},c(M),M[S]="Generator",M[E]=function(){return this},M.toString=function(){return"[object Generator]"},k.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},k.values=g,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&b.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=v),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=b.call(o,"catchLoc"),s=b.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&b.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,O):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),O},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),p(n),O}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;p(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:g(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=v),O}}}(function(){return this}()||Function("return this")())}).call(e,n(21)(t))},function(t,e,n){"use strict";function r(){return addEventListener("asyncContentLoaded",function(){return c()},!0),addEventListener(h.EVENT_PREFIX+".dataChanged",function(){return d()},!0),c()}function o(t){return(0,m.toElement)('<button class="'+h.CSS_CLASS_PREFIX+"-icon "+h.CSS_CLASS_PREFIX+"-icon-state-"+String(t.messageCode).toLowerCase()+'" '+h.ATTR_CONTENT_ID+'="'+t[h.DATA_ID_PROPERTY]+'" '+h.ATTR_ISO_LANG+'="'+(t[h.DATA_LANG_PROPERTY]||h.DEFAULT_LANGUAGE)+'" '+h.ATTR_CONTENT_TYPE+'="'+t.type+'" '+h.ATTR_SYNDICATED+'="true" '+h.ATTR_TRACKABLE+'="'+h.ATTR_TRACKABLE_VALUE+'" data-message-code="'+t.messageCode+'" type="button"></button>')}function i(t){var e="FORM"!==t.tagName.toUpperCase()&&"BUTTON"!==t.tagName.toUpperCase();if(t!==document.documentElement&&e){var n=Object.entries(h.SYNDICATION_INSERTION_RULES),r=!0,o=!1,i=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,u=f(c,2),l=u[0],d=u[1];if(t.matches(l)){if("number"==typeof d.up&&d.up===d.up)for(var p=-1;++p<d.up;)t=t.parentElement;if(!d.fn&&!d.slc)return t;var g=t[d.fn](d.slc);if(g)return g}}}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}return null}function a(){return(0,p.$$)(h.CSS_SELECTOR_SYNDICATABLE_ITEMS)}function s(t){var e=Array.from(t).reduce(function(t,e){var n=(0,m.getContentIDFromHTMLElement)(e);return n&&(t[n]=n),t},{});return Object.keys(e)}function c(){var t=a(),e=s(t);return(0,g.fetchItems)(e)}function u(t,e){var n=i(e);null!==n&&"true"!==n.getAttribute(h.ATTR_SYNDICATED)&&(n.classList.add(h.CSS_CLASS_PREFIX),n.classList.add(h.CSS_CLASS_PREFIX+"-state-"+t.canBeSyndicated),(0,m.prepend)(n,o(t)),n.setAttribute(h.ATTR_CONTENT_TYPE,t.type),n.setAttribute(h.ATTR_SYNDICATED,"true")),n!==e&&(e.setAttribute(h.ATTR_CONTENT_TYPE,t.type),e.setAttribute(h.ATTR_SYNDICATED,"true"))}function l(t,e){e.length&&e.forEach(function(e){return u(t,e)})}function d(t){Array.isArray(t)||(t=a());var e=Array.from(t).reduce(function(t,e){var n=e.getAttribute(h.ATTR_CONTENT_ID);return Array.isArray(t[n])||(t[n]=[]),t[n].push(e),t},{});g.DATA_STORE.forEach(function(t){return l(t,e[t[h.DATA_ID_PROPERTY]])}),(0,p.broadcast)(h.EVENT_PREFIX+".iconified")}Object.defineProperty(e,"__esModule",{value:!0}),e.init=void 0;var f=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=n(0),h=n(4),g=n(8),m=n(22);e.init=r},function(t,e,n){"use strict";function r(t){var e=o(t);e({selectorContainer:"#o-header-nav-desktop",selectorInsertionPoint:'[data-trackable="Account Settings"]',selectorLink:".o-header__nav-link"}),e({selectorContainer:"#o-header-drawer",selectorInsertionPoint:'[data-trackable="Portfolio"]',selectorLink:".o-header__drawer-menu-link"})}function o(t){return function(e){var n=e.selectorContainer,r=e.selectorInsertionPoint,o=e.selectorLink,a=(0,i.$)(n);if(a){var s=a.querySelector(r);if(s){var c=s.parentElement,u=c.cloneNode(),l=s.cloneNode();u.appendChild(l),u.setAttribute("data-trackable","syndication");var d=u.querySelector(o);d.classList.add("n-syndication-republishing"),d.setAttribute("data-trackable","Republishing"),d.setAttribute("href","/republishing/contract"),d.textContent="Republishing",c.insertAdjacentElement("afterend",u),d.addEventListener("click",function(e){(0,i.broadcast)("oTracking.event",{category:"syndication",action:"Republishing",contractID:t.contract_id,product:"syndication",referrer:location.href,url:e.target.href||e.target.getAttribute("href")})})}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.init=void 0;var i=n(0);e.init=r},function(t,e,n){"use strict";function r(t,e){e?o(t,e):(0,u.default)().then(function(e){o(t,e)})}function o(t,e){location.pathname.includes("/contract")||("function"!=typeof window.republishingInitData&&(window.republishingInitData=function(){}),(0,l.init)(t,e,window.republishingInitData()),(0,d.init)(t,e)),window.getRepublishingUser=function(){return e},i(t,e)}function i(t,e){JSON.parse(JSON.stringify(f.TRACKING.DATA)).context.contractID=e.contract_id,document.addEventListener("submit",function(t){return a(t,e)},!0),addEventListener("click",function(t){return a(t,e)},!0)}function a(t,e){var n=!1;t.target.matches(f.CSS_SELECTOR_REPUBLISHING_HEADER_LINK)&&(n=!0),!0===n&&(0,s.broadcast)("oTracking.event",{category:f.TRACKING.CATEGORY,action:t.target.getAttribute(f.ATTR_TRACKABLE),app:f.TRACKING.DATA.context.app,contractID:e.contract_id,url:location.href})}Object.defineProperty(e,"__esModule",{value:!0}),e.track=e.init=void 0;var s=n(0),c=n(37),u=function(t){return t&&t.__esModule?t:{default:t}}(c),l=n(8),d=n(38),f=n(4);e.init=r,e.track=i},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function o(t,e,n,r){var o=t.content;document.querySelectorAll(".n-feedback__survey-next",o).forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();var e=t.target,n=e.closest(".n-feedback__survey-block"),r="."+e.getAttribute("data-survey-next"),o=document.querySelector(r);if(!o)return!1;n.classList.add("hidden"),o.classList.remove("hidden")},!0)}),document.querySelectorAll(".n-feedback__survey-submit",o).forEach(function(o){o.addEventListener("click",function(o){o.preventDefault();var a=i(t),c=g(r);h(n,e,a,c).then(function(){t.close(),s()}).catch(function(){t.close(),s()})})})}function i(t){var e=t.content,n=document.querySelector(".n-feedback__survey__wrapper-form",e),r={};return new FormData(n).forEach(function(t,e){r[e]=t}),r}function a(t){t[t.visible?"close":"open"]()}function s(){document.querySelector(".n-feedback__container").classList.add("hidden")}function c(t){t.innerHTML='<div class="n-feedback__overlay__container"></div>\n\t\t<a class="n-feedback__container__close-button hidden" href="#void">\n\t\t\t<span>I don\'t want to give feedback</span>\n\t\t</a>\n\n\t\t<p class="n-feedback__desktop__prompt">\n\t\t\tHow easy was it to use the FT.com today?\n\t\t</p>\n\t\t<button class="n-feedback__survey-trigger">\n\t\t\t<span>Feedback</span>\n\t\t</button>'}var u=n(13),l=function(t){return t&&t.__esModule?t:{default:t}}(u),d=function(){var t=r(l.default.mark(function t(e){var n;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://www.ft.com/__feedback-api/v1/survey/"+e,t.abrupt("return",fetch(n).then(function(t){return t.json()}).catch(function(){}));case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),f=n(24),p=n(123),h=n(124),g=n(126);t.exports.init=function(t){var e="SV_9mBFdO5zpERO0cZ";d(e).then(function(n){var r=document.querySelector(".n-feedback__container");c(r);var i=document.querySelector(".n-feedback__container .n-feedback__survey-trigger"),u="";try{u=p.buildSurvey(n,e)}catch(t){return r.classList.add("hidden"),i.classList.add("hidden"),!1}var l=new f("feedback-overlay",{html:u,fullscreen:!0,zindex:1001,customclose:".n-feedback__survey__close-button"});i.addEventListener("click",function(){a(l)},!0),document.querySelector(".n-feedback__container__close-button").addEventListener("click",function(t){t.preventDefault(),s()}),document.addEventListener("oOverlay.ready",function(){o(l,n,e,t)},!0)})}},function(t,e,n){"use strict";function r(t){return'<h3 class="n-feedback__question-header">'+t.questionText+"</h3>"}function o(t){return'<p class="n-feedback__question-text">'+t.questionText+"</p>"}function i(t){return'<p class="n-feedback__question-footer">'+t.questionText+"</p>"}function a(t){var e={MC:s,TE:c},n=t.questionType.type;return n in e?e[n](t):""}function s(t){var e=['<fieldset class="n-feedback__question-radio">\n\t\t\t<legend>'+t.questionText+'</legend>\n\t\t\t<div class="n-feedback__question-radio__container">'];return Object.entries(t.choices).forEach(function(n,r,o){var i=l(n,2),a=i[0],s=i[1],c="";a!==o[0][0]&&a!==o[o.length-1][0]&&(c="hidden-label");var u="choice-"+a+"-"+~~(65535*Math.random());e.push('<div class="n-feedback__question-radio__choice-container">\n\t\t\t\t<input type="radio" id="'+u+'" class="o-forms__radio" name="'+t.questionId+'" value="'+a+'" />\n\t\t\t\t<label for="'+u+'" class="o-forms__label '+c+'">\n\t\t\t\t\t<span class="n-feedback__question-radio-text">'+s.choiceText+"</span>\n\t\t\t\t</label>\n\t\t\t</div>")}),e.push("</div>\n\t\t</fieldset>"),e.join("\n")}function c(t){var e="text-"+t.questionId+"-"+~~(65535*Math.random());return'<p class="n-feedback__question-text-entry o-forms">\n\t\t\t<label for="'+e+'" class="o-forms__label">'+t.questionText+'</label>\n\t\t\t<textarea id="'+e+'" name="'+t.questionId+'" class="o-forms__textarea"></textarea>\n\t\t</p>'}function u(t,e){var n={header:r,footer:i,text:o,question:a};if(t&&0===t.length)throw new Error("Bad survey data");var s=['<div class="n-feedback__survey">\n\t\t\t<a class="n-feedback__survey__close-button o-overlay__close" href="#void">\n\t\t\t\t<span>I don\'t want to give feedback</span>\n\t\t\t</a>\n\t\t\t<form class="n-feedback__survey__wrapper-form">\n\t\t\t\t<input type="hidden" name="surveyId" value="'+e+'" />'];return t.forEach(function(e,r){var o=0===r?"":"hidden",i=['<div class="n-feedback__survey-block '+o+" n-feedback__survey-block-"+r+'">'];e.questions.forEach(function(t){var e=t.questionName.toLowerCase();if(e in n){var r=n[e](t);i.push(r)}}),t.length-1>r?i.push('<p class="n-feedback__survey__button-bar">\n\t\t\t\t\t<button class="n-feedback__primary-button n-feedback__survey-next"\n\t\t\t\t\t\tdata-survey-next="n-feedback__survey-block-'+(r+1)+'">\n\t\t\t\t\t\tNext\n\t\t\t\t\t</button>\n\t\t\t\t</p>'):i.push('<p class="n-feedback__survey__button-bar">\n\t\t\t\t\t<button class="n-feedback__primary-button n-feedback__survey-submit">\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</button>\n\t\t\t\t</p>'),i.push("</div>"),s.push(i.join("\n"))}),s.push("</form></div>"),s.join("\n")}var l=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.exports={buildSurvey:u}},function(t,e,n){"use strict";function r(t,e,n,r){var a=o(e),s=a.map(function(t){return{id:t.id,text:t.text,response:n[t.id]||""}}),c={surveyId:t,surveyResponse:s,additionalData:r},u={credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)};return fetch(i+"/survey",u)}var o=n(125),i="https://www.ft.com/__feedback-api/v1";t.exports=r},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){var e,n=t.filter(function(t){return t.questions&&t.questions.length>0});return(e=[]).concat.apply(e,r(n.map(function(t){return t.questions}))).map(function(t){return{id:t.questionId,text:t.questionText}})}t.exports=o},function(t,e,n){"use strict";function r(t){var e=t.name,n=document.referrer;return{appName:e,currentUrl:document.URL,referrerUrl:n}}t.exports=r},function(t,e,n){"use strict";function r(){var t=document.documentElement.getAttribute("data-ab-state");t&&"-"!==t&&t.split(/\s*,\s*/).map(function(t){return t.split(/\s*:\s*/)}).map(function(t){var e=i(t,2);return{flagName:e[0],variant:e[1]}}).filter(function(t){return!/^sw[A-Z]/.test(t.flagName)||navigator.serviceWorker}).forEach(function(t){var e=t.flagName,n=t.variant;return window.LUX.addData(e,n)})}function o(){if(window.LUX&&window.LUX.addData)r();else{document.querySelector("[data-next-speedcurve-lux-script]").addEventListener("load",function(){return o()})}}var i=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.exports={addFlags:o}},function(t,e,n){"use strict";var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a,s){"object"===i(e)&&void 0!==t?s():(r=s,void 0!==(o="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=o))}(0,function(){function t(){function t(t){return!(!t||t===document||"HTML"===t.nodeName||"BODY"===t.nodeName)}function e(t){var e=t.type,n=t.tagName;return!("INPUT"!=n||!g[e]||t.readonly)||("TEXTAREA"==n&&!t.readonly||"true"==t.contentEditable)}function n(t){t.classList.contains("focus-visible")||(t.classList.add("focus-visible"),t.setAttribute("data-focus-visible-added",""))}function r(t){t.hasAttribute("data-focus-visible-added")&&(t.classList.remove("focus-visible"),t.removeAttribute("data-focus-visible-added"))}function o(e){t(document.activeElement)&&n(document.activeElement),f=!0}function i(t){f=!1}function a(r){t(r.target)&&(f||e(r.target))&&(n(r.target),f=!1)}function s(e){t(e.target)&&e.target.classList.contains("focus-visible")&&(p=!0,window.clearTimeout(h),h=window.setTimeout(function(){p=!1,window.clearTimeout(h)},100),r(e.target))}function c(t){"hidden"==document.visibilityState&&(p&&(f=!0),u())}function u(){document.addEventListener("mousemove",d),document.addEventListener("mousedown",d),document.addEventListener("mouseup",d),document.addEventListener("pointermove",d),document.addEventListener("pointerdown",d),document.addEventListener("pointerup",d),document.addEventListener("touchmove",d),document.addEventListener("touchstart",d),document.addEventListener("touchend",d)}function l(){document.removeEventListener("mousemove",d),document.removeEventListener("mousedown",d),document.removeEventListener("mouseup",d),document.removeEventListener("pointermove",d),document.removeEventListener("pointerdown",d),document.removeEventListener("pointerup",d),document.removeEventListener("touchmove",d),document.removeEventListener("touchstart",d),document.removeEventListener("touchend",d)}function d(t){"html"!==t.target.nodeName.toLowerCase()&&(f=!1,l())}var f=!0,p=!1,h=null,g={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};document.addEventListener("keydown",o,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("pointerdown",i,!0),document.addEventListener("touchstart",i,!0),document.addEventListener("focus",a,!0),document.addEventListener("blur",s,!0),document.addEventListener("visibilitychange",c,!0),u(),document.body.classList.add("js-focus-visible")}"undefined"!=typeof document&&function(t){function e(){n||(n=!0,t())}var n;"complete"===document.readyState?t():(n=!1,document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1))}(t)})}]);
//# sourceMappingURL=es5.js.map