!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=169)}([function(t,e,n){"use strict";function r(t,e){if(c(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var n=e||{},r=n.additionalDigits;r=null==r?p:Number(r);var u=o(t),d=i(u.date,r),h=d.year,m=d.restDateString,v=a(m,h);if(v){var g,y=v.getTime(),b=0;return u.time&&(b=s(u.time)),u.timezone?g=l(u.timezone):(g=new Date(y+b).getTimezoneOffset(),g=new Date(y+b+g*f).getTimezoneOffset()),new Date(y+b+g*f)}return new Date(t)}function o(t){var e,n={},r=t.split(h);if(m.test(r[0])?(n.date=null,e=r[0]):(n.date=r[0],e=r[1]),e){var o=L.exec(e);o?(n.time=e.replace(o[1],""),n.timezone=o[1]):n.time=e}return n}function i(t,e){var n,r=g[e],o=b[e];if(n=y.exec(t)||o.exec(t)){var i=n[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(n=v.exec(t)||r.exec(t)){var a=n[1];return{year:100*parseInt(a,10),restDateString:t.slice(a.length)}}return{year:null}}function a(t,e){if(null===e)return null;var n,r,o,i;if(0===t.length)return r=new Date(0),r.setUTCFullYear(e),r;if(n=w.exec(t))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(e,o),r;if(n=E.exec(t)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(e,0,a),r}if(n=_.exec(t)){r=new Date(0),o=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return r.setUTCFullYear(e,o,s),r}if(n=x.exec(t))return i=parseInt(n[1],10)-1,u(e,i);if(n=k.exec(t)){i=parseInt(n[1],10)-1;return u(e,i,parseInt(n[2],10)-1)}return null}function s(t){var e,n,r;if(e=T.exec(t))return(n=parseFloat(e[1].replace(",",".")))%24*d;if(e=S.exec(t))return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),n%24*d+r*f;if(e=C.exec(t)){n=parseInt(e[1],10),r=parseInt(e[2],10);var o=parseFloat(e[3].replace(",","."));return n%24*d+r*f+1e3*o}return null}function l(t){var e,n;return(e=A.exec(t))?0:(e=M.exec(t))?(n=60*parseInt(e[2],10),"+"===e[1]?-n:n):(e=O.exec(t),e?(n=60*parseInt(e[2],10)+parseInt(e[3],10),"+"===e[1]?-n:n):0)}function u(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var o=r.getUTCDay()||7,i=7*e+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var c=n(58),d=36e5,f=6e4,p=2,h=/[T ]/,m=/:/,v=/^(\d{2})$/,g=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],y=/^(\d{4})/,b=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],w=/^-(\d{2})$/,E=/^-?(\d{3})$/,_=/^-?(\d{2})-?(\d{2})$/,x=/^-?W(\d{2})$/,k=/^-?W(\d{2})-?(\d{1})$/,T=/^(\d{2}([.,]\d*)?)$/,S=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,C=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,L=/([Z+-].*)$/,A=/^(Z)$/,M=/^([+-])(\d{2})$/,O=/^([+-])(\d{2}):?(\d{2})$/;t.exports=r},function(t,e,n){"use strict";e.EnvConfig=n(78),e.Events=n(79),e.jsonp=n(80),e.scriptLoader=n(28),e.storageWrapper={localStorage:n(82),sessionStorage:n(83)},e.logger=n(84),e.functionSync={parallel:n(85)},e.initDomConstruct=n(86),e.dateHelper=n(87),e.merge=n(27),e.dom={ScrollMonitor:n(88),offset:n(89),windowSize:n(90)},e.cookie=n(31),e.ftUser=n(91),e.generateId=n(30)},function(t,e,n){"use strict";t.exports=n(346).default},function(t,e){t.exports=window.FT.nUi._hiddenComponents.nUiFoundations},function(t,e){t.exports=window.FT.nUi._hiddenComponents.oViewport},function(t,e,n){"use strict";var r=n(1).EnvConfig;t.exports=new r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(171),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=new o.default({apiRoot:"/__myft/api/onsite/"}),t.exports=e.default},function(t,e){t.exports=window.FT.nUi._hiddenComponents.ftdomdelegate},function(t,e,n){"use strict";var r=n(54),o=function t(){r.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",o),t.exports=r},function(t,e,n){"use strict";function r(t){return f[t]}function o(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function i(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function a(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return h.test(t)?t.replace(p,r):t}function s(t){return!t&&0!==t||!(!g(t)||0!==t.length)}function l(t){var e=o({},t);return e._parent=t,e}function u(t,e){return t.path=e,t}function c(t,e){return(t?t+".":"")+e}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.__esModule=!0,e.extend=o,e.indexOf=i,e.escapeExpression=a,e.isEmpty=s,e.createFrame=l,e.blockParams=u,e.appendContextPath=c;var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},p=/[&<>"'`=]/g,h=/[&<>"'`=]/,m=Object.prototype.toString;e.toString=m;var v=function(t){return"function"==typeof t};v(/x/)&&(e.isFunction=v=function(t){return"function"==typeof t&&"[object Function]"===m.call(t)}),e.isFunction=v;var g=Array.isArray||function(t){return!(!t||"object"!==(void 0===t?"undefined":d(t)))&&"[object Array]"===m.call(t)};e.isArray=g},function(t,e,n){"use strict";var r=n(5),o=n(92),i=n(94),a=n(16),s=n(32),l=n(97),u=n(1);r.set(l),e.api={getLivefyreInitConfig:o.livefyre.getInitConfig,getCommentCount:o.livefyre.getCommentCount,getCommentCounts:o.livefyre.getCommentCounts,getAuth:o.user.getAuth,updateUser:o.user.updateUser,getComments:i.getComments,postComment:i.postComment,deleteComment:i.deleteComment,stream:{create:s.create,destroy:s.destroy}},e.cache={clear:a.clear,clearAuth:a.clearAuth,clearLivefyreInit:a.clearLivefyreInit},e.enableLogging=function(){u.logger.enable.apply(this,arguments)},e.disableLogging=function(){u.logger.disable.apply(this,arguments)},e.setLoggingLevel=function(){u.logger.setLevel.apply(this,arguments)},e.setConfig=function(){r.set.apply(this,arguments)},document.addEventListener("o.DOMContentLoaded",function(){try{var t=document.querySelector('script[type="application/json"][data-o-comment-api-config]');if(t){var n=JSON.parse(t.innerHTML);e.setConfig(n)}}catch(t){u.logger.log("Invalid config in the DOM.",t)}})},function(t,e,n){"use strict";t.exports=function(t,e){return"uriComponent"===e.hash.mode?encodeURIComponent(t):"uri"===e.hash.mode?encodeURI(t):encodeURIComponent(t)}},function(t,e,n){"use strict";function r(t){var e=o(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var a=i(r),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var l=i(s);return e.getTime()>=a.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}var o=n(0),i=n(13);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t,{weekStartsOn:1})}var o=n(39);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t);return e.setHours(0,0,0,0),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";t.exports=n(326)},function(t,e,n){"use strict";var r=n(5),o=n(1);e.getAuth=function(){var t=o.ftUser.getSession();if(t){var e=o.storageWrapper.sessionStorage.getItem(r.get().cacheConfig.authBaseName+t);if(e){if(new Date<o.dateHelper.toDateObject(e.expires))return e;o.storageWrapper.sessionStorage.removeItem(r.get().cacheConfig.authBaseName+t)}}},e.removeAuth=function(){var t=o.ftUser.getSession();t&&o.storageWrapper.sessionStorage.removeItem(r.get().cacheConfig.authBaseName+t)},e.cacheAuth=function(t){var e=o.ftUser.getSession();if(!e)return!1;if(t.token)try{var n={};o.storageWrapper.sessionStorage.hasItem(r.get().cacheConfig.authBaseName+e)&&(n=o.storageWrapper.sessionStorage.getItem(r.get().cacheConfig.authBaseName+e));var i=o.merge({},n,t);return o.storageWrapper.sessionStorage.setItem(r.get().cacheConfig.authBaseName+e,i),!0}catch(n){o.logger.debug("Failed to save to the storage.","authObject:",t,"sessionId:",e,"Error:",n)}return!1},e.getInit=function(t){return o.storageWrapper.sessionStorage.getItem(r.get().cacheConfig.initBaseName+t)},e.cacheInit=function(t,e){try{return o.storageWrapper.sessionStorage.setItem(r.get().cacheConfig.initBaseName+t,e),!0}catch(n){o.logger.debug("Failed to save to the storage.","articleId:",t,"initObj:",e,"Error:",n)}return!1},e.removeInit=function(t){o.storageWrapper.sessionStorage.removeItem(r.get().cacheConfig.initBaseName+t)},e.clearAuth=function(){if(o.storageWrapper.sessionStorage.native)for(var t in o.storageWrapper.sessionStorage.native)if(o.storageWrapper.sessionStorage.hasItem(t)){var e=t.match(new RegExp(r.get().cacheConfig.authBaseName+"(.*)"));e&&e.length&&o.storageWrapper.sessionStorage.removeItem(t)}},e.clearLivefyreInit=function(){if(o.storageWrapper.sessionStorage.native)for(var t in o.storageWrapper.sessionStorage.native)if(o.storageWrapper.sessionStorage.hasItem(t)){var e=t.match(new RegExp(r.get().cacheConfig.initBaseName+"(.*)"));e&&e.length&&o.storageWrapper.sessionStorage.removeItem(t)}},e.clear=function(){e.clearAuth(),e.clearInit()}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t){if(Array.isArray(t))return Promise.all(t.map(a));if(!t.ok)throw t.text(),new u(t.url,t.status,t.statusText);return 204===t.status?void t.text():t.json().catch(function(t){if(t.message.indexOf("timeout")>-1)throw new d(t.message);throw new c(t.message)})}function s(t){if(Array.isArray(t))return Promise.all(t.map(s));if(!t.ok)throw t.text(),new u(t.url,t.status,t.statusText);return 204===t.status?void t.text():t.text()}function l(t){return t.name===u.name||t.name===c.name||t.name===d.name}Object.defineProperty(e,"__esModule",{value:!0}),e.json=a,e.text=s,e.originatedError=l;var u=e.BadServerResponseError=function(t){function e(t,n,i){r(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.message=t+" responded with a "+n+" ("+i+")",a.name="BadServerResponseError",a}return i(e,t),e}(Error),c=e.InvalidJsonError=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.message=t,n.name="InvalidJsonError",n}return i(e,t),e}(Error),d=e.ReadTimeoutError=function(t){function e(t){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.message=t,n.name="ReadTimeoutError",n}return i(e,t),e}(Error)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={saved:{actorType:"user",idProperty:"data-content-id",subjectType:"content",uiSelector:'[data-myft-ui="saved"]'},followed:{actorType:"user",idProperty:"data-concept-id",subjectType:"concept",uiSelector:'[data-myft-ui="follow"]'},preferred:{actorType:"user",idProperty:"data-preference-name",subjectType:"preference",uiSelector:'[data-myft-ui="prefer"]'},contained:{actorType:"list",idProperty:"data-content-id",subjectType:"content",uiSelector:'[data-myft-ui="contained"]'}};e.default=r,t.exports=e.default},function(t,e){t.exports=window.FT.nUi._hiddenComponents.oDate},,function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e);return n.setDate(n.getDate()+r),n}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t).getTime(),r=Number(e);return new Date(n+r)}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=new Date(0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),i(n)}var o=n(12),i=n(13);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=n.getTime(),i=o(e),a=i.getTime();return r<a?-1:r>a?1:0}var o=n(0);t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(317),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=function t(){o.default.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",i),e.default=o.default,t.exports=e.default},function(t,e){t.exports=window.FT.nUi._hiddenComponents.oGrid},function(t,e,n){"use strict";function r(t){for(var e=arguments.length,n=r,o=void 0,i=void 0,a=void 0,s=1;s<e;s++){o=arguments[s];for(i in o)o.hasOwnProperty(i)&&null!==(a=o[i])&&void 0!==a&&(void 0===t[i]?t[i]=a:t[i].constructor!==Object?t[i]=a:a.constructor!==Object?t[i]=a:n(t[i],a))}return t}t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=void 0,r=void 0,a=void 0,s=void 0,l=void 0,u=void 0;if("function"!=typeof e)throw"Callback not specified";if("string"==typeof t)l=t;else{if(!t||"object"!==(void 0===t?"undefined":o(t)))return void e(new Error("Configuration not specified or has the wrong type."));if(!t.url)return void e(new Error("URL is not specified"));l=t.url,t.charset&&(u=t.charset)}r=!1,a=function(t){r||(r=!0,e(t||new Error("Timeout")))},s=function(){r||(r=!0,e(null))},n=document.createElement("script"),n.async=!0,u&&(n.charset=u),n.src=l;var c=function(){n&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null)};n.onload=n.onreadystatechange=function(t,e){if(e||!n.readyState||/loaded|complete/.test(n.readyState)){if(c(),e)return void a(new Error("Aborted."));s()}},n.onerror=function(){c(),a(new Error("Error loading script."))},i.insertBefore(n,i.firstChild)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=document.head||document.getElementsByTagName("head")[0];t.exports=r},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=!1;if("undefined"!=typeof Storage)try{localStorage.setItem("test",2),localStorage.removeItem("test",2),o=!0}catch(t){}var i=null;i=o?function(t){var e=void 0;if("local"===t||"localStorage"===t)e=localStorage;else{if("session"!==t&&"sessionStorage"!==t)throw"Not valid storage type selected";e=sessionStorage}this.setItem=function(t,n){var o=void 0,i=void 0;switch(void 0===n?"undefined":r(n)){case"string":case"boolean":o=n;break;case"number":i=parseFloat(n)===parseInt(n,10)?"int":"float",o=n.toString();break;case"array":case"object":if(n instanceof Date)i="date",o=n.getTime();else try{o=JSON.stringify(n),i="json"}catch(t){o=n.toString(),i="object"}break;default:i="unknown",o=n}o=(void 0!==i?i:void 0===n?"undefined":r(n))+"|"+o,e.setItem(t,o)},this.getItem=function(t){var n=void 0,r=e.getItem(t);if(r)switch(n=r.substr(0,r.indexOf("|")),r=r.substr(r.indexOf("|")+1),n){case"string":return r;case"boolean":if("true"===r)return!0;if("false"===r)return!1;return;case"date":return new Date(r);case"int":return parseInt(r,10);case"float":return parseFloat(r);case"json":return JSON.parse(r);case"object":default:return r}},this.hasItem=function(t){return!!e.getItem(t)},this.removeItem=function(t){e.removeItem(t)},this.clear=function(){e.clear()},this.native=e,this.destroy=function(){}}:function(){this.setItem=function(){return!1},this.getItem=function(){},this.hasItem=function(){return!1},this.removeItem=function(){return!1},this.clear=function(){return!1},this.native=void 0,this.destroy=function(){}},t.exports=i},function(t,e,n){"use strict";var r=function(){for(var t="",e="abcdefghijklmnopqrstuvwxyz",n=10*(Math.random()+1),r=0;r<n;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t};t.exports=r},function(t,e,n){"use strict";e.set=function(t,e,n){var r=void 0;if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r="; expires="+o.toGMTString()}else r="";document.cookie=t+"="+e+r+"; path=/"},e.get=function(t){for(var e=t+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null},e.remove=function(t){e.set(t,"",-1)}},function(t,e,n){"use strict";function r(t,e){function n(){if(!f){var e=new Date,r=0,i=!1,a="//"+u.get().livefyre.networkName+".stream1.fyre.co/v3.0/collection/"+t+"/"+o+"/",d=setTimeout(function(){i=!0,c.debug("oCommentApi","stream","backup restart"),p({force:!0})},3e4),p=function(t){t=t||{},c.debug("oCommentApi","stream","restart"),clearTimeout(d),i&&!0!==t.force||(i=!0,r=1e4-(new Date-e),setTimeout(function(){!0===t.report&&s.emit("streamingEvent",{eventType:"info",message:"connection restored"}),n()},r<0?0:r))};try{l.get(a,{success:function(t){try{if(!0===t.timeout)return c.debug("oCommentApi","stream","success, timeout"),void p();t.data&&y(t.data),i||(clearTimeout(d),o=t.data&&t.data.maxEventId?t.data.maxEventId:o,setTimeout(function(){c.debug("oCommentApi","stream","success, new call"),n()},0))}catch(t){s.emit("streamingEvent",{eventType:"error",message:"connection dropped",error:t}),c.debug("oCommentApi","stream","exception",t),p({report:!0})}},error:function(t){s.emit("streamingEvent",{eventType:"error",message:"connection dropped",error:t}),c.debug("oCommentApi","stream","error",t),p({report:!0})},timeout:function(){c.debug("oCommentApi","stream","timeout"),p()}})}catch(t){s.emit("streamingEvent",{eventType:"error",message:"connection dropped",error:t}),c.debug("oCommentApi","stream","exception",t),p({report:!0})}}}var r=[],o=void 0,i=[],a=!1,f=!1;e.callbacks&&e.callbacks instanceof Array&&(r=e.callbacks),e.callback&&"function"==typeof e.callback&&r.push(e.callback),void 0!==e.lastEventId&&(o=e.lastEventId);var p=function(){var t=void 0,e=arguments;for(t=0;t<r.length;t++)!function(t){setTimeout(function(){t.apply(this,e)})}(r[t])},h=function(t,e){-1===i.indexOf(t.content.id)&&i.push(t.content.id),p({comment:{parentId:t.content.parentId||null,author:e?{displayName:e.displayName,tags:e.tags,type:e.type}:null,content:t.content.bodyHtml||null,timestamp:t.content.createdAt||null,commentId:t.content.id||null,visibility:t.vis}})},m=function(t,e){p({comment:{updated:!0,parentId:t.content.parentId||null,author:e?{displayName:e.displayName,tags:e.tags,type:e.type}:null,content:t.content.bodyHtml||null,timestamp:t.content.createdAt||null,commentId:t.content.id||null,visibility:t.vis,lastVisibility:t.lastVis}})},v=function(t){p({comment:{deleted:!0,commentId:t.content.id}})},g=function(t){p({collection:{commentsEnabled:t.value}})},y=function(t){if(t.states){var e=t.states;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];0===r.type&&(r.vis>=1?r.content.updatedBy||-1!==i.indexOf(r.content.id)?m(r,t.authors&&r.content.authorId?t.authors[r.content.authorId]:null):h(r,t.authors&&r.content.authorId?t.authors[r.content.authorId]:null):0===r.vis&&v(r))}}if(t.settings&&t.settings.length){var o=0,a=void 0;for(o=0;o<t.settings.length;o++)a=t.settings[o],"commentsEnabled"===a.name&&g(a)}};this.addCallback=function(t){t&&"function"==typeof t&&r.push(t)},this.removeCallback=function(t){t&&"function"==typeof t&&-1!==r.indexOf(t)&&r.splice(r.indexOf(t),1),0===r.length&&this.destroy()},this.setLastEventId=function(t){o=t},this.init=function(){return!(a||f||void 0===o||void 0===t||!r.length)&&(a=!0,n(),!0)},this.destroy=function(){r=null,o=null,void 0!==d[t]&&(d[t]=void 0),f=!0}}function o(t,e){var n=void 0,o=0;if(t){if("function"==typeof e)n=e;else{if("object"!==(void 0===e?"undefined":a(e)))return!1;if("function"!=typeof e.callback)return!1;n=e.callback,e.lastEventId&&(o=e.lastEventId)}return d[t]?(d[t].addCallback(n),!0):(d[t]=new r(t,{lastEventId:o,callback:n}),d[t].init(),!0)}}function i(t,e){var n=void 0;t&&("function"==typeof e?n=e:"function"==typeof e.callback&&(n=e.callback),d[t]&&(n?d[t].removeCallback(n):d[t].destroy()))}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(95),l=n(96),u=n(5),c=n(1).logger,d={};t.exports={create:o,destroy:i}},function(t,e,n){"use strict";function r(t,e){var n=e&&e.loc,i=void 0,a=void 0;n&&(i=n.start.line,a=n.start.column,t+=" - "+i+":"+a);for(var s=Error.prototype.constructor.call(this,t),l=0;l<o.length;l++)this[o[l]]=s[o[l]];Error.captureStackTrace&&Error.captureStackTrace(this,r);try{n&&(this.lineNumber=i,Object.defineProperty?Object.defineProperty(this,"column",{value:a,enumerable:!0}):this.column=a)}catch(t){}}e.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=new Error,e.default=r,t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t,e,n){return t===e?n.fn(this):n.inverse(this)}},function(t,e,n){"use strict";var r=n(162),o=n(102);e.genre=function(t){return t.find(function(t){return t.types.includes(o.Genre)&&t.predicate===r.ClassifiedBy})},e.brand=function(t){return t.find(function(t){return t.types.includes(o.Brand)&&t.predicate===r.ClassifiedBy})},e.author=function(t){var e=t.filter(function(t){return t.types.includes(o.Person)&&t.predicate===r.Author});return e&&1===e.length?e[0]:void 0},e.displayTag=function(t){return t.find(function(t){return t.predicate===r.DisplayTag})}},,,function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e){e!==("true"===t.getAttribute("aria-pressed"))&&p.toggleState(t),t.removeAttribute("disabled")}function i(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(u.default[t]){var a=u.default[t].uiSelector,l=u.default[t].idProperty;Array.from(r.querySelectorAll(a)).map(function(t){return t.closest("form")}).forEach(function(r){e.includes(r.getAttribute(l))&&(s(t,e[0],n,i),o(r.querySelector("button"),n))})}}function a(t,e,n){return i(t,[e],n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:document,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{})}function s(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};"followed"===t&&!0===n&&r.subject&&r.subject.properties&&d.addRelationship(t,r.subject.properties),"followed"===t&&!1===n&&d.removeRelationship(t,e)}Object.defineProperty(e,"__esModule",{value:!0}),e.toggleButton=o,e.setStateOfManyButtons=i,e.setStateOfButton=a;var l=n(18),u=function(t){return t&&t.__esModule?t:{default:t}}(l),c=n(51),d=r(c),f=n(110),p=r(f)},function(t,e,n){"use strict";function r(t,e){var n=e?Number(e.weekStartsOn)||0:0,r=o(t),i=r.getDay(),a=(i<n?7:0)+i-n;return r.setDate(r.getDate()-a),r.setHours(0,0,0,0),r}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e),s=n.getTime()-n.getTimezoneOffset()*i,l=r.getTime()-r.getTimezoneOffset()*i;return Math.round((s-l)/a)}var o=n(14),i=6e4,a=864e5;t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e),a=n.getMonth()+r,s=new Date(0);s.setFullYear(n.getFullYear(),a,1),s.setHours(0,0,0,0);var l=i(s);return n.setMonth(a,Math.min(l,n.getDate())),n}var o=n(0),i=n(59);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return n.getTime()-r.getTime()}var o=n(0);t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=[],o=function(){var t="jsonpCallback_"+(r.length+1);return r.push(t),t},i=function(){return("withCredentials"in new XMLHttpRequest?fetch:a).apply(void 0,arguments)},a=function(t,e){var n={timeout:2e3};return e=e||{},Object.keys(n).forEach(function(t){e.hasOwnProperty(t)||(e[t]=n[t])}),new Promise(function(n,r){var i=o(),a=void 0;window.FT=window.FT||{},window.FT[i]=function(t){var e=t.status?t.status:200;n({ok:2===Math.floor(e/100),status:e,json:function(){return Promise.resolve(t.body||t)}}),a&&clearTimeout(a)};var s=document.createElement("script");s.defer=!0,s.src=t+(t.indexOf("?")>-1?"&":"?")+"callback=FT."+i,document.body.appendChild(s),a=setTimeout(function(){r(new Error("JSONP request to "+t+" timed out"))},e.timeout)})};e.default=i,e.jsonpFetch=a},function(t,e){t.exports=window.FT.nUi._hiddenComponents.nImage},function(t,e,n){"use strict";var r=n(380);t.exports=function(t){if(t.data){var e=new r(t.hash);return t.fn({image:e})}}},function(t,e,n){"use strict";var r=n(389),o=n(400);t.exports=function(t,e){if(e.hash&&Object.assign(t,e.hash),e.data){var n=void 0;return n=t.canBePackage&&"package"===t.type.toLowerCase()?new o(t):new r(t),e.fn(t,{data:{nTeaserPresenter:n}})}}},function(t,e,n){"use strict";var r=n(393),o=n(102);e.isOpinion=function(t){return Boolean(t)&&t.types.includes(o.Genre)&&"Opinion"===t.prefLabel},e.isGenrePrefix=function(t){return Boolean(t)&&r.DisplayAsPrefix.has(t.prefLabel)},e.isGenreBranded=function(t){return Boolean(t)&&r.DisplayWithBrand.has(t.prefLabel)},e.isInPackage=function(t){return Array.isArray(t)&&t.length>=1}},,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(172),a=r(i),s=n(173),l=r(s),u={},c=function(){return(/FTSession=([^;]+)/.exec(document.cookie)||[null,""])[1]},d=function(){var t=/FTSession_s=([^;]+)/.exec(document.cookie)||[];return o(t,2)[1]},f=function(){var t=(0,l.default)("uuid");if(t)return Promise.resolve({uuid:t});var e=d();return e?(u.uuid||(u.uuid=(0,a.default)("/sessions/s/"+e).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uuid;return delete u.uuid,e&&(0,l.default)("uuid",e),{uuid:e}})),u.uuid):Promise.resolve({uuid:void 0})},p=function(){var t=(0,l.default)("products"),e=(0,l.default)("uuid");return t&&e?Promise.resolve({products:t,uuid:e}):d()?(u.products||(u.products=(0,a.default)("/products",{credentials:"include"}).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.products,n=t.uuid;return u.products=void 0,e&&(0,l.default)("products",e),n&&(0,l.default)("uuid",n),{products:e,uuid:n}})),u.products):Promise.resolve({})},h=function(){return f().then(function(t){return!!t.uuid})};e.default={uuid:f,products:p,validate:h,cache:l.default,cookie:c,sessionId:d},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return h[t]||[]}function i(t){return new Promise(function(e){var n=d.default[t].subjectType,r=t+"."+n;if(u.default.loaded[r])return h[t]=u.default.loaded[r],e();var o=function(){h[t]=u.default.loaded[r].items,e()},i="myft.user."+t+"."+n+".load";document.body.addEventListener(i,o),setTimeout(function(){document.body.removeEventListener(i,o),e()},p.assumeNoneTimeout)})}function a(t,e){if(h[t]){-1===m(t,e.uuid)&&h[t].push(e)}else h[t]=[e]}function s(t,e){var n=m(t,e);-1!==n&&h[t].splice(n,1)}Object.defineProperty(e,"__esModule",{value:!0}),e.getRelationships=o,e.waitForRelationshipsToLoad=i,e.addRelationship=a,e.removeRelationship=s;var l=n(6),u=r(l),c=n(18),d=r(c),f=n(182),p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f),h={},m=function(t,e){return h[t].findIndex(function(t){return t.uuid===e})}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){if(f||i(),c.length>0&&c[c.length-1].optionsContent===t.content){var e=c[c.length-1];clearTimeout(e.timeout),e.timeout=setTimeout(e.hide.bind(e),u)}else c.push(new h(t))}function i(){f||(p=document.createElement("div"),p.className="n-notification",document.body.appendChild(p),document.addEventListener("nNotification.show",d,!1),f=!0)}function a(){c.forEach(function(t){return t.hide()}),c.length=0,p.parentNode.removeChild(p),document.removeEventListener("nNotification.show",d,!1),f=!1}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(185),u=5e3,c=[],d=function(t){return o(t.detail)},f=!1,p=void 0,h=function(){function t(e){r(this,t),e.trackable=e.trackable||"notification-"+e.type,this.notice=document.createElement("div"),this.notice.appendChild(l(e)),this.notice.querySelector("button").onclick=this.hide.bind(this);var n=p.firstChild;p.insertBefore(this.notice,n),0!==e.duration&&(this.timeout=setTimeout(this.hide.bind(this),e.duration||u)),this.optionsContent=e.content}return s(t,[{key:"hide",value:function(){clearTimeout(this.timeout),this.notice.parentNode.removeChild(this.notice);var t=c.indexOf(this);t>-1&&c.splice(t,1),this.dispatchNotificationCloseEvent()}},{key:"dispatchNotificationCloseEvent",value:function(){document.dispatchEvent(new CustomEvent("nNotification.close"))}}]),t}();t.exports={init:i,show:o,teardown:a}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=t&&"A"===t.nodeName?[t]:(0,i.$$)('a[href^="/myft"]',t);return Promise.all(e.map(function(t){return o.default.personaliseUrl(t.getAttribute("href")).then(function(e){return t.setAttribute("href",e)})}))};var r=n(6),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=n(3);t.exports=e.default},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=n(7),a=n(4),s=n(55),l=n(57),u={},c=function(t){if(!t.trigger||t.trigger instanceof HTMLElement||(t.trigger=document.querySelector(t.trigger)),t.heading&&(!t.heading.title||!t.heading.title.trim()))throw new Error('"o-overlay error": To have a heading, a non-empty title needs to be set');if(void 0===t.modal&&(t.modal=!0),void 0===t.layer&&(t.layer=!0),t.compact&&t.heading&&t.heading.shaded)throw new Error('"o-overlay error": Compact overlays can\'t have a shaded header');return t.parentNode&&(console.warn("Please change the instantation of o-overlay to use the `parentnode` option instead of `parentNode`. `parentNode` will be removed in a future major version."),t.parentnode=t.parentNode),t.noFocus&&(console.warn("Please change the instantation of o-overlay to use the `nofocus` option instead of `noFocus`. `noFocus` will be removed in a future major version."),t.nofocus=t.noFocus),t},d=function(t){var e={};return t instanceof HTMLElement&&(Array.prototype.forEach.call(t.attributes,function(t){if(0===t.name.indexOf("data-o-overlay")){var n=t.name.replace("data-o-overlay-","");e=l.optionsFromKey(n,t.value,e)}}),e.trigger=t),e},f=function(t,e){e.stopPropagation();var n=u[t];n&&(!0===n.visible?n.close():n.open())},p=function(t,e){u[t]&&console.warn('o-overlay with id "'+t+'" already exists. Creating an overlay twice with the same id may result in unexpected behaviour. This will error in the next major release of o-overlay.'),a.listenTo("resize"),this.visible=!1,this.id=t;try{this.opts=c(e)}catch(t){throw this.broadcast("log","oErrors",{error:t}),t}if(!this.opts){var n=new Error('"o-overlay error": Required options have not been set');throw this.broadcast("log","oErrors",{error:n}),n}this.opts.trigger?(this.opts.trigger.addEventListener("click",f.bind(this.opts.trigger,t),!1),this.context=s.getLayerContext(this.opts.trigger)):document.querySelector(this.opts.parentnode)?this.context=document.querySelector(this.opts.parentnode):this.context=document.body,this.delegates={doc:new i,wrap:new i,context:new i},u[t]=this};p.prototype.open=function(){if((this.opts.modal||this.opts.fullscreen)&&(this.originalOverflow=document.documentElement.style.overflow,document.documentElement.style.overflow="hidden"),window.history.pushState&&this.opts.fullscreen&&(window.history.pushState(o({},"o-overlay-"+this.id,"fullscreen"),window.location.href),this.popstateHandler=function(){window.history.state&&window.history.state["o-overlay-"+this.id]&&this.close()}.bind(this),window.addEventListener("popstate",this.popstateHandler)),this.opts.trigger&&this.opts.trigger.setAttribute("aria-pressed","true"),this.content)this.show();else{var t=this;this.loadContent(function(e){if(t.opts.html=e,!t.opts.html)throw new Error('"o-overlay error": Content for the overlay needs to be set via the "html" or the "src" option.');t.render()})}},p.prototype.loadContent=function(t){!this.opts.html&&this.opts.src?/^(https?\:\/)?\//.test(this.opts.src)?l.copyContentFromUrl(this.opts.src,function(e){t(e)}):l.copyContentFromElement(document.querySelector(this.opts.src),function(e){t(e)}):t(this.opts.html)},p.prototype.render=function(){var t=document.createElement("div");if(t.className="o-overlay",t.classList.add("o-overlay--"+this.id.replace(" ","-")),this.opts.class)try{var e;(e=t.classList).add.apply(e,r(this.opts.class.split(" ")))}catch(t){console.warn("Could not add the classes: "+this.opts.class)}if(this.opts.fullscreen&&t.classList.add("o-overlay--full-screen"),t.setAttribute("role","dialog"),this.opts.zindex&&(t.style.zIndex=this.opts.zindex),this.wrapper=t,this.opts.heading){var n=document.createElement("header"),o=this.opts.heading.title.replace(" ","-").toLowerCase();if(n.classList.add("o-overlay__heading"),n.setAttribute("id",o),t.setAttribute("aria-labelledby",o),this.opts.heading.shaded&&n.classList.add("o-overlay__heading--shaded"),!this.opts.preventclosing){var i=document.createElement("a");i.className="o-overlay__close",i.setAttribute("role","button"),i.setAttribute("href","#void"),i.setAttribute("aria-label","Close"),i.setAttribute("title","Close"),this.opts.nofocus||i.setAttribute("tabindex","0"),n.appendChild(i)}var a=document.createElement("span");a.setAttribute("role","heading"),a.className="o-overlay__title",this.opts.heading.visuallyHideTitle||(a.innerHTML=this.opts.heading.title),n.appendChild(a),t.appendChild(n)}if(this.opts.tooltip){var s=document.createElement("a");s.className="o-overlay__close",s.setAttribute("role","button"),s.setAttribute("href","#void"),s.setAttribute("aria-label","Close"),s.setAttribute("title","Close"),this.opts.nofocus||s.setAttribute("tabindex","0"),t.appendChild(s),t.classList.add("o-overlay--compact")}var l=document.createElement("section");l.className="o-overlay__content",t.appendChild(l),this.content=l,this.opts.compact&&t.classList.add("o-overlay--compact"),this.show()},p.prototype.show=function(){if(this.opts.modal){this.wrapper.classList.add("o-overlay--modal");var t=document.createElement("div");t.className="o-overlay-shadow",this.shadow=t,document.body.appendChild(t)}this.delegates.doc.root(document.body),this.delegates.wrap.root(this.wrapper),this.delegates.context.root(this.context),this.closeHandler=this.close.bind(this),this.opts.nested||(this.resizeListenerHandler=this.resizeListener.bind(this),this.delegates.doc.on("oViewport.resize","body",this.resizeListenerHandler),this.closeOnEscapePressHandler=this.closeOnEscapePress.bind(this),this.delegates.doc.on("keyup",this.closeOnEscapePressHandler)),this.opts.layer&&(this.closeOnNewLayerHandler=this.closeOnNewLayer.bind(this),this.delegates.context.on("oLayers.new",this.closeOnNewLayerHandler),this.broadcast("new","oLayers")),(this.opts.heading||this.opts.tooltip||this.opts.customclose)&&(this.delegates.wrap.on("click",".o-overlay__close",this.closeHandler),this.delegates.wrap.on("touchend",".o-overlay__close",this.closeHandler)),this.closeOnExternalClickHandler=this.closeOnExternalClick.bind(this),this.delegates.doc.on("click","body",this.closeOnExternalClickHandler),this.delegates.doc.on("touchend","body",this.closeOnExternalClickHandler),this.context.appendChild(this.wrapper),this.opts.nofocus||(this.wrapper.setAttribute("tabindex","0"),this.wrapper.style.outline=0),window.requestAnimationFrame(function(){this.content.innerHTML||("string"==typeof this.opts.html?this.content.innerHTML=this.opts.html:this.content.appendChild(this.opts.html)),this.width=this.getWidth(),this.height=this.getHeight(),this.opts.nested||this.realign(),this.visible=!0,this.wrapper.focus(),this.broadcast("ready"),this.broadcast("event","oTracking",{category:"overlay",action:"show",overlay_id:this.id})}.bind(this))},p.prototype.close=function(){return this.delegates.doc.destroy(),this.delegates.wrap.destroy(),this.delegates.context.destroy(),(this.opts.modal||this.opts.fullscreen)&&(document.documentElement.style.overflow=this.originalOverflow),this.opts.fullscreen&&window.removeEventListener("popstate",this.popstateHandler),window.history.pushState&&window.history.state&&"fullscreen"===window.history.state["o-overlay-"+this.id]&&window.history.back(),a.stopListeningTo("resize"),this.broadcast("destroy"),this.broadcast("event","oTracking",{category:"overlay",action:"close",overlay_id:this.id}),this.context.removeChild(this.wrapper),this.opts.modal&&this.shadow.parentNode.removeChild(this.shadow),this.opts.trigger&&(this.opts.trigger.focus(),this.opts.trigger.setAttribute("aria-pressed","false")),this.visible=!1,this.opts.layer&&this.broadcast("close","oLayers"),!1},p.prototype.closeOnExternalClick=function(t){this.wrapper.contains(t.target)||this.opts.modal||!this.opts.trigger||this.opts.trigger.contains(t.target)||this.close()},p.prototype.closeOnEscapePress=function(t){this.opts.preventclosing||27!==t.keyCode||this.close()},p.prototype.closeOnNewLayer=function(t){t.detail&&t.detail.el===this||this.close()},p.prototype.resizeListener=function(t){this.wrapper.contains(t.target)||this.respondToWindow()},p.prototype.broadcast=function(t,e,n){e=e||"oOverlay";var r="oLayers"===e?this.context:this.wrapper||document.body;n=n||{},"oTracking"!==e&&(n.el=this),r.dispatchEvent(new CustomEvent(e+"."+t,{detail:n,bubbles:"oLayers"!==e}))},p.prototype.realign=function(t,e){return t||e?t&&!e?void this._align(t,a.getSize().dimension):void this._align(t,e):(this._align("width",a.getSize().width),void this._align("height",a.getSize().height))},p.prototype._align=function(t,e){if("width"!==t&&"height"!==t)throw new Error('Can not realign the overlay for the dimension "'+t+'". "height" or "width" expected.');if(isNaN(e))throw new Error("Can not realign the overlay for the size "+e+". A number is expected.");var n="width"===t?"left":"top";if(this.width=this.getWidth(),this.height=this.getHeight(),e<=this[t]){if(this.wrapper.classList.add("o-overlay--full-"+t),this.wrapper.style[n]="0",this.wrapper.style["margin"+l.capitalise(n)]=0,"height"===t){var r=this.wrapper.offsetHeight-this.wrapper.clientHeight;this.content.style.height=this.wrapper.offsetHeight-(this.opts.heading?this.wrapper.querySelector("header").offsetHeight:0)-r+"px"}}else"height"===t&&(this.content.style.height=null),this.wrapper.classList.remove("o-overlay--full-"+t),this.wrapper.style["margin"+l.capitalise(n)]=-this.wrapper["offset"+l.capitalise(t)]/2+"px",this.wrapper.style[n]="50%"},p.prototype.respondToWindow=function(){this.realign()},p.prototype.fills=function(t){return this.wrapper.classList.contains("o-overlay--full-"+t)},p.prototype.destroy=function(){!0===this.visible&&this.close(),this.opts.trigger&&this.opts.trigger.removeEventListener("click",f),delete u[this.id]},p.prototype.getHeight=function(){var t=this.wrapper.offsetHeight-this.wrapper.clientHeight;return this.content.scrollHeight+(this.opts.heading?this.wrapper.querySelector("header").offsetHeight:0)+t},p.prototype.getWidth=function(){var t=this.wrapper.offsetWidth-this.wrapper.clientWidth;return this.content.scrollWidth+t},p.init=function(t){t||(t=document.body),t instanceof HTMLElement||(t=document.querySelector(t));for(var e=t.querySelectorAll(".o-overlay-trigger"),n=[],r=0;r<e.length;r++)u[e[r].getAttribute("data-o-overlay-id")]||n.push(new p(e[r].getAttribute("data-o-overlay-id"),d(e[r])));return n},p.destroy=function(){Object.keys(u).forEach(function(t){u[t].destroy()})},p.getOverlays=function(){return u},t.exports=p},function(t,e,n){"use strict";var r=n(56);t.exports={getLayerContext:function(t){return r.getClosestMatch(t,".o-layers__context")||document.body}}},function(t,e,n){"use strict";function r(t,e){for(;t;){if(t.matches(e))return t;t=t.parentElement}return!1}function o(t){var e=0;if(t&&"object"===(void 0===t?"undefined":i(t))&&1===t.nodeType){for(;t.previousSibling;)t=t.previousSibling,1===t.nodeType&&++e;return e}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getClosestMatch=r,e.getIndex=o},function(t,e,n){"use strict";t.exports={unCapitalise:function(t){return t.charAt(0).toLowerCase()+t.substr(1)},capitalise:function(t){return t.charAt(0).toUpperCase()+t.substr(1)},copyContentFromElement:function(t,e){e("SCRIPT"===t.nodeName?t.innerHTML:t.outerHTML)},copyContentFromUrl:function(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.onload=function(){4===n.readyState&&e(200===n.status?n.responseText:"Content failed to load correctly")},n.onerror=function(e){throw new Error('"o-overlay error": Fetching content from '+t+" failed with errror "+e)},n.send(null)},optionsFromKey:function(t,e,n){var r=t.indexOf("-");if(-1===r)try{n[t]=JSON.parse(e.replace(/\'/g,'"'))}catch(r){n[t]=e}else{var o=t.substr(0,r);n[o]||(n[o]={}),n[o]=this.optionsFromKey(t.substr(r+1),e,n[o])}return n},getOffsetRect:function(t){var e=t.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft,a=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0;return{width:e.width||e.right-e.left,height:e.height||e.bottom-e.top,top:e.top+o-a,left:e.left+i-s}}}},function(t,e,n){"use strict";function r(t){return t instanceof Date}t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,7*n)}var o=n(21);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=n.getTime(),i=o(e),a=i.getTime();return r>a?-1:r<a?1:0}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e),s=a(n,r),l=Math.abs(i(n,r));return n.setMonth(n.getMonth()-s*l),s*(l-(a(n,r)===-s))}var o=n(0),i=n(119),a=n(24);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}var o=n(42);t.exports=r},function(t,e,n){"use strict";var r=n(211),o=n(212);t.exports={distanceInWords:r(),format:o()}},function(t,e,n){"use strict";function r(t){var e=o(t);return e.setHours(23,59,59,999),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=i(e).getTime()-a(e).getTime();return Math.round(n/s)+1}var o=n(0),i=n(13),a=n(23),s=6048e5;t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=o(t,n),i=o(e,n);return r.getTime()===i.getTime()}var o=n(39);t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(69),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=function t(){o.default.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",i),e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){t.opts.advertising&&t.videoAds&&t.videoAds.adsLoaded&&!t.videoAds.adsCompleted||("progress"!==e.type||s(t.getProgress()))&&a(e.type,t,{progress:t.getProgress(),duration:t.getDuration(),textTrackMode:t.getTrackMode()})}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new CustomEvent("oTracking.event",{detail:Object.assign({category:"video",action:t,advertising:e.opts.advertising,contentId:e.opts.id},n),bubbles:!0});document.body.dispatchEvent(r)}function s(t){return[8,9,10,11,12,23,24,25,26,27,48,49,50,51,52,73,74,75,76,77,100].includes(t)}function l(t,e){var n=this;e.forEach(function(e){t.videoEl.addEventListener(e,i.bind(n,t))})}function u(t,e){var n="https://www.ft.com/__origami/service/image/v2/images/raw/"+encodeURIComponent(t)+"?source=o-video&quality=low";return e&&(n+="&fit=scale-down&width="+e),n}function c(t){var e={};return Array.prototype.forEach.call(t,function(t){if(0===t.name.indexOf("data-o-video")){var n=t.name.replace("data-o-video-","").replace(/-([a-z])/g,function(t,e){return e.toUpperCase()});try{e[n]="placeholderInfo"===n?JSON.parse(t.value.replace(/\'/g,'"')):JSON.parse(t.value)}catch(r){e[n]=t.value}}}),e}function d(){this.updateAmountWatched(),a("watched",this,{amount:this.getAmountWatched(0),amountPercentage:this.getAmountWatchedPercentage(0)})}function f(t){t.detail.hidden?this.updateAmountWatched():this.videoEl.paused||this.markPlayStart()}Object.defineProperty(e,"__esModule",{value:!0});var p=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=n(4),m=r(h),v=n(43),g=r(v),y=n(70),b=r(y),w=n(72),E=r(w),_=n(73),x=r(_),k=n(74),T=r(k),S="onbeforeunload"in window?"beforeunload":"unload",C={advertising:!1,allProgress:!1,autorender:!0,classes:[],optimumwidth:null,placeholder:!1,placeholderInfo:["title"],placeholderHint:"",playsinline:!1,showCaptions:!0,data:null},L=function(){function t(e,n){o(this,t),this.containerEl=e,this.amountWatched=0,this.fireWatchedEvent=d.bind(this),this.visibilityListener=f.bind(this),this.opts=Object.assign({},C,n,c(this.containerEl.attributes)),"string"==typeof this.opts.classes&&(this.opts.classes=this.opts.classes.split(" ")),-1===this.opts.classes.indexOf("o-video__video")&&this.opts.classes.push("o-video__video"),this.targeting={site:"/5887/ft.com",position:"video",sizes:"592x333|400x225",videoId:this.opts.id},this.opts.advertising&&(this.videoAds=new E.default(this)),this.containerEl.setAttribute("data-o-video-js",""),!0===this.opts.autorender&&this.init()}return p(t,[{key:"getData",value:function(){var t=this;return(this.opts.data?Promise.resolve(this.opts.data):(0,g.default)("https://next-media-api.ft.com/v1/"+this.opts.id).then(function(e){if(e.ok)return e.json();throw Error("Next Media API responded with a "+e.status+" ("+e.statusText+") for id "+t.opts.id)})).then(function(e){t.videoData=e,t.posterImage=e.mainImageUrl&&u(e.mainImageUrl,t.opts.optimumwidth),t.rendition=(0,b.default)(e.renditions,t.opts)})}},{key:"renderVideo",value:function(){this.rendition&&(this.opts.placeholder?this.addPlaceholder():this.addVideo())}},{key:"init",value:function(){var t=this;return(this.opts.advertising?E.default.loadAdsLibrary():Promise.resolve()).catch(function(){t.opts.advertising=!1}).then(function(){return t.getData()}).then(function(){return t.renderVideo()})}},{key:"addVideo",value:function(){this.liveRegionEl=document.createElement("div"),this.liveRegionEl.setAttribute("aria-live","assertive"),this.liveRegionEl.classList.add("o-video__live-region"),this.videoEl=document.createElement("video"),this.videoEl.controls=!0,this.videoEl.className=Array.isArray(this.opts.classes)?this.opts.classes.join(" "):this.opts.classes,this.containerEl.classList.add("o-video--player"),this.opts.playsinline&&(this.videoEl.setAttribute("playsinline","true"),this.videoEl.setAttribute("webkit-playsinline","true")),this.videoEl.controlsList&&this.videoEl.controlsList.add("nodownload"),this.updateVideo(),this.placeholderEl&&!this.opts.advertising&&(this.videoEl.autoplay=this.videoEl.autostart=!0),this.containerEl.appendChild(this.liveRegionEl),this.containerEl.appendChild(this.videoEl),l(this,["playing","pause","ended","progress","seeked","error","stalled"]),this.videoEl.addEventListener("playing",this.pauseOtherVideos.bind(this)),this.videoEl.addEventListener("playing",this.markPlayStart.bind(this)),this.videoEl.addEventListener("pause",this.updateAmountWatched.bind(this)),this.videoEl.addEventListener("suspend",this.clearCurrentlyPlaying.bind(this)),this.videoEl.addEventListener("ended",this.clearCurrentlyPlaying.bind(this)),this.opts.advertising&&this.videoAds.setUpAds(),window.addEventListener(S,this.fireWatchedEvent),m.default.listenTo("visibility"),window.addEventListener("oViewport.visibility",this.visibilityListener)}},{key:"addCaptions",value:function(){if(!1!==this.opts.showCaptions){if(void 0===this.videoData)throw new Error("Please call `getData()` before calling `addCaptions()` directly.");var t=this.videoEl.querySelector("track");if(t&&this.videoEl.removeChild(t),this.videoData.captionsUrl){var e=document.createElement("track");e.setAttribute("label","English"),e.setAttribute("kind","captions"),e.setAttribute("srclang","en"),e.setAttribute("src",this.videoData.captionsUrl),e.setAttribute("crossorigin","true"),this.videoEl.setAttribute("crossorigin","true"),this.videoEl.appendChild(e)}}}},{key:"updateVideo",value:function(){this.posterImage?this.videoEl.poster=this.posterImage:this.videoEl.removeAttribute("poster"),this.videoEl.src=this.rendition&&this.rendition.url,this.addCaptions()}},{key:"addPlaceholder",value:function(){this.placeholderEl=document.createElement("div"),this.placeholderEl.className="o-video__placeholder",this.placeholderImageEl=document.createElement("img"),this.placeholderImageEl.className="o-video__placeholder-image",this.placeholderImageEl.setAttribute("role","presentation"),this.placeholderImageEl.setAttribute("alt",""),this.placeholderEl.appendChild(this.placeholderImageEl),this.opts.placeholderInfo.length&&(this.infoPanel=new x.default(this));var t=document.createElement("button");t.className="o-video__play-button",this.playButtonIconEl=document.createElement("span"),this.playButtonIconEl.className="o-video__play-button-icon",this.playButtonIconEl.textContent=this.opts.placeholderHint,t.appendChild(this.playButtonIconEl),this.placeholderEl.appendChild(t),this.placeholderEl.addEventListener("click",this.play.bind(this)),this.updatePlaceholder(),this.containerEl.appendChild(this.placeholderEl)}},{key:"play",value:function(){this.placeholderEl?(this.addVideo(),this.videoEl.focus(),this.containerEl.removeChild(this.placeholderEl),this.infoPanel&&this.infoPanel.teardown(),delete this.placeholderEl,delete this.placeholderImageEl):this.videoEl.play()}},{key:"updatePlaceholder",value:function(){this.posterImage&&(this.placeholderImageEl.src=this.posterImage),this.infoPanel&&this.infoPanel.update(),this.playButtonIconEl&&this.playButtonIconEl.setAttribute("aria-label","Play video "+this.videoData.title)}},{key:"update",value:function(t){var e=this;return this.videoEl&&this.videoEl.pause(),this.clearCurrentlyPlaying(),this.opts=Object.assign(this.opts,{data:null},t),this.videoEl||this.placeholderEl?this.getData().then(function(){e.placeholderEl?e.updatePlaceholder():e.updateVideo()}):this.init()}},{key:"getProgress",value:function(){return this.videoEl.duration?parseInt(100*this.videoEl.currentTime/this.videoEl.duration,10):0}},{key:"getDuration",value:function(){return this.videoEl.duration?parseInt(this.videoEl.duration,10):0}},{key:"getTrackMode",value:function(){return this.videoEl.textTracks&&this.videoEl.textTracks[0]?this.videoEl.textTracks[0].mode:void 0}},{key:"getAmountWatched",value:function(t){var e=this.amountWatched/1e3;return void 0!==t?+e.toFixed(t):e}},{key:"getAmountWatchedPercentage",value:function(t){var e=this.videoEl&&this.videoEl.duration?100/this.videoEl.duration*this.getAmountWatched():0;return void 0!==t?+e.toFixed(t):e}},{key:"pauseOtherVideos",value:function(){this.currentlyPlayingVideo&&this.currentlyPlayingVideo!==this.videoEl&&this.currentlyPlayingVideo.pause(),this.currentlyPlayingVideo=this.videoEl}},{key:"clearCurrentlyPlaying",value:function(){this.currentlyPlayingVideo!==this.videoEl&&(this.currentlyPlayingVideo=null)}},{key:"markPlayStart",value:function(){this.playStart=Date.now()}},{key:"updateAmountWatched",value:function(){void 0!==this.playStart&&(this.amountWatched+=Date.now()-this.playStart,this.playStart=void 0)}},{key:"resetAmountWatched",value:function(){this.amountWatched=0}},{key:"destroy",value:function(){window.removeEventListener(S,this.fireWatchedEvent),window.removeEventListener("oViewport.visibility",this.visibilityListener)}}],[{key:"init",value:function(e,n){var r=[];e?"string"==typeof e&&(e=document.querySelector(e)):e=document.body;for(var o=e.querySelectorAll(':not([data-o-video-js])[data-o-component~="o-video"]'),i=0;i<o.length;i++)r.push(new t(o[i],n));return r}}]),t}();L.Playlist=T.default,e.default=L,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){var n=e||{},r=n.optimumvideowidth,o=n.supportedFormats||(0,i.default)(),a=void 0,s=t.filter(function(t){return o.indexOf(t.codec.toLowerCase())>-1}).sort(function(t,e){return t.pixelWidth-e.pixelWidth});return r?(s.some(function(t){return t.pixelWidth>=r&&(a=t,!0)}),a||s.pop()):s.pop()}Object.defineProperty(e,"__esModule",{value:!0});var o=n(71),i=function(t){return t&&t.__esModule?t:{default:t}}(o);e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(){var t=document.createElement("video"),e=[];try{Object.keys(o).forEach(function(n){o[n].some(function(e){return t.canPlayType(e)})&&e.push(n)})}catch(t){}return e}Object.defineProperty(e,"__esModule",{value:!0});var o={mpeg4:['video/mp4; codecs="mp4v.20.8"'],h264:['video/mp4; codecs="avc1.42E01E"','video/mp4; codecs="avc1.42E01E, mp4a.40.2"'],ogg:['video/ogg; codecs="theora"'],webm:['video/webm; codecs="vp8, vorbis"']};e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){var t=document.createElement("div");return t.classList.add("o-video__overlay"),t}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=!1,s=function(){function t(e){r(this,t),this.video=e,this.adsLoaded=!1,this.videoLoaded=!1,this.loadingStateDisplayed=!1,this.adsCompleted=!1}return i(t,[{key:"getVideoBrand",value:function(){return!!(this.video.videoData&&this.video.videoData.brand&&this.video.videoData.brand.name)&&this.video.videoData.brand.name}},{key:"setUpAds",value:function(){this.adContainerEl=document.createElement("div"),this.video.containerEl.appendChild(this.adContainerEl),this.adDisplayContainer=new google.ima.AdDisplayContainer(this.adContainerEl,this.video.videoEl),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsManagerLoadedHandler=this.adsManagerLoadedHandler.bind(this),this.adErrorHandler=this.adErrorHandler.bind(this),this.adEventHandler=this.adEventHandler.bind(this),this.contentPauseRequestHandler=this.contentPauseRequestHandler.bind(this),this.contentResumeRequestHandler=this.contentResumeRequestHandler.bind(this),this.getAdProgress=this.getAdProgress.bind(this),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.adsManagerLoadedHandler,!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.adErrorHandler,!1),this.requestAds(),this.playAdEventHandler=this.playAdEventHandler.bind(this),this.video.opts.placeholder?this.playAdEventHandler():(this.overlayEl=o(),this.video.containerEl.appendChild(this.overlayEl),this.overlayEl.addEventListener("click",this.playAdEventHandler))}},{key:"requestAds",value:function(){var t=new google.ima.AdsRequest,e="pos="+this.video.targeting.position+"&ttid="+this.video.targeting.videoId,n=this.getVideoBrand();n&&(e+="&brand="+n);var r="http://pubads.g.doubleclick.net/gampad/ads?env=vp&gdfp_req=1&impl=s&output=xml_vast2&iu="+this.video.targeting.site+"&sz="+this.video.targeting.sizes+"&unviewed_position_start=1&scp="+encodeURIComponent(e);t.adTagUrl=r,t.linearAdSlotWidth=592,t.linearAdSlotHeight=333,t.nonLinearAdSlotWidth=592,t.nonLinearAdSlotHeight=150;var o={detail:{category:"video",action:"adRequested",contentId:this.video.opts.id},bubbles:!0},i=new CustomEvent("oTracking.event",o);document.body.dispatchEvent(i),this.adsLoader.requestAds(t)}},{key:"adsManagerLoadedHandler",value:function(t){var e=new google.ima.AdsRenderingSettings;e.restoreCustomPlaybackStateOnAdBreakComplete=!0,this.adsManager=t.getAdsManager(this.video.videoEl,e),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.adErrorHandler),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.contentPauseRequestHandler),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.contentResumeRequestHandler),this.adsManager.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,this.adEventHandler),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,this.adEventHandler),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,this.adEventHandler),this.adsManager.addEventListener(google.ima.AdEvent.Type.COMPLETE,this.adEventHandler),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPED,this.adEventHandler),this.adsManager.addEventListener(google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,this.adEventHandler),this.adsLoaded=!0,this.startAds()}},{key:"startAds",value:function(){if(this.videoLoaded&&this.loadingStateDisplayed){if(this.video.opts.advertising){if(!this.adsLoaded)return}else this.playUserVideo();this.loadingStateEl&&(this.loadingStateEl.parentNode.removeChild(this.loadingStateEl),this.loadingStateEl=null);try{this.adsManager.init(this.video.videoEl.clientWidth,this.video.videoEl.clientHeight,google.ima.ViewMode.NORMAL),this.adsManager.start()}catch(t){this.reportError(t),this.playUserVideo()}}}},{key:"playAdEventHandler",value:function(){var t=this;this.adContainerEl.classList.add("o-video__ad"),this.adDisplayContainer.initialize(),this.loadingStateEl=document.createElement("span"),this.loadingStateEl.setAttribute("role","progressbar"),this.loadingStateEl.setAttribute("aria-valuetext","Loading"),this.loadingStateEl.className="o-video__loading-state",this.adContainerEl.appendChild(this.loadingStateEl),setTimeout(function(){t.loadingStateDisplayed=!0,t.startAds()},2e3);var e=function e(){t.videoLoaded=!0,t.startAds(),t.video.videoEl.removeEventListener("loadedmetadata",e)};this.video.videoEl.addEventListener("loadedmetadata",e),this.video.videoEl.load(),this.overlayEl&&(this.overlayEl.removeEventListener("click",this.playAdEventHandler),this.video.containerEl.removeChild(this.overlayEl)),delete this.overlayEl}},{key:"adEventHandler",value:function(t){var e=t.getAd(),n={detail:{advertising:!0,category:"video",contentId:this.video.opts.id,progress:0,adDuration:e.getDuration(),adMinDuration:e.getMinSuggestedDuration(),adTitle:e.getTitle(),adProgress:this.getAdProgress()},bubbles:!0};switch(t.type){case google.ima.AdEvent.Type.LOADED:e.isLinear()||this.playUserVideo();break;case google.ima.AdEvent.Type.STARTED:n.detail.action="adStart";var r=new CustomEvent("oTracking.event",n);document.body.dispatchEvent(r),e.isLinear(),this.video.liveRegionEl.innerHTML="Video will play after ad in "+n.detail.adDuration+" seconds";break;case google.ima.AdEvent.Type.COMPLETE:n.detail.action="adComplete";var o=new CustomEvent("oTracking.event",n);document.body.dispatchEvent(o),e.isLinear(),this.video.liveRegionEl.innerHTML="";break;case google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED:n.detail.action="adSkippable";var i=new CustomEvent("oTracking.event",n);document.body.dispatchEvent(i);break;case google.ima.AdEvent.Type.SKIPPED:n.detail.action="adSkip";var a=new CustomEvent("oTracking.event",n);document.body.dispatchEvent(a);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:n.detail.action="allAdsCompleted";var s=new CustomEvent("oTracking.event",n);document.body.dispatchEvent(s);break;default:throw new Error("adEvent has type "+t.type+", which is not handled by adEventHandler")}}},{key:"reportError",value:function(t){document.body.dispatchEvent(new CustomEvent("oErrors.log",{bubbles:!0,detail:{error:t}}))}},{key:"adErrorHandler",value:function(t){var e="getError"in t&&"function"==typeof t.getError?t.getError():t,n=e.getErrorCode()+", "+e.getType()+", "+e.getMessage()+", "+e.getVastErrorCode();this.reportError(new Error(n)),this.adsManager&&this.adsManager.destroy(),this.video.containerEl.removeChild(this.adContainerEl),this.overlayEl&&(this.overlayEl.removeEventListener("click",this.playAdEventHandler),this.video.containerEl.removeChild(this.overlayEl),delete this.overlayEl),this.video.placeholderEl&&this.video.placeholderEl.removeEventListener("click",this.playAdEventHandler),this.video.opts.advertising=!1,this.startAds()}},{key:"contentPauseRequestHandler",value:function(){this.adsCompleted=!1,this.video.videoEl.pause()}},{key:"contentResumeRequestHandler",value:function(){this.video.containerEl.removeChild(this.adContainerEl),this.adsCompleted=!0,this.playUserVideo()}},{key:"playUserVideo",value:function(){this.video.addCaptions(),this.video.videoEl.play()}},{key:"getAdProgress",value:function(){if(!this.adsManager||!this.adsManager.getCurrentAd())return 0;var t=this.adsManager.getCurrentAd().getDuration(),e=this.adsManager.getRemainingTime();return parseInt(100*(t-e)/t,10)}}],[{key:"loadAdsLibrary",value:function(){return new Promise(function(t,e){var n=document.querySelector('[src="//imasdk.googleapis.com/js/sdkloader/ima3.js"]');n||(n=document.createElement("script"),n.setAttribute("type","text/javascript"),n.setAttribute("src","//imasdk.googleapis.com/js/sdkloader/ima3.js"),n.setAttribute("async",!0),n.setAttribute("defer",!0),document.getElementsByTagName("head")[0].appendChild(n)),a||window.google&&window.google.ima?t():(n.addEventListener("load",function(){a=!0,t()}),n.addEventListener("error",function(t){e(t)}))})}}]),t}();e.default=s,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){r(this,t),this.video=e,this.opts=this.video.opts.placeholderInfo.reduce(function(t,e){return t[e]=!0,t},{}),this.infoEl=document.createElement("div"),this.infoEl.className="o-video__info",this.opts.brand&&(this.brandEl=document.createElement("span"),this.brandEl.className="o-video__info-brand",this.infoEl.appendChild(this.brandEl)),this.opts.title&&(this.titleEl=document.createElement("h4"),this.titleEl.className="o-video__info-title",this.infoEl.appendChild(this.titleEl)),this.opts.description&&(this.descriptionEl=document.createElement("p"),this.descriptionEl.className="o-video__info-description",this.infoEl.appendChild(this.descriptionEl)),this.update(),this.video.placeholderEl.appendChild(this.infoEl)}return o(t,[{key:"update",value:function(){if(this.brandEl){var t=this.video.videoData.brand&&this.video.videoData.brand.name;this.brandEl.textContent=t}this.titleEl&&(this.titleEl.textContent=this.video.videoData.title),this.descriptionEl&&(this.descriptionEl.textContent=this.video.videoData.standfirst)}},{key:"teardown",value:function(){this.video.placeholderEl.removeChild(this.infoEl),delete this.infoEl,delete this.brandEl,delete this.titleEl,delete this.descriptionEl}}]),t}();e.default=i,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){r(this,t),this.opts=e;var n=e.player.videoData?e.player.videoData.id:e.player.opts.id;this.currentIndex=n?e.queue.indexOf(n.toString()):-1,this.cache={},this.opts.autoplay&&(this.opts.player.containerEl.addEventListener("ended",this.next.bind(this),!0),-1===this.currentIndex&&this.next())}return o(t,[{key:"next",value:function(){this.goto(this.currentIndex+1)}},{key:"prev",value:function(){this.goto(this.currentIndex-1)}},{key:"goto",value:function(t){var e=this;t<0?this.currentIndex=this.opts.queue.length-1:t>=this.opts.queue.length?this.currentIndex=0:this.currentIndex=t;var n=this.opts.player.videoData&&this.opts.player.videoData.id;n&&!this.cache[n]&&(this.cache[n]=this.opts.player.videoData),this.opts.player.fireWatchedEvent(),this.opts.player.resetAmountWatched();var r=this.opts.queue[this.currentIndex],o={id:r,data:this.cache[r]};return this.opts.player.update(o).then(function(){e.opts.player.videoEl&&e.opts.player.videoEl.play()})}}]),t}();e.default=i,t.exports=e.default},function(t,e,n){"use strict";var r=n(322),o=function t(){r.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",o),t.exports=r},function(t,e){t.exports=window.FT.nUi._hiddenComponents.superstoreSync},function(t,e,n){"use strict";t.exports=function(){return fetch("https://session-next.ft.com/uuid",{mode:"cors",credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t.uuid}).catch(function(){return null})}},function(t,e,n){"use strict";function r(){var t={};this.get=function(e){return e?void 0!==t[e]?t[e]:void 0:t},this.set=function(e,n){if("string"==typeof e){if(void 0!==n){var r={};r[e]=n,t=i(t,r)}}else"object"===(void 0===e?"undefined":o(e))&&(t=i(t,e))},this.destroy=function(){t=null}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(27);t.exports=r},function(t,e,n){"use strict";function r(){function t(t,n,r){a[t]||(a[t]=[]),a[t].push({evt:t,type:n,args:r}),e(t)}function e(t){if(!i[t]){var n=a[t].shift();if(n){switch(i[t]=!0,n.type){case"off":s.apply(r,n.args);break;case"trigger":l.apply(r,n.args)}i[t]=!1,e(t)}}}function n(t,e){for(var n=0;n<t.length;n++)if(t[n].callback===e)return n;return-1}var r=this,o={},i={},a={};this.on=function(t,e){"string"==typeof t&&"function"==typeof e&&(o[t]||(o[t]=[]),o[t].push({callback:e}))},this.one=function(t,e){"string"==typeof t&&"function"==typeof e&&(o[t]||(o[t]=[]),o[t].push({callback:e,once:!0}))};var s=function(t,e){var r=void 0===e,i="string"==typeof t,a="function"==typeof e;if(i&&o[t])if(r)delete o[t];else if(a){var s=n(o[t],e);s>-1&&o[t].splice(s,1)}};this.off=function(e,n){var r=void 0===e,i=void 0===n,a="string"==typeof e,s="function"==typeof n;if(r)for(var l in o)o.hasOwnProperty(l)&&t(l,"off",[l]);else a&&o[e]&&(i?t(e,"off",[e]):s&&t(e,"off",arguments))};var l=function(t,e){var n=void 0;if(o[t])for(e instanceof Array||(e=[e]),n=0;n<o[t].length;)o[t][n].callback.apply(this,e),!0===o[t][n].once?o[t].splice(n,1):n++};this.trigger=function(e){t(e,"trigger",arguments)},this.destroy=function(){o=null,i=null,a=null}}t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=void 0,r=void 0,u=void 0,c=void 0,d=void 0;if("function"!=typeof e)throw"Callback not specified";return"object"!==(void 0===t?"undefined":o(t))?void e(new Error("Configuration not specified or has the wrong type.")):t.url?(r=!1,u=!1,c=function(t){try{delete window[n]}catch(t){window[n]=void 0}r||(r=!0,e(null,t))},d=function(t){try{delete window[n]}catch(t){window[n]=void 0}r||(r=!0,e(t||new Error("Timeout")))},n=l+s++,t.data?(t.url+="?"+i(t.data),t.url+="&callback="+n):t.url+="?callback="+n,t.url+="&_="+(new Date).getTime(),window[n]=function(t){u=!0,c(t)},void a(t,function(t){if(t)return void d(t);setTimeout(function(){u||d()},50)})):void e(new Error("URL is not specified"))}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(81),a=n(28),s=0,l="jsonp_"+Math.random().toString(36).substring(7);t.exports=r},function(t,e,n){"use strict";function r(t){var e=[];if("object"!==(void 0===t?"undefined":o(t)))throw"The argument is not an object.";for(var n in t)t.hasOwnProperty(n)&&function(t,n){n="function"==typeof n?n():null===n?"":n,e[e.length]=encodeURIComponent(t)+"="+encodeURIComponent(n)}(n,t[n]);return e.join("&").replace(/%20/g,"+")}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=r},function(t,e,n){"use strict";var r=n(29);t.exports=new r("localStorage")},function(t,e,n){"use strict";var r=n(29);t.exports=new r("sessionStorage")},function(t,e,n){"use strict";var r=["debug","log","info","warn","error"],o=3,i=!1,a=function(t){if("function"==typeof Array.prototype.indexOf)return r.indexOf(t);for(var e=0;e<r.length;e++)if(r[e]===t)return e;return-1},s=function(){var t=window.console;return void 0!==t&&void 0!==t.log?function(e,n){if(!0===i&&e>=o)try{t[r[e]].apply(t,n)}catch(o){for(var a=0;a<n.length;a++)n[a]=JSON.stringify(n[a]);try{t[r[e]](n.join(" "))}catch(e){t.log(n.join(" "))}}}:function(){}}();e.debug=function(){var t=a("debug");return function(){s(t,Array.prototype.slice.apply(arguments))}}(),e.log=function(){var t=a("log");return function(){s(t,Array.prototype.slice.apply(arguments))}}(),e.info=function(){var t=a("info");return function(){s(t,Array.prototype.slice.apply(arguments))}}(),e.warn=function(){var t=a("warn");return function(){s(t,Array.prototype.slice.apply(arguments))}}(),e.error=function(){var t=a("error");return function(){s(t,Array.prototype.slice.apply(arguments))}}(),e.enable=function(){i=!0},e.disable=function(){i=!1},e.setLevel=function(t){if("string"==typeof t)if(isNaN(parseInt(t,10))){if(-1===a(t))throw"Level not exists";o=a(t)}else{if(!(t>=0&&t<=r.length-1))throw"Level out of range.";o=t}else if("number"==typeof t){if(!(t>=0&&t<=r.length-1))throw"Level out of range.";o=t}}},function(t,e,n){"use strict";function r(t,e){var n=void 0,r=!1,i={},a={};for(n in t)t.hasOwnProperty(n)&&(a[n]=!1);var s=function(){var t=void 0;for(t in a)if(a.hasOwnProperty(t)&&!a[t])return!1;r||e(null,i)};for(n in t)t.hasOwnProperty(n)&&function(n){var l=function(t,o){if(!r){if(t)return r=!0,void e({key:n,error:t});a[n]=!0,i[n]=o,s()}};if("function"==typeof t[n])t[n](l);else if("object"===o(t[n])&&"function"==typeof t[n].func)if(t[n].hasOwnProperty("args")){var u=t[n].args;u.splice(0,1,l),t[n].func.apply(this,u)}else t[n].func(l)}(n)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=r},function(t,e,n){"use strict";function r(t){for(var e=t.split("-"),n=e[0],r=1;r<e.length;r++)n+=e[r].charAt(0).toUpperCase()+e[r].slice(1);return n}var o=n(30);t.exports=function(t){var e=t.context;e?e instanceof HTMLElement||(e=document.querySelector(e)):e=document.body;for(var n=e.querySelectorAll('[data-o-component="'+t.classNamespace+'"]'),i=void 0,a=void 0,s=[],l=0;l<n.length;l++)if(i=n[l],a=!i.getAttribute("data-"+t.classNamespace+"-built"),t.auto&&(a=a&&"false"!==i.getAttribute("data-"+t.classNamespace+"-auto-init")),a){i.id||(i.id=t.classNamespace+"--"+o()),i.setAttribute("data-"+t.classNamespace+"-built","true");for(var u={},c=void 0,d=void 0,f=void 0,p=void 0,h=0;h<i.attributes.length;h++)if((c=i.attributes[h].name.match(new RegExp("data-"+t.classNamespace+"-config-(.*)")))&&c.length){d=c[1].split("--"),f=u;for(var m=0;m<d.length;m++)p=r(d[m]),m===d.length-1?f[p]=function(t){if("true"===t)return!0;if("false"===t)return!1;var e=parseInt(t,10);return!isNaN(t)&&e?e:t}(i.attributes[h].value):f[p]||(f[p]={},f=f[p])}var v=new t.module(i,u);document.body.dispatchEvent(new CustomEvent(t.eventNamespace+".ready",{detail:{id:i.id,instance:v},bubble:!0})),s.push(v)}return s}},function(t,e,n){"use strict";function r(t){return t<10?"0"+t:t}var o={toTimestamp:function(t){return t instanceof Date?t.getTime():"string"==typeof t?new Date(t).getTime():"number"==typeof t&&parseInt(t,10).toString().length<13?1e3*t:t},toDateObject:function(t){return t instanceof Date?t:new Date(o.toTimestamp(t))},toISOString:function(t){var e=o.toDateObject(t);return e.hasOwnProperty("toISOString")?e.toISOString():e.getUTCFullYear()+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}};t.exports=o},function(t,e,n){"use strict";function r(t,e){function n(t){if(i instanceof Array)for(u=0,f=0;f<i.length;f++)i[f].scrollTop>0&&(u=i[f].scrollTop);else u=i.scrollTop;(t||c!==u)&&e(u),c=u}function r(){clearTimeout(d),d=setTimeout(function(){n()},l),(new Date).getTime()-s>l&&(s=(new Date).getTime(),n(!0))}var o=t,i=t;t!==document.body&&t!==document.getElementsByTagName("html")[0]&&t!==window||(i=[document.body,document.getElementsByTagName("html")[0]],o=window);var a=!1,s=0,l=200,u=void 0,c=void 0,d=void 0,f=void 0;this.start=function(){a||(a=!0,o.addEventListener("scroll",r))},this.stop=function(){a&&(a=!1,o.removeEventListener("scroll",r))},this.destroy=function(){this.stop(),o=null,i=null,a=null,s=null,l=null,u=null,c=null,d=null,f=null},this.start.call(this)}t.exports=r},function(t,e,n){"use strict";t.exports=function(t){var e=0,n=0,r=t;if(r.offsetParent){do{e+=r.offsetLeft,n+=r.offsetTop,r=r.offsetParent}while(r);return{left:e,top:n}}return{top:t.offsetTop,left:t.offsetLeft}}},function(t,e,n){"use strict";t.exports=function(){var t=window,e=document,n=e.documentElement,r=e.getElementsByTagName("body")[0];return{width:t.innerWidth||r.clientWidth||n.clientWidth,height:t.innerHeight||r.clientHeight||n.clientHeight}}},function(t,e,n){"use strict";function r(){return!!o()}function o(){var t=i.get("FTSession");return t||null}var i=n(31);t.exports={isLoggedIn:r,getSession:o}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(16),i=n(93),a=n(5),s=n(1),l={};l.getInitConfig=function(t,e){if("function"!=typeof e)throw"Callbacks not provided";if(!t)throw"No configuration parameters provided";t.hasOwnProperty("articleId")||e(new Error("Article ID not provided")),t.hasOwnProperty("url")||e(new Error("Article URL not provided")),t.hasOwnProperty("elId")||e(new Error("Element ID not provided")),t.hasOwnProperty("title")||e(new Error("Article title not provided"));var n=s.ftUser.getSession(),r=!1;!0===a.get("cache")&&n&&(r=!0);var i=function(){var i={title:t.title,url:t.url,articleId:t.articleId,el:t.elId};n&&(i.sessionId=n),void 0!==t.stream_type&&(i.stream_type=t.stream_type),void 0!==t.section&&(i.section=t.section),void 0!==t.tags&&(i.tags=t.tags),s.jsonp({url:a.get().suds.baseUrl+a.get().suds.endpoints.livefyre.init,data:i},function(n,i){if(n)return void e(n,null);i&&i.init?(!0!==i.init.unclassifiedArticle&&!0!==i.init.notAllowedToCreateCollection&&i.init.collectionMeta&&r&&(o.cacheInit(t.articleId,i.init),i.auth&&i.auth.token?o.cacheAuth(i.auth):o.removeAuth()),e(null,i.init)):e(new Error("No data received from SUDS."),null)})};if(r){var l=o.getInit(t.articleId);!0!==t.force&&l?(l.el=t.elId,e(null,l)):i()}else i()},l.getCommentCount=function(t,e){if("function"!=typeof e)throw"Callbacks not provided";t||e(new Error("Article ID not provided")),s.jsonp({url:a.get().suds.baseUrl+a.get().suds.endpoints.livefyre.commentCount,data:{articleId:t}},function(t,n){if(t)return void e(t,null);n&&void 0!==n.count?e(null,n.count):e(new Error("No data received from SUDS."),null)})},l.getCommentCounts=function(t,e){if("function"!=typeof e)throw"Callbacks not provided";t||e(new Error("Article IDs are not provided")),t.length||e();var n=a.get().suds.baseUrl+a.get().suds.endpoints.livefyre.commentCounts,r=n.length,o=[];t.forEach(function(t){(!o.length||o[o.length-1].size>=1e3)&&o.push({size:r,articles:[]}),o[o.length-1].articles.push(t),o[o.length-1].size+=t.toString().length});var i={};o.forEach(function(t,e){i[e]=function(e){s.jsonp({url:n,data:{articleIds:t.articles}},e)}}),s.functionSync.parallel(i,function(t,n){if(t)return void e(t);if(n&&Object.keys(n)&&Object.keys(n).length){var r=[];Object.keys(n).forEach(function(t){r.push(n[t])}),e(null,s.merge.apply(null,r))}else e(null,{})})};var u={};u.getAuth=function(t,e){if("function"==typeof t&&(e=t),"function"!=typeof e)throw new Error("Callback not provided.");var n=s.ftUser.getSession(),r=!1;!0===a.get("cache")&&n&&(r=!0);var i={};n&&(i.sessionId=n);var l=function(){s.jsonp({url:a.get().suds.baseUrl+a.get().suds.endpoints.user.getAuth,data:i},function(t,n){if(t)return void e(t,null);r&&(n&&n.token?o.cacheAuth(n):o.removeAuth()),e(null,n)})};if(r){var u=o.getAuth(n);u&&!0!==t.force?e(null,u):l()}else l()},u.updateUser=function(t,e){if("function"!=typeof e)throw new Error("Callback not provided.");if(!t||"object"!==(void 0===t?"undefined":r(t)))return void e(new Error("Settings not provided."));var n=t;n.hasOwnProperty("pseudonym")&&(n.pseudonym=i.trim(n.pseudonym));var o=s.ftUser.getSession();o&&(n.sessionId=o),!t.hasOwnProperty("pseudonym")||t.hasOwnProperty("pseudonym")&&t.pseudonym?s.jsonp({url:a.get().suds.baseUrl+a.get().suds.endpoints.user.updateUser,data:n},function(t,n){if(t)return void e(t,null);n?"ok"===n.status?e(null,n):n.error?e({sudsError:!0,error:n.error},null):e(new Error("An error occured."),null):e(new Error("No data received."),null)}):e({sudsError:!0,error:"Pseudonym is blank."},null)},t.exports={livefyre:l,user:u}},function(t,e,n){"use strict";e.trim=function(t){return String.prototype.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}},function(t,e,n){"use strict";function r(t,e){if("function"!=typeof e)throw new Error("Callback not provided");if(!t||"object"!==(void 0===t?"undefined":a(t)))return void e(new Error("Configuration is not provided."));if(!t.hasOwnProperty("articleId"))return void e(new Error("Article ID not provided."));if(!t.hasOwnProperty("title"))return void e(new Error("Article title not provided."));if(!t.hasOwnProperty("url"))return void e(new Error("Article url not provided."));var n=s.ftUser.getSession(),r=!1;!0===l.get("cache")&&n&&(r=!0);var o={title:t.title,url:t.url,articleId:t.articleId};"number"==typeof t.page&&(o.pageNumber=t.page),void 0!==t.section&&(o.section=t.section),void 0!==t.tags&&(o.tags=t.tags),n&&(o.sessionId=n),s.jsonp({url:l.get().ccs.baseUrl+l.get().ccs.endpoints.getComments,data:o},function(n,o){if(n)return void e(n,null);o&&o.collection?(!0!==o.collection.unclassifiedArticle&&r&&(o.userDetails&&o.userDetails.token?u.cacheAuth(o.userDetails):u.removeAuth()),e(null,{collection:o.collection}),!0===t.stream&&void 0===t.page&&c.create(o.collection.collectionId,{callback:function(t){e(null,{stream:t})},lastEventId:o.collection.lastEvent})):e(new Error("No data received from CCS."),null)})}function o(t,e){if("function"!=typeof e)throw new Error("Callback not provided");if(!t||"object"!==(void 0===t?"undefined":a(t)))return void e(new Error("Configuration is not provided."));if(!t.commentBody)return void e(new Error("Content not provided."));if(!t.collectionId)return void e(new Error("Collection ID not provided."));var n={collectionId:t.collectionId,commentBody:t.commentBody},r=s.ftUser.getSession();r&&(n.sessionId=r),s.jsonp({url:l.get().ccs.baseUrl+l.get().ccs.endpoints.postComment,data:n},function(t,n){if(t)return void e(t);e(null,n)})}function i(t,e){if("function"!=typeof e)throw new Error("Callback not provided");if(!t||"object"!==(void 0===t?"undefined":a(t)))return void e(new Error("Configuration is not provided."));if(!t.collectionId)return void e(new Error("Collection ID not provided."));if(!t.commentId)return void e(new Error("Comment ID not provided."));var n={collectionId:t.collectionId,commentId:t.commentId},r=s.ftUser.getSession();r&&(n.sessionId=r),s.jsonp({url:l.get().ccs.baseUrl+l.get().ccs.endpoints.deleteComment,data:n},function(t,n){if(t)return void e(t);e(null,n)})}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(1),l=n(5),u=n(16),c=n(32);t.exports={getComments:r,postComment:o,deleteComment:i}},function(t,e,n){"use strict";e.emit=function(t,e){e=e||{eventType:"info"};try{document.body.dispatchEvent(new CustomEvent("oCommentApi."+t,{detail:e,bubbles:!0}))}catch(t){}}},function(t,e,n){"use strict";function r(t){var e=!1;if(void 0!==window.location){var n=t.match(/(http[s]?:)?\/\/([^\/]*)/);n&&n[2]!==window.location.hostname&&(e=!0)}if(!0===e)return void 0!==(new XMLHttpRequest).withCredentials?new XMLHttpRequest:"undefined"!=typeof XDomainRequest&&new XDomainRequest;if(window.XMLHttpRequest&&("file:"!==window.location.protocol||!window.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1}var o=n(1);e.get=function(t,e){var n=r(t),i=!1;if(!n)return void e.error(new Error("No XML Http support"));var a=(new Date).getTime();-1!==t.indexOf("?")?t+="&_="+a:t+="?_="+a,n instanceof XMLHttpRequest?n.open("get",t,!0):(n.open("get",t),"function"!=typeof n.hasOwnProperty&&(n.timeout=9e3)),"undefined"!==n.onload?(n.onload=function(){if(!i)if(n.status&&200!==n.status||!n.responseText)e.error(new Error(n.statusText||"Failed response."));else{var t=n.responseText;try{t=JSON.parse(t)}catch(t){}o.logger.debug("stream","xhr onload","responseText:",t),e.success(t)}},n.onerror=function(t){i||(o.logger.debug("stream","xhr onerror","xhr error"),e.error(t))},n.ontimeout=function(){if(!i){o.logger.debug("stream","xhr ontimeout","xhr timeout"),i=!0;try{n.abort()}catch(t){}e.timeout()}},n.onprogress=function(){}):n.onreadystatechange=function(){if(4===n.readyState)if(n.responseText){var t=n.responseText;try{t=JSON.parse(t)}catch(t){}o.logger.debug("stream","xhr onreadystatechange","responseText:",t),e.success(t)}else o.logger.debug("stream","xhr onreadystatechange","xhr error"),e.error()},setTimeout(function(){n.send()},0)}},function(t,e,n){"use strict";t.exports={suds:{baseUrl:"//session-user-data.webservices.ft.com",endpoints:{livefyre:{init:"/v1/livefyre/init",commentCount:"/v1/livefyre/commentcount",commentCounts:"/v1/livefyre/commentcounts"},user:{updateUser:"/v1/user/updateuser",getAuth:"/v1/user/getauth"}}},ccs:{baseUrl:"//comment-creation.webservices.ft.com",endpoints:{getComments:"/v1/getComments",postComment:"/v1/postComment",deleteComment:"/v1/deleteComment"}},cacheConfig:{authBaseName:"comments-prod-auth-",initBaseName:"comments-prod-init-"},livefyre:{networkName:"ft"}}},function(t,e,n){"use strict";var r=function(){var t=document.querySelector('article[role="main"]');return t?t.dataset:{}},o=function(){return r().contentId},i=function(){return document.querySelector("link[rel='canonical']")&&document.querySelector("link[rel='canonical']").href},a=function(){return"free"===r().accessLevel},s=function(t){var e=document.querySelector(t);return e?e.innerText:""},l=function(){return s(".topper__headline")},u=function(){return s(".topper__standfirst")};t.exports={getArticleId:o,getArticleUrl:i,isFreeArticle:a,getTitle:l,getStandfirst:u}},function(t,e,n){var r=n(2);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i,a=null!=e?e:t.nullContext||{};return'\t<div class="o-teaser__meta">\n'+(null!=(i=n.if.call(a,(i=o&&o.nTeaserPresenter)&&i.genrePrefix,{name:"if",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o}))?i:"")+(null!=(i=n.if.call(a,(i=o&&o.nTeaserPresenter)&&i.teaserConcept,{name:"if",hash:{},fn:t.program(4,o,0),inverse:t.noop,data:o}))?i:"")+(null!=(i=n.if.call(a,(i=o&&o.nTeaserPresenter)&&i.duration,{name:"if",hash:{},fn:t.program(6,o,0),inverse:t.noop,data:o}))?i:"")+(null!=(i=n.if.call(a,null!=e?e.advertiser:e,{name:"if",hash:{},fn:t.program(8,o,0),inverse:t.noop,data:o}))?i:"")+"\t</div>\n"},2:function(t,e,n,r,o){var i;return'\t\t\t<span class="o-teaser__tag-prefix">\n\t\t\t\t'+t.escapeExpression(t.lambda((i=o&&o.nTeaserPresenter)&&i.genrePrefix,e))+"\n\t\t\t</span>\n"},4:function(t,e,n,r,o){var i,a=t.lambda;return'\t\t\t<a href="'+(null!=(i=a((i=(i=o&&o.nTeaserPresenter)&&i.teaserConcept)&&i.relativeUrl,e))?i:"")+'" class="o-teaser__tag" data-trackable="primary-concept">\n\t\t\t\t'+t.escapeExpression(a((i=(i=o&&o.nTeaserPresenter)&&i.teaserConcept)&&i.prefLabel,e))+"\n\t\t\t</a>\n"},6:function(t,e,n,r,o){var i,a=t.lambda,s=t.escapeExpression;return'\t\t\t<time class="o-teaser__duration" datetime="'+s(a((i=(i=o&&o.nTeaserPresenter)&&i.duration)&&i.iso,e))+'">'+s(a((i=(i=o&&o.nTeaserPresenter)&&i.duration)&&i.formatted,e))+"min</time>\n"},8:function(t,e,n,r,o){var i,a,s=null!=e?e:t.nullContext||{},l=n.helperMissing,u=t.escapeExpression;return'\t\t\t<span class="o-teaser__promoted-prefix">'+u((a=null!=(a=n.promotedByPrefix||(null!=e?e.promotedByPrefix:e))?a:l,"function"==typeof a?a.call(s,{name:"promotedByPrefix",hash:{},data:o}):a))+"</span>"+u(t.lambda((i=o&&o.nTeaserPresenter)&&i.advertiserPrefix,e))+'<span class="o-teaser__promoted-by">'+u((a=null!=(a=n.advertiser||(null!=e?e.advertiser:e))?a:l,"function"==typeof a?a.call(s,{name:"advertiser",hash:{},data:o}):a))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i;return null!=(i=n.unless.call(null!=e?e:t.nullContext||{},null!=e?e.noTag:e,{name:"unless",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?i:""},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var o=n(2);t.exports=(o.default||o).template({1:function(t,e,n,r,o){return'target="_blank"'},3:function(t,e,n,r,o){var i;return'data-trackable-context-headline-variant="'+(null!=(i=t.lambda((i=o&&o.nTeaserPresenter)&&i.headlineTestingVariant,e))?i:"")+'"'},5:function(t,e,n,r,o){return'\t\t<span class="o-labels o-labels--premium" aria-label="Premium content">Premium</span>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,o,i,a){var s,l=t.lambda,u=null!=e?e:t.nullContext||{};return'<div class="o-teaser__heading js-teaser-heading">\n\t<a\n\t\thref="'+(null!=(s=l(null!=e?e.relativeUrl:e,e))?s:"")+(null!=(s=l(null!=e?e.referrerTracking:e,e))?s:"")+'"\n\t\tclass="js-teaser-heading-link"\n\t\tdata-content-id="'+t.escapeExpression(l(null!=e?e.id:e,e))+'"\n\t\tdata-trackable="main-link"\n\t\t'+(null!=(s=r(n(34)).call(u,null!=e?e.type:e,"promoted-content",{name:"ifEquals",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+"\n\t\t"+(null!=(s=o.if.call(u,(s=a&&a.nTeaserPresenter)&&s.headlineTestingVariant,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?s:"")+"\n\t>\n\t\t"+(null!=(s=l((s=a&&a.nTeaserPresenter)&&s.displayTitle,e))?s:"")+"\n\t</a>\n"+(null!=(s=o.if.call(u,null!=e?e.isPremium:e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?s:"")+"</div>\n"},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var o=n(2);t.exports=(o.default||o).template({1:function(t,e,o,i,a){var s;return null!=(s=r(n(161)).call(null!=e?e:t.nullContext||{},null!=e?e.isNewerThanFourHours:e,null!=e?e.skipPerfAbTesting:e,{name:"ifSome",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?s:""},2:function(t,e,o,i,a){var s,l=null!=e?e:t.nullContext||{},u=t.lambda,c=t.escapeExpression;return'\t\t<div class="o-teaser__timestamp'+(null!=(s=o.if.call(l,null!=e?e.classModifier:e,{name:"if",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?s:"")+'">\n'+(null!=(s=o.if.call(l,null!=e?e.status:e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?s:"")+'\t\t\t<time data-o-component="o-date" class="o-date" data-o-date-format="'+c(u((s=a&&a.nTeaserPresenter)&&s.dataDateFormat,e))+'" datetime="'+c(u(null!=e?e.publishedDate:e,e))+'">'+(null!=(s=r(n(386)).call(l,"dddd, d mmmm, yyyy",{name:"dateformat",hash:{},fn:t.program(7,a,0),inverse:t.noop,data:a}))?s:"")+"</time>\n\t\t</div>\n"},3:function(t,e,n,r,o){return" o-teaser__timestamp--"+t.escapeExpression(t.lambda(null!=e?e.classModifier:e,e))},5:function(t,e,n,r,o){return'\t\t\t\t<span class="o-teaser__timestamp-prefix">'+t.escapeExpression(t.lambda(null!=e?e.status:e,e))+"</span>\n"},7:function(t,e,n,r,o){return t.escapeExpression(t.lambda(null!=e?e.publishedDate:e,e))},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i;return null!=(i=n.with.call(null!=e?e:t.nullContext||{},(i=o&&o.nTeaserPresenter)&&i.timeObject,{name:"with",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?i:""},useData:!0})},function(t,e,n){"use strict";e.Brand="http://www.ft.com/ontology/product/Brand",e.Genre="http://www.ft.com/ontology/Genre",e.Location="http://www.ft.com/ontology/Location",e.Organisation="http://www.ft.com/ontology/organisation/Organisation",e.Section="http://www.ft.com/ontology/Section",e.SpecialReport="http://www.ft.com/ontology/SpecialReport",e.Subject="http://www.ft.com/ontology/Subject",e.Person="http://www.ft.com/ontology/person/Person",e.Topic="http://www.ft.com/ontology/Topic"},function(t,e,n){"use strict";t.exports=function(){return[].slice.call(arguments).slice(0,-1)}},,,,,,,function(t,e,n){"use strict";t.exports={toggleState:function(t,e){var n=t.getAttribute("aria-label"),r=t.getAttribute("data-alternate-label");n&&(t.setAttribute("aria-label",r),t.setAttribute("title",r),t.setAttribute("data-alternate-label",n));var o=t.textContent||t.innerText;if(o){var i=t.getAttribute("data-text-variant"),a=t.querySelector("[data-variant-label]"),s=i&&a?a:t,l=t.getAttribute("data-alternate-text")||r;if(s.textContent=l,i){var u=l.includes("Saved")?"Save ":"Saved ";t.setAttribute("data-alternate-text",u)}else t.setAttribute("data-alternate-text",o)}var c="true"===t.getAttribute("aria-pressed");return e||t.setAttribute("aria-pressed",!c),t.dispatchEvent(new CustomEvent("nButtons.stateChange",{detail:{state:c},bubbles:!0})),t}}},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,n*i)}var o=n(22),i=36e5;t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return i(t,o(t)+n)}var o=n(12),i=n(113);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e),s=a(n,i(n)),l=new Date(0);return l.setFullYear(r,0,4),l.setHours(0,0,0,0),n=i(l),n.setDate(n.getDate()+s),n}var o=n(0),i=n(23),a=n(40);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,n*i)}var o=n(22),i=6e4;t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,3*n)}var o=n(41);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,1e3*n)}var o=n(22);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,12*n)}var o=n(41);t.exports=r},function(t,e,n){"use strict";function r(t,e){return o(t)-o(e)}var o=n(12);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t);return Math.floor(e.getMonth()/3)+1}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return n.getFullYear()-r.getFullYear()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e),s=a(n,r),l=Math.abs(i(n,r));return n.setDate(n.getDate()-s*l),s*(l-(a(n,r)===-s))}var o=n(0),i=n(40),a=n(24);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,-n)}var o=n(112);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=n||{},p=o(t,e),h=r.locale,m=l.distanceInWords.localize;h&&h.distanceInWords&&h.distanceInWords.localize&&(m=h.distanceInWords.localize);var v,g,y={addSuffix:Boolean(r.addSuffix),comparison:p};p>0?(v=i(t),g=i(e)):(v=i(e),g=i(t));var b,w=a(g,v),E=g.getTimezoneOffset()-v.getTimezoneOffset(),_=Math.round(w/60)-E;if(_<2)return r.includeSeconds?w<5?m("lessThanXSeconds",5,y):w<10?m("lessThanXSeconds",10,y):w<20?m("lessThanXSeconds",20,y):w<40?m("halfAMinute",null,y):w<60?m("lessThanXMinutes",1,y):m("xMinutes",1,y):0===_?m("lessThanXMinutes",1,y):m("xMinutes",_,y);if(_<45)return m("xMinutes",_,y);if(_<90)return m("aboutXHours",1,y);if(_<u){return m("aboutXHours",Math.round(_/60),y)}if(_<c)return m("xDays",1,y);if(_<d){return m("xDays",Math.round(_/u),y)}if(_<f)return b=Math.round(_/d),m("aboutXMonths",b,y);if((b=s(g,v))<12){return m("xMonths",Math.round(_/d),y)}var x=b%12,k=Math.floor(b/12);return x<3?m("aboutXYears",k,y):x<9?m("overXYears",k,y):m("almostXYears",k+1,y)}var o=n(61),i=n(0),a=n(63),s=n(62),l=n(64),u=1440,c=2520,d=43200,f=86400;t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=e?Number(e.weekStartsOn)||0:0,r=o(t),i=r.getDay(),a=6+(i<n?-7:0)-(i-n);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",i=n||{},a=i.locale,s=p.format.formatters,l=p.format.formattingTokensRegExp;a&&a.format&&a.format.formatters&&(s=a.format.formatters,a.format.formattingTokensRegExp&&(l=a.format.formattingTokensRegExp));var u=d(t);return f(u)?o(r,s,l)(u):"Invalid Date"}function o(t,e,n){var r,o,a=t.match(n),s=a.length;for(r=0;r<s;r++)o=e[a[r]]||h[a[r]],a[r]=o||i(a[r]);return function(t){for(var e="",n=0;n<s;n++)a[n]instanceof Function?e+=a[n](t,h):e+=a[n];return e}}function i(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|]$/g,""):t.replace(/\\/g,"")}function a(t,e){e=e||"";var n=t>0?"-":"+",r=Math.abs(t),o=Math.floor(r/60),i=r%60;return n+s(o,2)+e+s(i,2)}function s(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}var l=n(128),u=n(66),c=n(12),d=n(0),f=n(130),p=n(64),h={M:function(t){return t.getMonth()+1},MM:function(t){return s(t.getMonth()+1,2)},Q:function(t){return Math.ceil((t.getMonth()+1)/3)},D:function(t){return t.getDate()},DD:function(t){return s(t.getDate(),2)},DDD:function(t){return l(t)},DDDD:function(t){return s(l(t),3)},d:function(t){return t.getDay()},E:function(t){return t.getDay()||7},W:function(t){return u(t)},WW:function(t){return s(u(t),2)},YY:function(t){return s(t.getFullYear(),4).substr(2)},YYYY:function(t){return s(t.getFullYear(),4)},GG:function(t){return String(c(t)).substr(2)},GGGG:function(t){return c(t)},H:function(t){return t.getHours()},HH:function(t){return s(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:e>12?e%12:e},hh:function(t){return s(h.h(t),2)},m:function(t){return t.getMinutes()},mm:function(t){return s(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return s(t.getSeconds(),2)},S:function(t){return Math.floor(t.getMilliseconds()/100)},SS:function(t){return s(Math.floor(t.getMilliseconds()/10),2)},SSS:function(t){return s(t.getMilliseconds(),3)},Z:function(t){return a(t.getTimezoneOffset(),":")},ZZ:function(t){return a(t.getTimezoneOffset())},X:function(t){return Math.floor(t.getTime()/1e3)},x:function(t){return t.getTime()}};t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t);return a(e,i(e))+1}var o=n(0),i=n(129),a=n(40);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){if(o(t))return!isNaN(t);throw new TypeError(toString.call(t)+" is not an instance of Date")}var o=n(58);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=e.getFullYear();return n%400==0||n%4==0&&n%100!=0}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=e.getDay();return 0===n&&(n=7),n}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}var o=n(134);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t);return e.setMinutes(0,0,0),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){return o(t,e,{weekStartsOn:1})}var o=n(67);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}var o=n(23);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}var o=n(138);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t);return e.setSeconds(0,0),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}var o=n(141);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}var o=n(143);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t);return e.setMilliseconds(0),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return n.getFullYear()===r.getFullYear()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=e?Number(e.weekStartsOn)||0:0,r=o(t),i=r.getDay(),a=6+(i<n?-7:0)-(i-n);return r.setHours(0,0,0,0),r.setDate(r.getDate()+a),r}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e),a=n.getFullYear(),s=n.getDate(),l=new Date(0);l.setFullYear(a,r,15),l.setHours(0,0,0,0);var u=i(l);return n.setMonth(r,Math.min(s,u)),n}var o=n(0),i=n(59);t.exports=r},function(t,e,n){"use strict";function r(t,e){Object.keys(e).forEach(function(n){t[n]=e[n]})}var o=n(4),i=0,a={toggleContent:function(t){"expand"===t?(this.contentEl.classList.add(this.contentClassName+"--expanded"),this.contentEl.classList.remove(this.contentClassName+"--collapsed")):(this.contentEl.classList.remove(this.contentClassName+"--expanded"),this.contentEl.classList.add(this.contentClassName+"--collapsed"))},hasStateDefined:function(){return this.contentEl.classList.contains(this.contentClassName+"--expanded")||this.contentEl.classList.contains(this.contentClassName+"--collapsed")},isRequired:function(){var t=!1;return"number"==typeof this.opts.shrinkTo?this.el.querySelectorAll(this.opts.countSelector).length>this.opts.shrinkTo&&(t=!0):this.isCollapsed()?t=this.contentEl.clientHeight<this.contentEl.scrollHeight:(this.collapse(),t=this.contentEl.clientHeight<this.contentEl.scrollHeight,this.expand()),t},isCollapsed:function(){return!this.contentEl.classList.contains(this.contentClassName+"--expanded")}},s={toggleContent:function(t){"expand"===t?this.contentEl.setAttribute("aria-hidden","false"):this.contentEl.setAttribute("aria-hidden","true")},hasStateDefined:function(){return this.contentEl.hasAttribute("aria-hidden")},isRequired:function(){return!0},isCollapsed:function(){return"true"===this.contentEl.getAttribute("aria-hidden")}},l=function(t,e){var n=this;if(this.opts=e||{},this.el=t,this.className=this.opts.className||"o-expander",this.contentClassName=this.opts.contentClassName||"o-expander__content",this.toggleClassName=this.opts.toggleClassName||"o-expander__toggle",this.configure("shrinkTo","height"),this.configure("countSelector","."+this.contentClassName+" > li"),this.configure("expandedToggleText","hidden"===this.opts.shrinkTo?"hide":"height"===this.opts.shrinkTo?"less":"fewer"),this.configure("collapsedToggleText","hidden"===this.opts.shrinkTo?"show":"more"),this.configure("toggleSelector","."+this.toggleClassName),this.configure("toggleState","all"),/^\d+$/.test(this.opts.shrinkTo)&&(this.opts.shrinkTo=+this.opts.shrinkTo),"hidden"===this.opts.shrinkTo?r(this,s):r(this,a),"number"==typeof this.opts.shrinkTo&&!this.opts.countSelector)throw new Error("when collapsing to a number of items specify a selector to identify how many items exist");if(this.contentEl=this.el.querySelector("."+this.contentClassName),this.toggles=[].slice.apply(this.el.querySelectorAll(this.opts.toggleSelector)),!this.toggles.length)throw new Error("o-expander needs a toggle link or button");this.ariaToggles(),"height"===this.opts.shrinkTo&&(o.listenTo("resize"),o.listenTo("orientation"),document.body.addEventListener("oViewport.orientation",function(){return n.apply()}),document.body.addEventListener("oViewport.resize",function(){return n.apply()})),this.toggles.forEach(function(t){t.addEventListener("click",function(){return n.invertState()})}),this.el.setAttribute("data-o-expander-js",""),this.apply(!0),this.emit("init")};l.prototype.configure=function(t,e){var n=this.el.getAttribute("data-o-expander-"+t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}));void 0!==n&&null!==n||(n=this.opts[t]),this.opts[t]=void 0!==n&&null!==n?n:e},l.prototype.apply=function(t){this.isRequired()?(this.el.classList.remove(this.className+"--inactive"),"number"==typeof this.opts.shrinkTo&&[].slice.call(this.el.querySelectorAll(this.opts.countSelector),this.opts.shrinkTo).forEach(function(t){return t.classList.add("o-expander__collapsible-item")}),this.hasStateDefined()?this.displayState(t):this.collapse(t)):this.el.classList.add(this.className+"--inactive")},l.prototype.destroy=function(){var t=this;"height"===this.opts.shrinkTo&&(document.body.removeEventListener("oViewport.orientation",function(){return t.apply()}),document.body.removeEventListener("oViewport.resize",function(){return t.apply()})),this.toggles.forEach(function(e){e.removeEventListener("click",t.invertState),e.removeAttribute("aria-controls"),e.removeAttribute("aria-expanded")}),this.contentEl.removeAttribute("aria-hidden"),this.contentEl.classList.remove(this.contentClassName+"--expanded"),this.contentEl.classList.remove(this.contentClassName+"--collapsed"),this.el.removeAttribute("data-o-expander-js")},l.prototype.ariaToggles=function(){if(this.id=this.contentEl.id,!this.id){for(;document.querySelector("#o-expander__toggle--"+i);)i++;this.id=this.contentEl.id="o-expander__toggle--"+i}var t=this.id;this.toggles.forEach(function(e){return e.setAttribute("aria-controls",t)})},l.prototype.invertState=function(){this.isCollapsed()?this.expand():this.collapse()},l.prototype.displayState=function(t){this.isCollapsed()?this.collapse(t):this.expand(t)},l.prototype.expand=function(t){this.toggleExpander("expand",t)},l.prototype.collapse=function(t){this.toggleExpander("collapse",t)},l.prototype.emit=function(t){this.el.dispatchEvent(new CustomEvent("oExpander."+t,{bubbles:!0}))},l.prototype.toggleExpander=function(t,e){var n=this;this.toggleContent(t),"none"!==this.opts.toggleState&&this.toggles.forEach(function(e){"aria"!==n.opts.toggleState&&(e.innerHTML=n.opts["expand"===t?"expandedToggleText":"collapsedToggleText"]+"<i></i>"),e.setAttribute("aria-expanded","expand"===t?"true":"false")}),e||this.emit(t)};var u=function(t,e){return t.hasAttribute("data-o-expander-js")?void 0:new l(t,e)};l.init=function(t,e){return t||(t=document.body),t instanceof HTMLElement||(t=document.querySelector(t)),t instanceof HTMLElement&&/\bo-expander\b/.test(t.getAttribute("data-o-component"))?u(t,e):[].map.call(t.querySelectorAll('[data-o-component~="o-expander"]'),function(t){return u(t,e)})};var c=function t(){l.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",c),t.exports=l},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(308),o=function(t){return t&&t.__esModule?t:{default:t}}(r),i=function t(){o.default.init(),document.removeEventListener("o.DOMContentLoaded",t)};document.addEventListener("o.DOMContentLoaded",i),e.default=o.default,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){throw new Error("*** o-message error:\n"+t+"\n***")},o=function(t){var e=void 0;t.actions.primary.text&&(e='<a href="'+t.actions.primary.url+'" class="'+t.messageClass+'__actions__primary">'+t.actions.primary.text+"</a>");var n=void 0;return t.actions.secondary.text&&(n='<a href="'+t.actions.secondary.url+'" class="'+t.messageClass+'__actions__secondary">'+t.actions.secondary.text+"</a>"),'<div class="'+t.messageClass+'__actions">\n\t\t'+e+"\n\t\t"+n+"\n\t\t</div>\n\t"};e.buildActions=o,e.throwError=r},function(t,e,n){"use strict";var r=function(t){document.body.dispatchEvent(t)};t.exports={generateMessageEvent:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.messageId,n=t.position,o=t.flag,i=t.variant;return function(t){var a={category:"n-messaging",action:t,messaging:e,messaging_position:n,messaging_flag:o,messaging_variant:i},s=new CustomEvent("oTracking.event",{detail:a,bubbles:!0});r(s);var l=new CustomEvent("oTracking.event",{detail:Object.assign({},a,{category:"component"}),bubbles:!0});r(l)}},listen:function(t,e,n){t&&t.addEventListener(e,n)}}},function(t,e,n){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var r=n(1).EnvConfig;t.exports=new r},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){N().forEach(function(e){var n=e.id===t;e.wrapper.classList.toggle("hidden",!n),n&&e.init&&(e.init(),delete e.init)})}function i(){return y.getGiftArticleAllowance().then(function(t){var e=t.credit,n=t.monthlyAllowance;e>0?j(O.giftLink.createLinkWrapper.querySelector(".gift-form__message"),"You have <strong>"+e+" gift "+D("article",e)+"</strong> left this month"):y.getNextAllowanceDate().then(function(t){var e=t.monthName+" "+t.day,r=O.giftLink.wrapper.querySelector(".gift-form__no-credit");O.giftLink.createLinkWrapper.classList.add("hidden"),O.giftLink.showLinkWrapper.classList.add("hidden"),r.classList.remove("hidden"),j(r.querySelector(".gift-form__message"),"You’ve used all your <strong>gift articles</strong><br />You’ll get your next "+n+" on <strong>"+e+"</strong>")})})}function a(){var t=window.location.origin+window.location.pathname+"?shareType=nongift",e=O.nonGiftLink,n=A()?"This article is currently <strong>free</strong> for anyone to read":"This link can only be read by existing subscribers";I(!0),j(e.showLinkMessage,n),M(t).then(function(t){return u(t.url)}).catch(function(){return u(t)}).then(function(){return I(!1)})}function s(){I(!0),y.createGiftLink(S()).then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.redemptionUrl?M(t.redemptionUrl).then(function(e){var n=e.url;l(n,t.redemptionLimit),b.createGiftLink(n,t.redemptionUrl)}):i()}).catch(function(){}).then(function(){return I(!1)})}function l(t,e){var n=O.giftLink;n.createLinkWrapper.classList.add("hidden"),n.showLinkWrapper.classList.remove("hidden"),n.shareLinkInput.value=t,n.emailLinkButton.href=x(n.shareLinkInput.value),j(n.showLinkMessage,"This link can be opened up to "+e+" times")}function u(t){O.nonGiftLink.shareLinkInput.value=t,O.nonGiftLink.emailLinkButton.href=x(t)}function c(t,e){if(P)return P;P=new h("gift-form",{html:k(t),modal:!0,customclose:!0,fullscreen:["default","S"].includes(m.getCurrentLayout())}),document.addEventListener("oOverlay.ready",function(t){"gift-form"===t.detail.el.id&&e(t.detail.el.wrapper)})}function d(t,e){var n=e.initialSection,l=e.showSocialButtons;t.querySelector(".gift-form").classList.toggle("gift-form--copy-not-supported",!E());var u=[].concat(r(t.querySelectorAll('input[name="gift-form__radio"]')));if([].concat(r(t.querySelectorAll(".gift-form__radio-section"))).forEach(function(t){var e=t.dataset.sectionId,n=t.querySelector(".gift-form__create-link"),r=t.querySelector(".gift-form__show-link"),o={id:e,wrapper:t,createLinkWrapper:n,showLinkWrapper:r,showLinkMessage:r.querySelector(".gift-form__message"),shareLinkInput:t.querySelector(".js-share-link"),copyLinkButton:t.querySelector(".js-copy-link"),emailLinkButton:t.querySelector(".js-email-link")};o.shareLinkInput.addEventListener("copy",function(){return b.copyLink(e,o.shareLinkInput.value)}),o.copyLinkButton.addEventListener("click",function(){_(o.shareLinkInput),p(o)}),o.emailLinkButton.addEventListener("click",function(){return b.emailLink(e,o.shareLinkInput.value)}),O[e]=o}),O.giftLink.init=i,O.nonGiftLink.init=a,o(n),l){var c=document.querySelector(".gift-form__mobile-share-buttons");new v(c)}u.forEach(function(t){return t.addEventListener("change",function(t){return o(t.target.value)})}),P.wrapper.querySelector(".js-create-gift-link").addEventListener("click",s),document.addEventListener("copy",function(t){N().forEach(function(e){t.target!==e.shareLinkInput&&f(e)})})}function f(t){[].concat(r(t.wrapper.querySelectorAll(".gift-form__copy-message"))).forEach(function(t){return t.remove()})}function p(t){f(t),new g(null,{type:"alert-inner",status:"success",messageClass:"gift-form__copy-message",parentElement:'.gift-form [data-section-id="'+t.id+'"]',content:{highlight:"The link has been copied to your clipboard"}})}var h=n(8),m=n(26),v=n(75),g=n(148),y=n(342),b=n(343),w=n(344),E=w.isCopySupported,_=w.copyToClipboard,x=w.getMailtoLink,k=n(345),T=n(98),S=T.getArticleId,C=T.getArticleUrl,L=T.getTitle,A=T.isFreeArticle,M=n(362),O={},P=void 0,I=function(t){return P.wrapper.classList.toggle("gift-form--loading",t)},D=function(t,e){return t+(1===e?"":"s")},j=function(t,e){return t.innerHTML=e},N=function(){return Object.keys(O).map(function(t){return O[t]})};t.exports=function(){var t=C(),e=A(),n=e?"nonGiftLink":"giftLink",r=["default","S","M"].includes(m.getCurrentLayout()),o=!1;c({hideRadioButtons:e,showSocialButtons:r,initialSection:n,title:"Share this article",exampleGiftLink:"https://on.ft.com/gift_link",shareUrl:t,shareTitle:L(),initialMailtoUrl:x(t)},function(t){o||(d(t,{initialSection:n,showSocialButtons:r}),o=!0);var e=document.querySelector(".o-overlay-shadow");e.classList.add("o-overlay-shadow--gift-form"),e.addEventListener("click",function(){return P.close()})}),P.open()}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}e.__esModule=!0,e.HandlebarsEnvironment=o;var i=n(9),a=n(33),s=r(a),l=n(347),u=n(355),c=n(357),d=r(c);e.VERSION="4.0.11";e.COMPILER_REVISION=7;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=f;o.prototype={constructor:o,logger:d.default,log:d.default.log,registerHelper:function(t,e){if("[object Object]"===i.toString.call(t)){if(e)throw new s.default("Arg not supported with multiple helpers");i.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===i.toString.call(t))i.extend(this.partials,t);else{if(void 0===e)throw new s.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===i.toString.call(t)){if(e)throw new s.default("Arg not supported with multiple decorators");i.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var p=d.default.log;e.log=p,e.createFrame=i.createFrame,e.logger=d.default},function(t,e,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":o(window))&&(r=window)}t.exports=r},function(t,e,n){"use strict";t.exports=function(t,e,n){return t!==e?n.fn(this):n.inverse(this)}},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var o=n(2);t.exports=(o.default||o).template({1:function(t,e,r,o,i){var a,s=null!=e?e:t.nullContext||{};return'\t<div class="o-teaser'+(null!=(a=r.each.call(s,(a=i&&i.nTeaserPresenter)&&a.classModifiers,{name:"each",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i}))?a:"")+'" data-o-component="o-teaser" data-trackable="teaser"'+(null!=(a=r.if.call(s,null!=e?e.originator:e,{name:"if",hash:{},fn:t.program(4,i,0),inverse:t.noop,data:i}))?a:"")+">\n\n"+(null!=(a=t.invokePartial(n(158),e,{name:"n-teaser/templates/partials/main-image",data:i,indent:"\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:"")+'\n\t\t<div class="o-teaser__content">\n\n'+(null!=(a=t.invokePartial(n(99),e,{name:"n-teaser/templates/partials/display-concept",data:i,indent:"\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:"")+"\n"+(null!=(a=t.invokePartial(n(100),e,{name:"n-teaser/templates/partials/title",data:i,indent:"\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:"")+"\n"+(null!=(a=t.invokePartial(n(101),e,{name:"n-teaser/templates/partials/timestamp",data:i,indent:"\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:"")+"\n"+(null!=(a=t.invokePartial(n(388),e,{name:"n-teaser/templates/partials/headshot",data:i,indent:"\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:"")+"\n\t\t</div>\n\t</div>\n"},2:function(t,e,n,r,o){return" o-teaser--"+t.escapeExpression(t.lambda(e,e))},4:function(t,e,n,r,o){return' data-trackable-context-originator="'+t.escapeExpression(t.lambda(null!=e?e.originator:e,e))+'"'},compiler:[7,">= 4.0.0"],main:function(t,e,o,i,a){var s;return null!=(s=r(n(46)).call(null!=e?e:t.nullContext||{},e,{name:"nTeaserPresenter",hash:{flags:(s=a&&a.root)&&s.flags,mods:null!=e?e.mods:e,template:"lifestyle"},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:""},usePartial:!0,useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var o=n(2);t.exports=(o.default||o).template({1:function(t,e,o,i,a){var s,l=t.lambda,u=null!=e?e:t.nullContext||{};return'\t<div class="o-teaser__image-container js-teaser-image-container">\n\t\t<a\n\t\t\thref="'+(null!=(s=l(null!=e?e.relativeUrl:e,e))?s:"")+(null!=(s=l(null!=e?e.referrerTracking:e,e))?s:"")+'"\n\t\t\tdata-trackable="image"\n\t\t\t'+(null!=(s=o.if.call(u,(s=a&&a.nTeaserPresenter)&&s.headlineTestingVariant,{name:"if",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?s:"")+"\n"+(null!=(s=o.if.call(u,(s=a&&a.nTeaserPresenter)&&s.isVideo,{name:"if",hash:{},fn:t.program(4,a,0),inverse:t.program(6,a,0),data:a}))?s:"")+"\t\t>\n"+(null!=(s=r(n(34)).call(u,null!=e?e.lazyLoad:e,!1,{name:"ifEquals",hash:{},fn:t.program(8,a,0),inverse:t.program(11,a,0),data:a}))?s:"")+"\t\t</a>\n\t</div>\n"},2:function(t,e,n,r,o){var i;return'data-trackable-context-headline-variant="'+(null!=(i=t.lambda((i=o&&o.nTeaserPresenter)&&i.headlineTestingVariant,e))?i:"")+'"'},4:function(t,e,n,r,o){var i;return'\t\t\taria-label="Watch video '+(null!=(i=t.lambda((i=o&&o.nTeaserPresenter)&&i.displayTitle,e))?i:"")+'"\n'},6:function(t,e,n,r,o){var i;return'\t\t\taria-hidden="true"\n\t\t\ttabindex="-1"\n\t\t\ttitle="'+t.escapeExpression(t.lambda((i=(i=o&&o.nTeaserPresenter)&&i.data)&&i.title,e))+'"\n'},8:function(t,e,o,i,a){var s;return null!=(s=r(n(45)).call(null!=e?e:t.nullContext||{},{name:"nImagePresenter",hash:{sourceParam:(s=(s=a&&a.nTeaserPresenter)&&s.displayImage)&&s.sourceParam,classes:"o-teaser__image",wrapperClasses:"o-teaser__image-placeholder",lazyLoad:!1,widths:null!=e?e.widths:e,position:null!=e?e.position:e,colspan:null!=e?e.colspan:e,placeholder:(s=(s=a&&a.nTeaserPresenter)&&s.displayImage)&&s.ratio,srcSet:(s=(s=a&&a.nTeaserPresenter)&&s.displayImage)&&s.url},fn:t.program(9,a,0),inverse:t.noop,data:a}))?s:""},9:function(t,e,r,o,i){var a;return null!=(a=t.invokePartial(n(160),e,{name:"n-image/templates/image",data:i,indent:"\t\t\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:""},11:function(t,e,o,i,a){var s;return null!=(s=r(n(45)).call(null!=e?e:t.nullContext||{},{name:"nImagePresenter",hash:{sourceParam:(s=(s=a&&a.nTeaserPresenter)&&s.displayImage)&&s.sourceParam,classes:"o-teaser__image",wrapperClasses:"o-teaser__image-placeholder",lazyLoad:!0,widths:null!=e?e.widths:e,position:null!=e?e.position:e,colspan:null!=e?e.colspan:e,placeholder:(s=(s=a&&a.nTeaserPresenter)&&s.displayImage)&&s.ratio,srcSet:(s=(s=a&&a.nTeaserPresenter)&&s.displayImage)&&s.url},fn:t.program(9,a,0),inverse:t.noop,data:a}))?s:""},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i;return null!=(i=n.if.call(null!=e?e:t.nullContext||{},(i=o&&o.nTeaserPresenter)&&i.displayImage,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?i:""},usePartial:!0,useData:!0})},function(t,e,n){"use strict";t.exports=[{name:"XXL",px:"1440"},{name:"XL",px:"1220"},{name:"L",px:"980"},{name:"M",px:"740"},{name:"S",px:"490"},{name:"default",px:"0"}]},function(t,e,n){var r=n(2);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i,a,s=null!=e?e:t.nullContext||{},l=n.helperMissing,u=t.escapeExpression;return"\t\t<img\n"+(null!=(i=n.if.call(s,null!=e?e.src:e,{name:"if",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o}))?i:"")+"\t\t"+(null!=(i=n.if.call(s,null!=e?e["data-src"]:e,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.noop,data:o}))?i:"")+"\n\t\t"+(null!=(i=n.if.call(s,null!=e?e.srcSet:e,{name:"if",hash:{},fn:t.program(9,o,0),inverse:t.noop,data:o}))?i:"")+"\n\t\t"+(null!=(i=n.if.call(s,null!=e?e["data-srcset"]:e,{name:"if",hash:{},fn:t.program(11,o,0),inverse:t.noop,data:o}))?i:"")+"\n\t\t"+(null!=(i=n.if.call(s,null!=e?e.sizes:e,{name:"if",hash:{},fn:t.program(13,o,0),inverse:t.noop,data:o}))?i:"")+"\n\t\t"+(null!=(i=n.if.call(s,null!=e?e.role:e,{name:"if",hash:{},fn:t.program(15,o,0),inverse:t.noop,data:o}))?i:"")+'\n\t\talt="'+u((a=null!=(a=n.alt||(null!=e?e.alt:e))?a:l,"function"==typeof a?a.call(s,{name:"alt",hash:{},data:o}):a))+'"\n\t\tclass="'+u((a=null!=(a=n.className||(null!=e?e.className:e))?a:l,"function"==typeof a?a.call(s,{name:"className",hash:{},data:o}):a))+(null!=(i=n.unless.call(s,(i=(i=o&&o.root)&&i.flags)&&i.imgNoFadeOnLoad,{name:"unless",hash:{},fn:t.program(17,o,0),inverse:t.noop,data:o}))?i:"")+'"\n\t\t/>\n'},2:function(t,e,n,r,o){var i,a,s=null!=e?e:t.nullContext||{};return'\t\t\tsrc="'+t.escapeExpression((a=null!=(a=n.src||(null!=e?e.src:e))?a:n.helperMissing,"function"==typeof a?a.call(s,{name:"src",hash:{},data:o}):a))+'"\n\t\t\t'+(null!=(i=n.if.call(s,null!=e?e.width:e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o}))?i:"")+"\n\t\t\t"+(null!=(i=n.if.call(s,null!=e?e.height:e,{name:"if",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o}))?i:"")+"\n"},3:function(t,e,n,r,o){var i;return' width="'+t.escapeExpression((i=null!=(i=n.width||(null!=e?e.width:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:t.nullContext||{},{name:"width",hash:{},data:o}):i))+'"'},5:function(t,e,n,r,o){var i;return' height="'+t.escapeExpression((i=null!=(i=n.height||(null!=e?e.height:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:t.nullContext||{},{name:"height",hash:{},data:o}):i))+'"'},7:function(t,e,n,r,o){var i;return' data-src="'+t.escapeExpression((i=null!=(i=n["data-src"]||(null!=e?e["data-src"]:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:t.nullContext||{},{name:"data-src",hash:{},data:o}):i))+'"'},9:function(t,e,n,r,o){var i;return' srcSet="'+t.escapeExpression((i=null!=(i=n.srcSet||(null!=e?e.srcSet:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:t.nullContext||{},{name:"srcSet",hash:{},data:o}):i))+'"'},11:function(t,e,n,r,o){var i;return' data-srcset="'+t.escapeExpression((i=null!=(i=n["data-srcset"]||(null!=e?e["data-srcset"]:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:t.nullContext||{},{name:"data-srcset",hash:{},data:o}):i))+'"'},13:function(t,e,n,r,o){var i;return' sizes="'+t.escapeExpression((i=null!=(i=n.sizes||(null!=e?e.sizes:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:t.nullContext||{},{name:"sizes",hash:{},data:o}):i))+'"'},15:function(t,e,n,r,o){var i;return' role="'+t.escapeExpression((i=null!=(i=n.role||(null!=e?e.role:e))?i:n.helperMissing,"function"==typeof i?i.call(null!=e?e:t.nullContext||{},{name:"role",hash:{},data:o}):i))+'"'},17:function(t,e,n,r,o){return" n-image--fade-on-load"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i,a=t.lambda,s=t.escapeExpression;return'<div class="'+s(a(null!=(i=null!=(i=null!=e?e.image:e)?i.wrapperAttrs:i)?i.className:i,e))+'" style="'+s(a(null!=(i=null!=(i=null!=e?e.image:e)?i.wrapperAttrs:i)?i.styleString:i,e))+'">\n'+(null!=(i=n.with.call(null!=e?e:t.nullContext||{},null!=(i=null!=e?e.image:e)?i.imgAttrs:i,{name:"with",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?i:"")+"</div>\n"},useData:!0})},function(t,e,n){"use strict";t.exports=function(){var t=[].slice.call(arguments),e=t.pop();return t.some(function(t){return t})?e.fn(this):e.inverse(this)}},function(t,e,n){"use strict";e.About="http://www.ft.com/ontology/annotation/about",e.Author="http://www.ft.com/ontology/annotation/hasAuthor",e.ClassifiedBy="http://www.ft.com/ontology/classification/isClassifiedBy",e.DisplayTag="http://www.ft.com/ontology/hasDisplayTag",e.MajorMentions="http://www.ft.com/ontology/annotation/majorMentions",e.Mentions="http://www.ft.com/ontology/annotation/mentions",e.PrimarilyClassifiedBy="http://www.ft.com/ontology/classification/isPrimarilyClassifiedBy"},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var o=n(2);t.exports=(o.default||o).template({1:function(t,e,r,o,i){var a,s=null!=e?e:t.nullContext||{};return'\t<div class="o-teaser'+(null!=(a=r.each.call(s,(a=i&&i.nTeaserPresenter)&&a.classModifiers,{name:"each",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i}))?a:"")+'" data-o-component="o-teaser" data-trackable="teaser"'+(null!=(a=r.if.call(s,null!=e?e.originator:e,{name:"if",hash:{},fn:t.program(4,i,0),inverse:t.noop,data:i}))?a:"")+'>\n\t\t<div class="o-teaser__content">\n\n'+(null!=(a=t.invokePartial(n(99),e,{name:"n-teaser/templates/partials/display-concept",data:i,indent:"\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:"")+"\n"+(null!=(a=r.if.call(s,(a=i&&i.nTeaserPresenter)&&a.isPlayableVideo,{name:"if",hash:{},fn:t.program(6,i,0),inverse:t.noop,data:i}))?a:"")+"\n"+(null!=(a=t.invokePartial(n(100),e,{name:"n-teaser/templates/partials/title",data:i,indent:"\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:"")+"\n"+(null!=(a=t.invokePartial(n(402),e,{name:"n-teaser/templates/partials/standfirst",data:i,indent:"\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:"")+"\n"+(null!=(a=r.unless.call(s,(a=i&&i.nTeaserPresenter)&&a.isPlayableVideo,{name:"unless",hash:{},fn:t.program(8,i,0),inverse:t.noop,data:i}))?a:"")+"\n"+(null!=(a=t.invokePartial(n(403),e,{name:"n-teaser/templates/partials/actions",data:i,indent:"\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:"")+"\n\t\t</div>\n\n"+(null!=(a=r.unless.call(s,(a=i&&i.nTeaserPresenter)&&a.isPlayableVideo,{name:"unless",hash:{},fn:t.program(10,i,0),inverse:t.noop,data:i}))?a:"")+"\n\t</div>\n"},2:function(t,e,n,r,o){return" o-teaser--"+t.escapeExpression(t.lambda(e,e))},4:function(t,e,n,r,o){return' data-trackable-context-originator="'+t.escapeExpression(t.lambda(null!=e?e.originator:e,e))+'"'},6:function(t,e,r,o,i){var a;return null!=(a=t.invokePartial(n(404),e,{name:"n-teaser/templates/partials/playable-video",data:i,indent:"\t\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:""},8:function(t,e,r,o,i){var a;return null!=(a=t.invokePartial(n(101),e,{name:"n-teaser/templates/partials/timestamp",data:i,indent:"\t\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:""},10:function(t,e,r,o,i){var a;return null!=(a=t.invokePartial(n(158),e,{name:"n-teaser/templates/partials/main-image",data:i,indent:"\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(t,e,o,i,a){var s;return null!=(s=r(n(46)).call(null!=e?e:t.nullContext||{},e,{name:"nTeaserPresenter",hash:{flags:(s=a&&a.root)&&s.flags,mods:null!=e?e.mods:e,template:"heavy"},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:""},usePartial:!0,useData:!0})},function(t,e,n){"use strict";var r=n(419),o=n(165),i=n(421),a=n(422),s=n(423),l=n(427);t.exports=function(t,e,n,u){n=n||[],u=u||!1;var c=t.config("gpt").site?t.config("gpt").network+"/"+t.config("gpt").site+"/"+t.config("gpt").zone:"5887/ft.com/home/UK",d=r(t,u);return o(d).then(i).then(a.bind(null,n)).then(s.bind(null,c,e,t,n)).then(l).catch(function(){return null})}},function(t,e,n){"use strict";var r=n(43).default;t.exports=function(t){return r(t,{timeout:4e3,mode:"cors"}).then(function(t){if(t.ok)return t.text?t.text():t.json()}).catch(function(){return{}})}},,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(){c.flags.get("newsletterSignupOnArticle")&&(0,y.init)()}var a=n(170),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(a),l=n(196),u=r(l),c=n(303),d=n(147),f=r(d),p=n(68),h=r(p),m=n(4),v=r(m),g=n(304),y=n(325),b=n(25),w=r(b),E=n(333),_=n(341),x=r(_),k=n(363),T=r(k),S=n(364),C=r(S),L=n(365),A=n(372),M=r(A),O=n(373),P=n(405),I=n(415),D=n(418),j=n(428),N=n(430),H=n(431),F=n(432),U=n(433),q=[];c.flags.get("myFtApi")&&(q.push({relationship:"followed",type:"concept"}),q.push({relationship:"saved",type:"content"})),c.flags.get("showEventPromo")?(0,L.init)().then(function(){document.querySelector(".js-article-newsletter-signup").style.display="none"}).catch(i):i(),s.client.init(q).catch(function(t){if("No session cookie found"!==t)throw t}),v.default.listenTo("resize"),document.querySelector('*[data-article-status="error"]')||function(){c.flags.get("articleShareButtons")&&I.init(c.flags),window.location.search&&window.location.search.indexOf("imageId=")>=0&&window.history.replaceState(null,null,window.location.pathname+window.location.search.replace(/&imageId(=[^&]*)?|^\?imageId(=[^&]*)?&?/,"")),c.flags.get("articleScrollDepthTracking")&&c.tracking.scrollDepth.init("next-article",{selector:".article__content"}),N(c.flags),F(),c.allStylesLoaded.then(function(){H.init(),f.default.init(),s.ui.init({anonymous:!/FTSession=/.test(document.cookie),flags:c.flags}),c.flags.get("unreadArticlesIndicator")&&(0,u.default)(),[].concat(o(document.querySelectorAll('[data-o-component="o-video"]'))).forEach(function(t){new h.default(t,{advertising:c.flags.get("ads")&&c.flags.get("videoPlayerAdvertising"),placeholder:!0,optimumwidth:700})}),c.flags.get("articleComments")&&document.querySelector("#comments")&&(0,E.init)(c.flags),c.flags.get("ftlabsAudioPlayer")&&j(c.flags),(c.flags.get("messageSlotBottom")||c.flags.get("messageSlotTop"))&&g.nMessagingClient.init(),c.flags.get("mobileStickyHeader")&&(0,x.default)();var t=function(){c.flags.get("articleRelatedContent")&&O.init(c.flags).then(function(){return D(c.flags)})};if(c.flags.get("dailyDigestJourney")?P({onNothingToRender:t}):t(),"variant"===c.flags.get("articleProminentAds")){var e=document.querySelector(".sidebar-advert");e&&new T.default(e),window.addEventListener("oAds.complete",function(t){if("article-body-leaderboard"===t.detail.name){var e=document.querySelector(".follow-tags"),n=(0,C.default)(t.target.querySelector("iframe"),e);n.left>0&&(e.style.position="relative",n.bottom?e.style.top="-"+n.bottom+"px":n.top&&(e.style.top=n.top+"px"))}})}}),(c.flags.onboardingMessaging&&"followPlusEmailDigestTooltip"===c.flags.onboardingMessaging||c.flags.myFtHomepageJourney&&"articles"===c.flags.myFtHomepageJourney&&window.location.search.includes("from-myft-article-slice"))&&window.addEventListener("ftNextLoaded",function(){var t=document.querySelector('.n-myft-ui__button[aria-pressed="false"]'),e=document.querySelector('[data-trackable="primary-theme"]').innerHTML,n=c.flags.myFtHomepageJourney?"Want all stories on "+e+"? Add to myFT.":"Never miss a story on "+e+". Get the latest headlines in a Daily Digest email.",r={target:"add-to-my-ft",content:n,showOnConstruction:!0,position:"below"},o=new w.default(t,r),i=new CustomEvent("oTracking.event",{detail:{category:"component",action:"view",messaging:"add-to-my-ft-tooltip"},bubbles:!0});document.body.dispatchEvent(i),o.tooltipEl.addEventListener("oTooltip.close",function(){var t=new CustomEvent("oTracking.event",{detail:{category:"component",action:"close",messaging:"add-to-my-ft-tooltip"},bubbles:!0});document.body.dispatchEvent(t)}),t.addEventListener("click",function(){var t=new CustomEvent("oTracking.event",{detail:{category:"component",action:"act",messaging:"add-to-my-ft-tooltip"},bubbles:!0});document.body.dispatchEvent(t),o.close("","",!1),document.body.classList.remove("experimental-myft-flash"),document.body.classList.add("experimental-myft-flash")})}),new U("article-summary"),c.flags.myftArticleInstantAlerCta&&(0,M.default)()}(),(0,c.onAppInitialized)()},function(t,e,n){"use strict";t.exports={client:n(6),ui:n(179),uiInstant:n(195)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(50),a=n(17),s={personaliseUrl:n(174)},l={total:0,items:[],count:0},u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.apiRoot;if(r(this,t),!n)throw"User prefs must be constructed with an api root";this.apiRoot=n,this.loaded={}}return o(t,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.initialised?Promise.resolve():(this.initialised=!0,/FTSession=/.test(document.cookie)?(this.setPerfMark(),i.uuid().then(function(n){var r=n.uuid;if(!r)return Promise.reject("Session service returned undefined.");t.userId=r,t.headers={"Content-Type":"application/json","X-FT-Session-Token":i.cookie(),accept:"application/json"};var o=new Set([{relationship:"preferred",type:"preference"},{relationship:"enabled",type:"endpoint"},{relationship:"created",type:"list"}]);e.forEach(function(t){o.has(t)||o.add(t)}),o.forEach(function(e){return t.load(e)})}).catch(function(t){if("No session cookie found"!==t.message)throw t})):Promise.reject("No session cookie found"))}},{key:"setPerfMark",value:function(){var t=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance;t&&t.mark&&Promise.all([new Promise(function(t){document.addEventListener("myft.user.followed.concept.load",t)}),new Promise(function(t){document.addEventListener("myft.user.saved.content.load",t)})]).then(function(){return t.mark("myftLoaded")})}},{key:"emit",value:function(t,e){document.body.dispatchEvent(new CustomEvent("myft."+t,{detail:e,bubbles:!0}))}},{key:"fetchJson",value:function(t,e,n){var r={method:t,headers:this.headers,credentials:"include"};if(/undefined/.test(e)){var o="Request should not contain undefined.";return document.body.dispatchEvent(new CustomEvent("oErrors.log",{bubbles:!0,detail:{error:new Error(o)}})),Promise.reject(o)}return"GET"!==t&&(r.body=JSON.stringify(n||{})),fetch(this.apiRoot+e,r).then(a.json)}},{key:"load",value:function(t){var e=this,n=t.relationship+"."+t.type;this.fetchJson("GET",this.userId+"/"+t.relationship+"/"+t.type).then(function(t){t||(t=l),e.loaded[n]=t,e.emit("user."+n+".load",t)}).catch(function(t){if("No user data exists"!==t.message)throw t;e.loaded[n]=l,e.emit("user."+n+".load",l)})}},{key:"add",value:function(t,e,n,r,o,i){var a=this;return e=this.getFallbackActorIdIfNecessary(t,e),this.fetchJson("PUT",t+"/"+e+"/"+n+"/"+r+"/"+o,i).then(function(s){var l={actorId:e,results:s,subject:o,data:i};return a.emit(t+"."+n+"."+r+".add",l),l})}},{key:"remove",value:function(t,e,n,r,o,i){var a=this;return e=this.getFallbackActorIdIfNecessary(t,e),this.fetchJson("DELETE",t+"/"+e+"/"+n+"/"+r+"/"+o,i).then(function(){var s={actorId:e,subject:o,data:i};return a.emit(t+"."+n+"."+r+".remove",s),s})}},{key:"updateRelationship",value:function(t,e,n,r,o,i){var a=this;return e=this.getFallbackActorIdIfNecessary(t,e),this.fetchJson("PUT",t+"/"+e+"/"+n+"/"+r+"/"+o,i).then(function(s){var l={actorId:e,results:s,subject:o,data:i};return a.emit(t+"."+n+"."+r+".update",l),l})}},{key:"get",value:function(t,e,n){var r=this;return this.getAll(t,e).then(function(t){return t.filter(function(t){return r.getUuid(t)===n})})}},{key:"getAll",value:function(t,e){var n=this;return new Promise(function(r){n.loaded[t+"."+e]?r(n.getItems(t,e)):document.body.addEventListener("myft.user."+t+"."+e+".load",function(){r(n.getItems(t,e))})})}},{key:"has",value:function(t,e,n){return this.get(t,e,n).then(function(t){return t.length>0})}},{key:"getUuid",value:function(t){return t.uuid}},{key:"getItems",value:function(t,e){return this.loaded[t+"."+e].items||[]}},{key:"personaliseUrl",value:function(t){return i.uuid().then(function(e){var n=e.uuid;return s.personaliseUrl(t,n)})}},{key:"getFallbackActorIdIfNecessary",value:function(t,e){if(e)return e;if("user"===t)return this.userId;throw new Error("no actorId specified")}},{key:"followPlusDigestEmail",value:function(t,e){var n=this;return this.fetchJson("PUT",this.userId+"/follow-plus-digest-email/"+t,e).then(function(r){var o={actorId:n.userId,results:r,subject:t,data:e};return n.emit("user.followed.concept.add",o),o})}}]),t}();e.default=u,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.credentials,r=void 0===n?"omit":n;return fetch("https://session-next.ft.com"+t,{credentials:r,useCorsProxy:!0}).then(function(t){return t.ok?t.json():t.text().then(function(e){throw new Error('Next session responded with "'+e+'" ('+t.status+")")})}).catch(function(t){document.body.dispatchEvent(new CustomEvent("oErrors.log",{bubbles:!0,detail:{error:t,info:{component:"next-session-client"}}}))})},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={},i=function(t,e){if("object"===(void 0===t?"undefined":r(t)))return void(o=t);if("string"==typeof t&&"string"==typeof e)return void(o[t]=e);if("string"==typeof t&&void 0===e)return o[t]||null;if(void 0===t&&void 0===e)return o;throw new Error("Invalid arguments")};i.clear=function(){o={}},e.default=i,t.exports=e.default},function(t,e,n){"use strict";var r=n(175),o=n(178);t.exports=function(t,e){if(r(t))return t;if(!e)return t;if(!e.length||!o(e))throw new Error("Invalid user uuid: "+e);return t.replace(/myft(?:\/([a-zA-z\-]*))?(\/.[^$\/])?\/?/,function(t,n,r){return"myft/"+(n?n+"/":"")+e+(r||"")})}},function(t,e,n){"use strict";var r=n(176),o=n(177);t.exports=function(t){return/^\/(__)?myft\/api\//.test(t)||/^\/(__)?myft\/list/.test(t)||o(t)||r(t)}},function(t,e,n){"use strict";t.exports=function(t){return/\/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/.test(t)}},function(t,e,n){"use strict";t.exports=function(t){return/^\/(__)?myft\/(my-news|my-topics|preferences|product-tour)/.test(t)}},function(t,e,n){"use strict";t.exports=function(t){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(t)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){s.init(t),u.init()}Object.defineProperty(e,"__esModule",{value:!0}),e.updateUi=e.personaliseLinks=e.init=void 0;var a=n(180),s=o(a),l=n(193),u=o(l),c=n(53),d=r(c),f=n(194),p=r(f);e.init=i,e.personaliseLinks=d.default,e.updateUi=p.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=void 0;var r=n(181),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.init=o.default},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}function i(t){return function(e,n){return e.preventDefault(),(0,C.default)(t,n)}}function a(){var t=window.location.pathname,e="/products?segID=400863&segmentID=190b4443-dc03-bd53-e79b-b4b6fbd04e64",n="/login"+(t.length?"?location="+t:""),r={follow:'Please <a href="'+e+'" data-trackable="Subscribe">subscribe</a> or <a href="'+n+'" data-trackable="Sign In">sign in</a> to add this topic to myFT.',save:'Please <a href="'+e+'" data-trackable="Subscribe">subscribe</a> or <a href="'+n+'" data-trackable="Sign In">sign in</a> to save this article.'};["follow","save"].forEach(function(t){D.on("submit",".n-myft-ui--"+t,function(e){e.preventDefault(),E.default.show({content:r[t],trackable:"myft-anon"})})})}function s(){Object.keys(g.default).forEach(function(t){var e=g.default[t].uiSelector;m.waitForRelationshipsToLoad(t).then(function(){var e=m.getRelationships(t);if(e.length>0){var n=e.map(function(t){return t.uuid});d.setStateOfManyButtons(t,n,!0)}}),["add","remove","update"].forEach(function(e){var n=g.default[t].actorType,r=g.default[t].subjectType,o="myft."+n+"."+t+"."+r+"."+e;document.body.addEventListener(o,function(n){var o=n.detail.results&&n.detail.results[0];d.setStateOfButton(t,n.detail.subject,!!n.detail.results,void 0,o),p.custom({subjectType:r,action:e,subjectId:n.detail.subject,postedData:n.detail.data,resultData:o})})}),D.on("submit",e,i(t))})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){t.anonymous||(0,b.default)((0,I.default)()),j||(j=!0,(0,O.default)(),t&&t.anonymous?a():(s(),(0,T.default)(),t.flags&&t.flags.get("myftPrioritiseTopics")&&u.default.init().then(function(){return(0,A.default)()})))};var l=n(6),u=o(l),c=n(38),d=r(c),f=n(183),p=r(f),h=n(51),m=r(h),v=n(18),g=o(v),y=n(184),b=o(y),w=n(52),E=o(w),_=n(7),x=o(_),k=n(53),T=o(k),S=n(186),C=o(S),L=n(189),A=o(L),M=n(190),O=o(M),P=n(191),I=o(P),D=new x.default(document.body),j=void 0;t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.assumeNoneTimeout=5e3},function(t,e,n){"use strict";function r(t){if(-1!==Object.keys(o).indexOf(t.subjectType)){var e={action:s(t.subjectType,t.action,t.postedData,t.resultData)},n=a(t.subjectType,t.subjectId);Object.assign(e,n),i(e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.custom=r;var o={concept:{idLabel:"concept_id",add:"follow",remove:"unfollow"},content:{idLabel:"article_id",add:"save",remove:"unsave"}},i=function(t){var e=Object.assign({},t,{category:"myFT"});document.body.dispatchEvent(new CustomEvent("oTracking.event",{detail:e,bubbles:!0}))},a=function(t,e){var n={};return n[o[t].idLabel]=e,n},s=function(t,e,n,r){if("update"===e&&"concept"===t){return"instant-alert-"+(n&&n._rel&&n._rel.instant&&"true"===n._rel.instant?"on":"off")}return r&&r.rel&&r.rel.type&&"contained"===r.rel.type?e+"-to-list-success":o[t][e]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,r.$$)("[data-myft-csrf-token]").forEach(function(e){e.value=t})};var r=n(3);t.exports=e.default},function(t,e,n){"use strict";t.exports=function(t){var e=document.createElement("div");e.className="n-notification__item n-notification--"+(t.type?t.type:"default"),e.setAttribute("role","alert"),e.setAttribute("data-trackable",t.trackable);var n=document.createElement("div");if(n.className="n-notification__content-wrapper",t.title){var r=document.createElement("h3");r.className="n-notification__title",r.innerHTML=t.title,n.appendChild(r)}if(t.content){var o=document.createElement("div");o.className="n-notification__content",o.innerHTML=t.content,n.appendChild(o)}var i=document.createElement("button");return i.className="n-notification__close",i.setAttribute("data-trackable","close"),i.innerHTML="Close",e.appendChild(n),e.appendChild(i),e}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t){return t.querySelector("button").hasAttribute("disabled")}function a(t){return"true"===t.querySelector("button").getAttribute("aria-pressed")?"remove":"add"}function s(t){var e=t.querySelector("button"),n=t.querySelectorAll('input[type="hidden"]'),r=[e].concat(o(n));return(0,p.default)(r)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!i(e)){e.querySelector("button").setAttribute("disabled","");var n=a(e),r=e.getAttribute("data-actor-id"),o=s(e);if(m.formIsFollowCollection(t,e))return m.doAction(n,r,e,o);if("followPlusDigestEmail"===e.getAttribute("data-myft-ui-variant")&&"add"===n)return u.default.followPlusDigestEmail(e.getAttribute("data-concept-id"),o);var l=d.default[t],c=e.getAttribute(l.idProperty),f=l.subjectType,p=l.actorType;return u.default[n](p,r,t,f,c,o)}};var l=n(6),u=r(l),c=n(18),d=r(c),f=n(187),p=r(f),h=n(188),m=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(h);t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e={};return t.forEach(function(t){if(t.name)if(t.name.startsWith("_rel.")){var n=t.name.slice("_rel.".length);e._rel=e._rel||{},e._rel[n]=t.value}else e[t.name]=t.value}),e},t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=t.getAttribute(p).split(","),r=e.name.split(","),o=e.directType?e.directType.split(","):[];return n.map(function(t,n){delete e.name,delete e.type;var i=Object.assign({name:r[n]},e);return o[n]&&(i.directType=o[n]),{id:t,formData:i}})}function i(t,e){return"followed"===t&&e.getAttribute(p).includes(",")}function a(t,e,n,r){return Promise.all(o(n,r).map(function(n){return l.default[t]("user",e,"followed","concept",n.id,n.formData)})).then(function(){return f.toggleButton(n.querySelector("button"),"add"===t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.formIsFollowCollection=i,e.doAction=a;var s=n(6),l=r(s),u=n(18),c=r(u),d=n(38),f=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(d),p=c.default.followed.idProperty},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(7),i=r(o),a=n(6),s=r(a),l=new i.default(document.body),u=function(t){var e=t.action;return new CustomEvent("oTracking.event",{detail:{category:"component",messaging:"myft-onboarding-pinning-promo",action:e},bubbles:!0})},c=function t(e,n){return e.classList.contains(n)?e:e.parentElement&&t(e.parentElement,n)},d=function(t){return t&&t.classList.add("loading")},f=function(t,e){e?s.default.remove("user",null,"prioritised","concept",t):s.default.add("user",null,"prioritised","concept",t),document.body.dispatchEvent(u({action:"act"}))};e.default=function(){l.on("click","button[data-prioritise-button]",function(t){t.preventDefault();var e=t.target.dataset,n=e.conceptId,r=e.prioritised,o=c(t.target,"myft-pin-button-wrapper");d(o),f(n,"true"===r)})},t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;["follow","save","instant"].forEach(function(e){Array.from(t.querySelectorAll("form.n-myft-ui--"+e)).forEach(function(t){t.setAttribute("method","POST"),t.setAttribute("action",t.getAttribute("data-js-action"))})})},t.exports=e.default},function(t,e,n){"use strict";var r=n(192),o=function(t){return t&&t.__esModule?t:{default:t}}(r);t.exports=function(){return o.default.get("FTSession_s")||o.default.get("FTSession")}},function(t,e,n){"use strict";var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(a){var s=!1;if(r=a,void 0!==(o="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=o),s=!0,"object"===i(e)&&(t.exports=a(),s=!0),!s){var l=window.Cookies,u=window.Cookies=a();u.noConflict=function(){return window.Cookies=l,u}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(n){function r(e,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if(i=t({path:"/"},r.defaults,i),"number"==typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(t){}o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape);var l="";for(var u in i)i[u]&&(l+="; "+u,!0!==i[u]&&(l+="="+i[u]));return document.cookie=e+"="+o+l}e||(a={});for(var c=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<c.length;f++){var p=c[f].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var m=p[0].replace(d,decodeURIComponent);if(h=n.read?n.read(h,m):n(h,m)||h.replace(d,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(t){}if(e===m){a=h;break}e||(a[m]=h)}catch(t){}}return a}}return r.set=r,r.get=function(t){return r.call(r,t)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}return e(function(){})})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var n=e.name,r=void 0===n?"myft-ui":n,o=e.title,i=void 0===o?"&nbsp;":o,a=e.shaded,s=void 0===a||a,l=new w.default(r,{heading:{title:i,shaded:s},html:t});return l.open(),new Promise(function(t){document.body.addEventListener("oOverlay.ready",function(){return t(l)})})}function i(t,e,n){return _.setStateOfButton("contained",e,n),v.default.personaliseUrl("/myft/list/"+t).then(function(t){var e='\n\t\t\t\t<a href="/myft" class="myft-ui__logo" data-trackable="myft-logo"><abbr title="myFT" class="myft-ui__icon"></abbr></a>\n\t\t\t\t\t'+(n?'Article added to your list.\n\t\t\t\t<a href="'+t+'" data-trackable="alerts">View list</a>':"Article removed from your list")+"\n\t\t\t";e&&k.default.show({content:e,type:"default",trackable:"myft-feedback-notification"})})}function a(t,e){var n=t.content.querySelector(".js-save-to-existing-list"),r=t.content.querySelector(".js-list-select");n&&n.addEventListener("click",function(n){if(n.preventDefault(),!r.value){return void(t.content.querySelector(".js-uuid-group").className+=" o-forms--error n-myft-ui__error--no-name")}var o=r.options[r.selectedIndex].value;v.default.add("list",o,"contained","content",e).then(function(e){i(e.actorId,e.subjectId,!!e.results),t.close()})})}function s(t,e){var n=t.content.querySelector(".js-create-list"),r=t.content.querySelector(".js-name");n.addEventListener("click",function(n){if(n.preventDefault(),!r.value){return void(t.content.querySelector(".js-name-group").className+=" o-forms--error n-myft-ui__error--no-name")}var o={name:r.value};v.default.add("user",null,"created","list",(0,T.uuid)(),o).then(function(t){return e?v.default.add("list",t.subject,"contained","content",e):t}).then(function(n){e&&i(n.actorId,e,!!n.results),t.close()}).catch(function(t){throw k.default.show({content:e?"Error adding article to new list":"Error creating new list",type:"error"}),t})})}function l(t,e,n){v.default.personaliseUrl(e).then(function(t){return fetch(t,{credentials:"same-origin"})}).then(function(t){return t.text()}).then(function(e){return o(e,{title:t})}).then(function(t){a(t,n),s(t,n)})}function u(t,e){l("Copy to list","/myft/list?fragment=true&copy=true&contentId="+t+"&excludeList="+e,t)}function c(){l("Create list","/myft/list?fragment=true")}function d(t){l("Article saved","/myft/list?fragment=true&fromArticleSaved=true&contentId="+t,t)}function f(t){return v.default.getAll("created","list").then(function(t){return t.filter(function(t){return!t.isRedirect})}).then(function(e){e.length&&d(t)})}function p(){document.body.addEventListener("myft.user.saved.content.add",function(t){f(t.detail.subject)}),S.on("click",'[data-myft-ui="copy-to-list"]',function(t){t.preventDefault(),u(t.target.getAttribute("data-content-id"),t.target.getAttribute("data-actor-id"))}),S.on("click",'[data-myft-ui="create-list"]',function(t){t.preventDefault(),c()})}function h(){p()}Object.defineProperty(e,"__esModule",{value:!0}),e.init=h;var m=n(6),v=r(m),g=n(7),y=r(g),b=n(8),w=r(b),E=n(38),_=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(E),x=n(52),k=r(x),T=n(3),S=new y.default(document.body)},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){(0,a.default)(t),Object.keys(f.default).forEach(function(e){var n=l.getRelationships(e);if(n.length>0){var r=n.map(function(t){return t.uuid});c.setStateOfManyButtons(e,r,!0,t)}})};var i=n(53),a=o(i),s=n(51),l=r(s),u=n(38),c=r(u),d=n(18),f=o(d);t.exports=e.default},function(t,e,n){"use strict";function r(t){return!!(t._rel||t.results&&t.results[0])&&Boolean(t._rel?t._rel.instant:t.results[0].rel.properties.instant)}function o(t,e){y.updateRelationship("user",null,"followed","concept",t,e)}function i(t,e){e!==("true"===t.getAttribute("aria-pressed"))&&m.toggleState(t),t.removeAttribute("disabled"),t.setAttribute("value",!e)}function a(t,e){E(k+'[data-concept-id="'+t+'"] button').forEach(function(t){i(t,e)})}function s(t){a(t.subject,!1)}function l(t){var e=r(t);a(t.subject,e)}function u(){v.show({content:'Please <a href="'+_+'" data-trackable="Subscribe">subscribe</a> or <a href="'+x+'" data-trackable="Sign In">sign in</a> to receive instant alerts.',trackable:"myft-anon"})}function c(t){var e={};return t.forEach(function(t){if(t.name.startsWith("_rel.")){var n=t.name.slice("_rel.".length);e._rel=e._rel||{},e._rel[n]=t.value}else"hidden"===t.type&&(e[t.name]=t.value)}),e}function d(t,e){if(t.preventDefault(),T&&T.anonymous)u();else{var n=e.getAttribute("data-concept-id"),r=w("button",e),i=E("input",e);i.push(r),o(n,c(i))}}function f(){y.loaded&&y.loaded["followed.concept"]&&y.loaded["followed.concept"].items.forEach(function(t){t._rel.instant&&a(t.uuid,!0)})}function p(){document.body.addEventListener("myft.user.followed.concept.load",f),document.body.addEventListener("myft.user.followed.concept.remove",function(t){return s(t.detail)}),document.body.addEventListener("myft.user.followed.concept.update",function(t){return l(t.detail)}),b.on("submit",""+k,d)}function h(t){var e=E(k);T=t,e.length>0&&(f(),p())}Object.defineProperty(e,"__esModule",{value:!0}),e.init=h;var m=n(110),v=n(52),g=n(7),y=n(6),b=new g(document.body),w=n(3).$,E=n(3).$$,_="/products?segID=400863&segmentID=190b4443-dc03-bd53-e79b-b4b6fbd04e64",x="/login",k='[data-myft-ui="instant"]',T=void 0},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getNewArticlesSinceTime=void 0;var i=n(50),a=o(i),s=n(197),l=n(299),u=o(l),c=n(300),d=r(c),f=n(301),p=r(f),h=n(302),m=r(h),v=!0,g=function(t,e,n){return v&&t?(v=!1,setTimeout(function(){return v=!0},3e5),(0,u.default)(t,e).then(function(t){return(0,s.filterArticlesToNewSinceTime)(t,d.getIndicatorDismissedTime())}).then(function(t){var r=t.length;m.setCount(r),p.countShown(r,e,n)}).catch(function(){v=!0})):Promise.resolve()},y=void 0,b=e.getNewArticlesSinceTime=function(){return y||(y=(0,s.determineNewArticlesSinceTime)(d.getLastVisitedAt(),d.getNewArticlesSinceTime()),d.setNewArticlesSinceTime(y),d.setLastVisitedAt()),y};e.default=function(){var t=a.default.uuid().then(function(t){return t.uuid});return m.createIndicators(document.querySelectorAll(".o-header__top-link--myft"),{onClick:function(){m.setCount(0),d.setIndicatorDismissedTime()}}),t.then(function(t){return g(t,b(),"initial-render")}).then(function(){document.addEventListener("visibilitychange",function(){"visible"===document.visibilityState&&t.then(function(t){return g(t,b(),"page-visibility-change")})})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.filterArticlesToNewSinceTime=e.determineNewArticlesSinceTime=void 0;var r=n(198),o=function(){var t=new Date,e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),22,0,0,0));return(0,r.subDays)(e,1).toISOString()},i=function(t,e){return"string"==typeof t&&(0,r.isAfter)(t,e)},a=function(t){return(0,r.differenceInMinutes)(new Date,t)<=30};e.determineNewArticlesSinceTime=function(t,e){var n=o();return i(t,n)?a(t)?i(e,n)?e:n:t:n},e.filterArticlesToNewSinceTime=function(t,e){return t.filter(function(t){return!0!==t.hasBeenRead&&(0,r.isAfter)(t.publishedDate,e)})}},function(t,e,n){"use strict";t.exports={addDays:n(21),addHours:n(111),addISOYears:n(112),addMilliseconds:n(22),addMinutes:n(114),addMonths:n(41),addQuarters:n(115),addSeconds:n(116),addWeeks:n(60),addYears:n(117),areRangesOverlapping:n(199),closestIndexTo:n(200),closestTo:n(201),compareAsc:n(24),compareDesc:n(61),differenceInCalendarDays:n(40),differenceInCalendarISOWeeks:n(202),differenceInCalendarISOYears:n(118),differenceInCalendarMonths:n(119),differenceInCalendarQuarters:n(203),differenceInCalendarWeeks:n(204),differenceInCalendarYears:n(121),differenceInDays:n(122),differenceInHours:n(205),differenceInISOYears:n(206),differenceInMilliseconds:n(42),differenceInMinutes:n(207),differenceInMonths:n(62),differenceInQuarters:n(208),differenceInSeconds:n(63),differenceInWeeks:n(209),differenceInYears:n(210),distanceInWords:n(124),distanceInWordsStrict:n(214),distanceInWordsToNow:n(215),eachDay:n(216),endOfDay:n(65),endOfHour:n(217),endOfISOWeek:n(218),endOfISOYear:n(219),endOfMinute:n(220),endOfMonth:n(126),endOfQuarter:n(221),endOfSecond:n(222),endOfToday:n(223),endOfTomorrow:n(224),endOfWeek:n(125),endOfYear:n(225),endOfYesterday:n(226),format:n(127),getDate:n(227),getDay:n(228),getDayOfYear:n(128),getDaysInMonth:n(59),getDaysInYear:n(229),getHours:n(230),getISODay:n(132),getISOWeek:n(66),getISOWeeksInYear:n(231),getISOYear:n(12),getMilliseconds:n(232),getMinutes:n(233),getMonth:n(234),getOverlappingDaysInRanges:n(235),getQuarter:n(120),getSeconds:n(236),getTime:n(237),getYear:n(238),isAfter:n(239),isBefore:n(240),isDate:n(58),isEqual:n(241),isFirstDayOfMonth:n(242),isFriday:n(243),isFuture:n(244),isLastDayOfMonth:n(245),isLeapYear:n(131),isMonday:n(246),isPast:n(247),isSameDay:n(248),isSameHour:n(133),isSameISOWeek:n(135),isSameISOYear:n(136),isSameMinute:n(137),isSameMonth:n(139),isSameQuarter:n(140),isSameSecond:n(142),isSameWeek:n(67),isSameYear:n(144),isSaturday:n(249),isSunday:n(250),isThisHour:n(251),isThisISOWeek:n(252),isThisISOYear:n(253),isThisMinute:n(254),isThisMonth:n(255),isThisQuarter:n(256),isThisSecond:n(257),isThisWeek:n(258),isThisYear:n(259),isThursday:n(260),isToday:n(261),isTomorrow:n(262),isTuesday:n(263),isValid:n(130),isWednesday:n(264),isWeekend:n(265),isWithinRange:n(266),isYesterday:n(267),lastDayOfISOWeek:n(268),lastDayOfISOYear:n(269),lastDayOfMonth:n(270),lastDayOfQuarter:n(271),lastDayOfWeek:n(145),lastDayOfYear:n(272),max:n(273),min:n(274),parse:n(0),setDate:n(275),setDay:n(276),setDayOfYear:n(277),setHours:n(278),setISODay:n(279),setISOWeek:n(280),setISOYear:n(113),setMilliseconds:n(281),setMinutes:n(282),setMonth:n(146),setQuarter:n(283),setSeconds:n(284),setYear:n(285),startOfDay:n(14),startOfHour:n(134),startOfISOWeek:n(13),startOfISOYear:n(23),startOfMinute:n(138),startOfMonth:n(286),startOfQuarter:n(141),startOfSecond:n(143),startOfToday:n(287),startOfTomorrow:n(288),startOfWeek:n(39),startOfYear:n(129),startOfYesterday:n(289),subDays:n(290),subHours:n(291),subISOYears:n(123),subMilliseconds:n(292),subMinutes:n(293),subMonths:n(294),subQuarters:n(295),subSeconds:n(296),subWeeks:n(297),subYears:n(298)}},function(t,e,n){"use strict";function r(t,e,n,r){var i=o(t).getTime(),a=o(e).getTime(),s=o(n).getTime(),l=o(r).getTime();if(i>a||s>l)throw new Error("The start of the range cannot be after the end of the range");return i<l&&s<a}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(e instanceof Array))throw new TypeError(toString.call(e)+" is not an instance of Array");var n,r,i=o(t),a=i.getTime();return e.forEach(function(t,e){var i=o(t),s=Math.abs(a-i.getTime());(void 0===n||s<r)&&(n=e,r=s)}),n}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(e instanceof Array))throw new TypeError(toString.call(e)+" is not an instance of Array");var n,r,i=o(t),a=i.getTime();return e.forEach(function(t){var e=o(t),i=Math.abs(a-e.getTime());(void 0===n||i<r)&&(n=e,r=i)}),n}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e),s=n.getTime()-n.getTimezoneOffset()*i,l=r.getTime()-r.getTimezoneOffset()*i;return Math.round((s-l)/a)}var o=n(13),i=6e4,a=6048e5;t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=i(t),r=i(e);return 4*(n.getFullYear()-r.getFullYear())+(o(n)-o(r))}var o=n(120),i=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=o(t,n),s=o(e,n),l=r.getTime()-r.getTimezoneOffset()*i,u=s.getTime()-s.getTimezoneOffset()*i;return Math.round((l-u)/a)}var o=n(39),i=6e4,a=6048e5;t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t,e)/i;return n>0?Math.floor(n):Math.ceil(n)}var o=n(42),i=36e5;t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e),l=a(n,r),u=Math.abs(i(n,r));return n=s(n,l*u),l*(u-(a(n,r)===-l))}var o=n(0),i=n(118),a=n(24),s=n(123);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t,e)/i;return n>0?Math.floor(n):Math.ceil(n)}var o=n(42),i=6e4;t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t,e)/3;return n>0?Math.floor(n):Math.ceil(n)}var o=n(62);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t,e)/7;return n>0?Math.floor(n):Math.ceil(n)}var o=n(122);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e),s=a(n,r),l=Math.abs(i(n,r));return n.setFullYear(n.getFullYear()-s*l),s*(l-(a(n,r)===-s))}var o=n(0),i=n(121),a=n(24);t.exports=r},function(t,e,n){"use strict";function r(){function t(t,n,r){r=r||{};var o;return o="string"==typeof e[t]?e[t]:1===n?e[t].one:e[t].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:t}}t.exports=r},function(t,e,n){"use strict";function r(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],r=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["AM","PM"],l=["am","pm"],u=["a.m.","p.m."],c={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return r[t.getDay()]},dddd:function(t){return a[t.getDay()]},A:function(t){return t.getHours()/12>=1?s[1]:s[0]},a:function(t){return t.getHours()/12>=1?l[1]:l[0]},aa:function(t){return t.getHours()/12>=1?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(t){c[t+"o"]=function(e,n){return o(n[t](e))}}),{formatters:c,formattingTokensRegExp:i(c)}}function o(t){var e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}var i=n(213);t.exports=r},function(t,e,n){"use strict";function r(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);var r=o.concat(e).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+r.join("|")+"|.)","g")}var o=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=n||{},d=o(t,e),f=r.locale,p=s.distanceInWords.localize;f&&f.distanceInWords&&f.distanceInWords.localize&&(p=f.distanceInWords.localize);var h,m,v={addSuffix:Boolean(r.addSuffix),comparison:d};d>0?(h=i(t),m=i(e)):(h=i(e),m=i(t));var g,y,b,w,E,_=Math[r.partialMethod?String(r.partialMethod):"floor"],x=a(m,h),k=m.getTimezoneOffset()-h.getTimezoneOffset(),T=_(x/60)-k;if("s"===(g=r.unit?String(r.unit):T<1?"s":T<60?"m":T<l?"h":T<u?"d":T<c?"M":"Y"))return p("xSeconds",x,v);if("m"===g)return p("xMinutes",T,v);if("h"===g)return y=_(T/60),p("xHours",y,v);if("d"===g)return b=_(T/l),p("xDays",b,v);if("M"===g)return w=_(T/u),p("xMonths",w,v);if("Y"===g)return E=_(T/c),p("xYears",E,v);throw new Error("Unknown unit: "+g)}var o=n(61),i=n(0),a=n(63),s=n(64),l=1440,u=43200,c=525600;t.exports=r},function(t,e,n){"use strict";function r(t,e){return o(Date.now(),t,e)}var o=n(124);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=o(t),i=o(e),a=void 0!==n?n:1,s=i.getTime();if(r.getTime()>s)throw new Error("The first date cannot be after the second date");var l=[],u=r;for(u.setHours(0,0,0,0);u.getTime()<=s;)l.push(o(u)),u.setDate(u.getDate()+a);return l}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t);return e.setMinutes(59,59,999),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t,{weekStartsOn:1})}var o=n(125);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=new Date(0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);var r=i(n);return r.setMilliseconds(r.getMilliseconds()-1),r}var o=n(12),i=n(13);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t);return e.setSeconds(59,999),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t);return e.setMilliseconds(999),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(){return o(new Date)}var o=n(65);t.exports=r},function(t,e,n){"use strict";function r(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r+1),o.setHours(23,59,59,999),o}t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r-1),o.setHours(23,59,59,999),o}t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).getDate()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).getDay()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t)?366:365}var o=n(131);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).getHours()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=o(i(e,60)),r=n.valueOf()-e.valueOf();return Math.round(r/a)}var o=n(23),i=n(60),a=6048e5;t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).getMilliseconds()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).getMinutes()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).getMonth()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e,n,r){var a=o(t).getTime(),s=o(e).getTime(),l=o(n).getTime(),u=o(r).getTime();if(a>s||l>u)throw new Error("The start of the range cannot be after the end of the range");if(!(a<u&&l<s))return 0;var c=l<a?a:l,d=u>s?s:u,f=d-c;return Math.ceil(f/i)}var o=n(0),i=864e5;t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).getSeconds()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).getTime()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).getFullYear()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return n.getTime()>r.getTime()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return n.getTime()<r.getTime()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return 1===o(t).getDate()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return 5===o(t).getDay()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).getTime()>(new Date).getTime()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t);return i(e).getTime()===a(e).getTime()}var o=n(0),i=n(65),a=n(126);t.exports=r},function(t,e,n){"use strict";function r(t){return 1===o(t).getDay()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).getTime()<(new Date).getTime()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=o(e);return n.getTime()===r.getTime()}var o=n(14);t.exports=r},function(t,e,n){"use strict";function r(t){return 6===o(t).getDay()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return 0===o(t).getDay()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return o(new Date,t)}var o=n(133);t.exports=r},function(t,e,n){"use strict";function r(t){return o(new Date,t)}var o=n(135);t.exports=r},function(t,e,n){"use strict";function r(t){return o(new Date,t)}var o=n(136);t.exports=r},function(t,e,n){"use strict";function r(t){return o(new Date,t)}var o=n(137);t.exports=r},function(t,e,n){"use strict";function r(t){return o(new Date,t)}var o=n(139);t.exports=r},function(t,e,n){"use strict";function r(t){return o(new Date,t)}var o=n(140);t.exports=r},function(t,e,n){"use strict";function r(t){return o(new Date,t)}var o=n(142);t.exports=r},function(t,e,n){"use strict";function r(t,e){return o(new Date,t,e)}var o=n(67);t.exports=r},function(t,e,n){"use strict";function r(t){return o(new Date,t)}var o=n(144);t.exports=r},function(t,e,n){"use strict";function r(t){return 4===o(t).getDay()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t).getTime()===o(new Date).getTime()}var o=n(14);t.exports=r},function(t,e,n){"use strict";function r(t){var e=new Date;return e.setDate(e.getDate()+1),o(t).getTime()===o(e).getTime()}var o=n(14);t.exports=r},function(t,e,n){"use strict";function r(t){return 2===o(t).getDay()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){return 3===o(t).getDay()}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=e.getDay();return 0===n||6===n}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=o(t).getTime(),i=o(e).getTime(),a=o(n).getTime();if(i>a)throw new Error("The start of the range cannot be after the end of the range");return r>=i&&r<=a}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=new Date;return e.setDate(e.getDate()-1),o(t).getTime()===o(e).getTime()}var o=n(14);t.exports=r},function(t,e,n){"use strict";function r(t){return o(t,{weekStartsOn:1})}var o=n(145);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=new Date(0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);var r=i(n);return r.setDate(r.getDate()-1),r}var o=n(12),i=n(13);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(0,0,0,0),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(0,0,0,0),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(){var t=Array.prototype.slice.call(arguments),e=t.map(function(t){return o(t)}),n=Math.max.apply(null,e);return new Date(n)}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(){var t=Array.prototype.slice.call(arguments),e=t.map(function(t){return o(t)}),n=Math.min.apply(null,e);return new Date(n)}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e);return n.setDate(r),n}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e,n){var r=n?Number(n.weekStartsOn)||0:0,a=o(t),s=Number(e),l=a.getDay();return i(a,((s%7+7)%7<r?7:0)+s-l)}var o=n(0),i=n(21);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e);return n.setMonth(0),n.setDate(r),n}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e);return n.setHours(r),n}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e),s=a(n);return i(n,r-s)}var o=n(0),i=n(21),a=n(132);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e),a=i(n)-r;return n.setDate(n.getDate()-7*a),n}var o=n(0),i=n(66);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e);return n.setMilliseconds(r),n}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e);return n.setMinutes(r),n}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e),a=Math.floor(n.getMonth()/3)+1,s=r-a;return i(n,n.getMonth()+3*s)}var o=n(0),i=n(146);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e);return n.setSeconds(r),n}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=o(t),r=Number(e);return n.setFullYear(r),n}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(t){var e=o(t);return e.setDate(1),e.setHours(0,0,0,0),e}var o=n(0);t.exports=r},function(t,e,n){"use strict";function r(){return o(new Date)}var o=n(14);t.exports=r},function(t,e,n){"use strict";function r(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r+1),o.setHours(0,0,0,0),o}t.exports=r},function(t,e,n){"use strict";function r(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r-1),o.setHours(0,0,0,0),o}t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,-n)}var o=n(21);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,-n)}var o=n(111);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,-n)}var o=n(22);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,-n)}var o=n(114);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,-n)}var o=n(41);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,-n)}var o=n(115);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,-n)}var o=n(116);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,-n)}var o=n(60);t.exports=r},function(t,e,n){"use strict";function r(t,e){var n=Number(e);return o(t,-n)}var o=n(117);t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n={uuid:t,since:e},s="https://next-api.ft.com/v2/query?query="+o("\n\t\tquery newMyFTContentSince($uuid: String!, $since: String!) {\n\t\t\tuser(uuid: $uuid) {\n\t\t\t\tfollowed {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t\tarticlesFromReadingHistory {\n\t\t\t\t\tarticles {\n\t\t\t\t\t\tid\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlatestContent(since: $since, limit: 250) {\n\t\t\t\tid\n\t\t\t\tpublishedDate\n\t\t\t\tannotations {\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t")+"&variables="+JSON.stringify(n)+"&source=next-myft",l={credentials:"include",timeout:5e3};return fetch(s,l).then(r.json).then(function(t){return t.data}).then(i).then(a).then(function(t){return t.articles})};var r=n(17),o=function(t){return encodeURIComponent(t.replace(/\s+/g," "))},i=function(t){var e=t.user.followed.reduce(function(t,e){return t.concat(e.id)},[]);return t.articles=t.latestContent.reduce(function(t,n){return n.annotations.some(function(t){return e.includes(t.id)})?t.concat(n):t},[]),t},a=function(t){return(t.user.articlesFromReadingHistory?t.user.articlesFromReadingHistory.articles:[]).forEach(function(e){var n=t.articles.find(function(t){return t.id===e.id});n&&(n.hasBeenRead=!0)}),t};t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return new Date(t).toISOString()},o=function(t){var e=window.localStorage.getItem(t),n=Number(e);return!e||isNaN(n)?null:r(n)};e.getLastVisitedAt=function(){return o("lastVisitedAt")},e.setLastVisitedAt=function(){return window.localStorage.setItem("lastVisitedAt",String(Date.now()))},e.getNewArticlesSinceTime=function(){return o("newArticlesSinceTime")},e.setNewArticlesSinceTime=function(t){return window.localStorage.setItem("newArticlesSinceTime",String(new Date(t).getTime()))},e.getIndicatorDismissedTime=function(){return o("myFTIndicatorDismissedAt")},e.setIndicatorDismissedTime=function(){return window.localStorage.setItem("myFTIndicatorDismissedAt",String(Date.now()))}},function(t,e,n){"use strict";function r(t){var e=new CustomEvent("oTracking.event",{detail:t,bubbles:!0});document.body.dispatchEvent(e)}Object.defineProperty(e,"__esModule",{value:!0});e.countShown=function(t,e,n){return r({category:"unread-articles-indicator",action:"render",count:t,newArticlesSinceTime:e,cause:n})}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.onClick;o(this,t),this.container=e,this.container.classList.add("myft__indicator-container"),this.el=document.createElement("span"),this.el.classList.add("myft__indicator"),e.appendChild(this.el),"function"==typeof r&&this.container.addEventListener("click",function(){return r()})}return i(t,[{key:"setCount",value:function(t){this.el.innerText=t>0?t:""}}]),t}(),s=void 0;e.createIndicators=function(t,e){s=[].concat(r(t)).map(function(t){return new a(t,e)})},e.setCount=function(t){s.forEach(function(e){return e.setCount(t)})}},function(t,e){t.exports=window.FT.nUi},function(t,e,n){"use strict";t.exports={nMessagingClient:n(305)}},function(t,e,n){"use strict";var r=n(306),o=n(307),i=n(310),a=n(313);t.exports={init:function(){var t=this,e=document.querySelectorAll("[data-n-messaging-slot]"),n=e&&Array.prototype.slice.call(e).map(function(t){var e=t.dataset||{};return{position:e.nMessagingPosition,name:e.nMessagingName,flag:e.nMessagingFlag,id:e.nMessagingId,content:t.querySelector("[data-n-messaging-component]"),lazy:"true"===e.nMessagingLazy,guruQueryString:e.nMessagingGuruQueryString}});n.length>0&&Promise.all(n.map(function(e){return t.initialiseMessage(e)})).catch(this.handleError)},initialiseMessage:function(t){var e=this.renderHandler(t.position),n=this.setupHandler(t.name,t.position),o=function(e){return{config:t,guruResult:e,customSetup:n}};return(t.lazy?r(t):Promise.resolve(null)).then(o).then(e)},renderHandler:function(t){return"top"===t?o:"bottom"===t?i:void 0},setupHandler:function(t,e){return a[e]&&a[e].hasOwnProperty(t)&&a[e][t]},handleError:function(t){throw t}}},function(t,e,n){"use strict";t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.guruEndpoint,n=void 0===e?"/__message":e,r=t.name,o=t.guruQueryString,i=n+"/"+r+(o?"?"+o:""),a={method:"GET",headers:{Accept:"application/json"},credentials:"same-origin"},s=function(t){if(!t.skip&&t.data&&t.renderData)return!0;throw new Error("Bad response body")};return fetch(i,a).then(function(t){if(200===t.status)return t.json();t.text().then(function(t){throw new Error("Bad response status "+status+": "+t)})}).then(function(t){return t.skip?t:s(t)&&t}).catch(function(){return!1})}},function(t,e,n){"use strict";function r(t,e){return{autoOpen:t.autoOpen||e.autoOpen,messageClass:t.messageClass||e.messageClass,type:t.type,status:t.status,parentElement:t.parentElement,content:{highlight:t.contentTitle,detail:t.content,additionalInfo:t.additionalInfo},actions:{primary:{text:t.buttonLabel,url:t.buttonUrl},secondary:{text:t.linkLabel,url:t.linkUrl}},close:t.closeButton}}var o=n(148),i=n(150),a=i.generateMessageEvent,s=i.listen;t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.config,n=void 0===e?{}:e,i=t.guruResult,l=t.customSetup,u=void 0,c=n.id&&a({messageId:n.id,position:n.position,variant:n.name,flag:n.flag}),d=!n.lazy&&n.content,f={messageClass:"n-alert-banner",autoOpen:!1,close:o.getDataAttributes(d).close};if(d)u=new o(d,f);else{if(!i||!i.renderData)return void(i.skip&&c&&c("skip"));u=new o(null,r(i.renderData,f))}var p=u.messageElement.querySelectorAll("[data-n-alert-banner-action]");0===p.length&&(p=u.messageElement.querySelectorAll(".n-alert-banner__button"),0===p.length&&(p=u.messageElement.querySelectorAll(".n-alert-banner__link"))),p=[].slice.call(p),s(u.messageElement,"o.messageClosed",function(){return c("close")}),s(u.messageElement,"o.messageOpen",function(){return c("view")}),p&&p.length>0&&p.forEach(function(t){s(t,"click",function(){return c(t.dataset.nAlertBannerAction||"act")})}),l?l(u,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.skip;void 0!==e&&e?c("skip"):u.open()}):u.open()}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(309),a=function(t){return t&&t.__esModule?t:{default:t}}(i),s=n(149),l=function(){function t(e,n){r(this,t),this.messageElement=e;var o=n&&n.messageClass?n.messageClass:"o-message",i=n&&n.type?n.type:"alert",a=n&&n.status?n.status:null,s=void 0;s="alert"===i||"alert-bleed"===i||"alert-inner"===i?"alert":"notice"===i||"notice-bleed"===i||"notice-inner"===i?"notice":null,this.opts=Object.assign({},{autoOpen:!0,messageClass:o,type:i,typeClass:o+"--"+i,typeNucleus:s,status:a,statusClass:n&&n.status?o+"--"+n.status:null,parentElement:null,content:{highlight:null,detail:"&hellip;",additionalInfo:!1},actions:{primary:{text:null,url:"#"},secondary:{text:null,url:"#"}},close:!n||!n.close||n.close},n||t.getDataAttributes(e)),this.render(),this.opts.autoOpen?this.open():this.close()}return o(t,[{key:"render",value:function(){var t=this;if(this.opts.parentElement||!(this.messageElement instanceof HTMLElement)){this.messageElement=this.constructMessageElement();(this.opts.parentElement?document.querySelector(this.opts.parentElement):document.body).appendChild(this.messageElement)}var e=this.messageElement.querySelector("[class*='__close']");this.opts.close&&!e&&(this.closeButton=a.default.closeButton(this.opts),this.closeButton.addEventListener("click",function(e){e.preventDefault(),t.close()}),this.messageElement.lastElementChild.appendChild(this.closeButton))}},{key:"constructMessageElement",value:function(){return"alert"===this.opts.typeNucleus?a.default.alertMessage(this.opts):"notice"===this.opts.typeNucleus?a.default.noticeMessage(this.opts):void(0,s.throwError)("'"+this.opts.type+"' is not a supported message type. The available options are:\n- alert\n- alert-bleed\n- alert-inner\n- notice\n- notice-bleed\n- notice-inner")}},{key:"open",value:function(){this.messageElement.classList.remove(this.opts.messageClass+"--closed"),this.messageElement.dispatchEvent(new CustomEvent("o.messageOpen"))}},{key:"close",value:function(){this.messageElement.classList.add(this.opts.messageClass+"--closed"),this.messageElement.dispatchEvent(new CustomEvent("o.messageClosed"))}}],[{key:"getDataAttributes",value:function(t){return t instanceof HTMLElement?Object.keys(t.dataset).reduce(function(e,n){if("oComponent"===n)return e;var r=n.replace(/^oMessage(\w)(\w+)$/,function(t,e,n){return e.toLowerCase()+n}),o=t.dataset[n];try{e[r]=JSON.parse(o.replace(/\'/g,'"'))}catch(t){e[r]=o}return e},{}):{}}},{key:"init",value:function(e,n){return e||(e=document.body),e instanceof HTMLElement||(e=document.querySelector(e)),e instanceof HTMLElement&&e.matches("[data-o-component=o-message]")?new t(e,n):Array.from(e.querySelectorAll('[data-o-component="o-message"]'),function(e){return new t(e,n)})}}]),t}();e.default=l,t.exports=e.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(149);e.default={alertMessage:function(t){var e=document.createElement("div");e.classList.add(t.messageClass,t.typeClass,t.messageClass+"--closed"),t.status?e.classList.add(""+t.statusClass):(0,r.throwError)("Alert messages require a status. The options are:\n- success\n- error\n- neutral");var n=(0,r.buildActions)(t),o=void 0;return t.content.detail||(t.content.detail=""),o="alert-inner"===t.type&&t.content.additionalInfo?'\n\t\t\t\t<div class="'+t.messageClass+'__content">\n\t\t\t\t\t<p class="'+t.messageClass+'__content-main">\n\t\t\t\t\t\t<span class="'+t.messageClass+'__content-highlight">'+t.content.highlight+'</span>\n\t\t\t\t\t\t<span class="'+t.messageClass+'__content-detail">'+t.content.detail+'</span>\n\t\t\t\t\t</p>\n\t\t\t\t\t<p class="'+t.messageClass+'__content-additional">'+t.content.additionalInfo+"</p>\n\t\t\t\t\t"+n+"\n\t\t\t\t</div>\n\t\t\t":'\n\t\t\t\t<div class="'+t.messageClass+'__content">\n\t\t\t\t\t<p class="'+t.messageClass+'__content-main">\n\t\t\t\t\t\t<span class="'+t.messageClass+'__content-highlight">'+t.content.highlight+'</span>\n\t\t\t\t\t\t<span class="'+t.messageClass+'__content-detail">'+t.content.detail+"</span>\n\t\t\t\t\t</p>\n\t\t\t\t\t"+n+"\n\t\t\t\t</div>\n\t\t\t",e.innerHTML='\n\t\t\t<div class="'+t.messageClass+'__container">\n\t\t\t\t'+o+"\n\t\t\t</div>\n\t\t",e},noticeMessage:function(t){var e=document.createElement("div");e.classList.add(t.messageClass,t.typeClass,t.messageClass+"--closed"),t.status?e.classList.add(""+t.statusClass):(0,r.throwError)("Notice messages require a status. The options are:\n- inform\n- warning\n- warning-light");var n=(0,r.buildActions)(t),o='\n\t\t\t<div class="'+t.messageClass+'__content">\n\t\t\t\t<p class="'+t.messageClass+'__content-main">\n\t\t\t\t\t'+t.content.detail+"\n\t\t\t\t</p>\n\t\t\t\t"+n+"\n\t\t\t</div>\n\t\t";return e.innerHTML='\n\t\t\t<div class="'+t.messageClass+'__container">\n\t\t\t\t'+o+"\n\t\t\t</div>\n\t\t",e},closeButton:function(t){var e=document.createElement("button");return e.classList.add(t.messageClass+"__close"),e.setAttribute("aria-label","close"),e.setAttribute("title","Close"),e}},t.exports=e.default},function(t,e,n){"use strict";function r(t,e){return{autoOpen:t.autoOpen||e.autoOpen,suppressCloseButton:t.suppressCloseButton||!1,bannerClass:t.bannerClass||e.bannerClass,theme:t.theme,contentLong:t.contentLong,contentShort:t.contentShort,buttonLabel:t.buttonLabel,buttonUrl:t.buttonUrl,linkLabel:t.linkLabel,linkUrl:t.linkUrl}}var o=n(311),i=n(150),a=i.generateMessageEvent,s=i.listen;t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.config,n=void 0===e?{}:e,i=t.guruResult,l=t.customSetup,u=void 0,c=n.id&&a({messageId:n.id,position:n.position,variant:n.name,flag:n.flag}),d=!n.lazy&&n.content;if(d)u=new o(d);else{if(!i||!i.renderData)return void(i.skip&&c&&c("skip"));u=new o(null,r(i.renderData,{bannerClass:"n-messaging-banner",autoOpen:!1}))}var f=u.innerElement.querySelectorAll("[data-n-messaging-banner-action]");0===f.length&&(f=u.innerElement.querySelectorAll(".n-messaging-banner__button"),0===f.length&&(f=u.innerElement.querySelectorAll(".n-messaging-banner__link"))),f=[].slice.call(f),s(u.bannerElement,"o.bannerClosed",function(){return c("close")}),s(u.bannerElement,"o.bannerOpened",function(){return c("view")}),f&&f.length>0&&f.forEach(function(t){s(t,"click",function(){return c("act")})}),l?l(u,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.skip;void 0!==e&&e?c("skip"):u.open()}):u.open()}},function(t,e,n){"use strict";function r(){i.default.init(),document.removeEventListener("o.DOMContentLoaded",r)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(312),i=function(t){return t&&t.__esModule?t:{default:t}}(o);document.addEventListener("o.DOMContentLoaded",r),e.default=i.default,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,n){r(this,t),this.bannerElement=e;var o=n&&n.bannerClass?n.bannerClass:"o-banner";this.options=Object.assign({},{autoOpen:!0,suppressCloseButton:!1,bannerClass:o,bannerClosedClass:o+"--closed",outerClass:o+"__outer",innerClass:o+"__inner",contentClass:o+"__content",contentLongClass:o+"__content--long",contentShortClass:o+"__content--short",actionsClass:o+"__actions",actionClass:o+"__action",actionSecondaryClass:o+"__action--secondary",buttonClass:o+"__button",linkClass:o+"__link",closeButtonClass:o+"__close",contentLong:"&hellip;",contentShort:null,buttonLabel:"OK",buttonUrl:"#",linkLabel:null,linkUrl:"#",closeButtonLabel:"Close",theme:null},n||t.getOptionsFromDom(e)),this.render(),t._bannerInstances.forEach(function(t){return t.close()}),t._bannerInstances=[this],this.options.autoOpen?this.open():this.close()}return o(t,[{key:"render",value:function(){this.bannerElement instanceof HTMLElement||(this.bannerElement=this.buildBannerElement(),document.body.appendChild(this.bannerElement)),this.innerElement=this.bannerElement.querySelector("[data-o-banner-inner]"),this.options.suppressCloseButton||(this.closeButtonElement=this.buildCloseButtonElement(),this.innerElement.appendChild(this.closeButtonElement))}},{key:"open",value:function(){this.bannerElement.classList.remove(this.options.bannerClosedClass),this.bannerElement.dispatchEvent(new CustomEvent("o.bannerOpened"))}},{key:"close",value:function(){this.bannerElement.classList.add(this.options.bannerClosedClass),this.bannerElement.dispatchEvent(new CustomEvent("o.bannerClosed"))}},{key:"buildBannerElement",value:function(){var t=this,e=document.createElement("div");e.classList.add(this.options.bannerClass);var n=[];this.options.theme&&(n=Array.isArray(this.options.theme)?this.options.theme:[this.options.theme]),n.forEach(function(n){e.classList.add(t.options.bannerClass+"--"+n)}),e.setAttribute("data-o-component","o-banner");var r=void 0;r=this.options.contentShort?'\n\t\t\t\t<div class="'+this.options.contentClass+" "+this.options.contentLongClass+'">\n\t\t\t\t\t'+this.options.contentLong+'\n\t\t\t\t</div>\n\t\t\t\t<div class="'+this.options.contentClass+" "+this.options.contentShortClass+'">\n\t\t\t\t\t'+this.options.contentShort+"\n\t\t\t\t</div>\n\t\t\t":'\n\t\t\t\t<div class="'+this.options.contentClass+'">\n\t\t\t\t\t'+this.options.contentLong+"\n\t\t\t\t</div>\n\t\t\t";var o="";return this.options.linkLabel&&(o='\n\t\t\t\t<div class="'+this.options.actionClass+" "+this.options.actionSecondaryClass+'">\n\t\t\t\t\t<a href="'+this.options.linkUrl+'" class="'+this.options.linkClass+'">'+this.options.linkLabel+"</a>\n\t\t\t\t</div>\n\t\t\t"),e.innerHTML='\n\t\t\t<div class="'+this.options.outerClass+'">\n\t\t\t\t<div class="'+this.options.innerClass+'" data-o-banner-inner="">\n\t\t\t\t\t'+r+'\n\t\t\t\t\t<div class="'+this.options.actionsClass+'">\n\t\t\t\t\t\t<div class="'+this.options.actionClass+'">\n\t\t\t\t\t\t\t<a href="'+this.options.buttonUrl+'" class="'+this.options.buttonClass+'">'+this.options.buttonLabel+"</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t"+o+"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t",e}},{key:"buildCloseButtonElement",value:function(){var t=this,e=document.createElement("a");return e.className=this.options.closeButtonClass,e.setAttribute("role","button"),e.setAttribute("href","#void"),e.setAttribute("aria-label",this.options.closeButtonLabel),e.setAttribute("title",this.options.closeButtonLabel),e.addEventListener("click",function(e){t.close(),e.preventDefault()}),e}}],[{key:"getOptionsFromDom",value:function(t){return t instanceof HTMLElement?Object.keys(t.dataset).reduce(function(e,n){if("oComponent"===n)return e;var r=n.replace(/^oBanner(\w)(\w+)$/,function(t,e,n){return e.toLowerCase()+n}),o=t.dataset[n];try{e[r]=JSON.parse(o.replace(/\'/g,'"'))}catch(t){e[r]=o}return e},{}):{}}},{key:"init",value:function(e,n){return e||(e=document.body),e instanceof HTMLElement||(e=document.querySelector(e)),e instanceof HTMLElement&&/\bo-banner\b/.test(e.getAttribute("data-o-component"))?new t(e,n):Array.from(e.querySelectorAll('[data-o-component="o-banner"]'),function(e){return new t(e,n)})}}]),t}();i._bannerInstances=[],e.default=i,t.exports=e.default},function(t,e,n){"use strict";var r=n(314),o=n(320);t.exports={top:r,bottom:o}},function(t,e,n){"use strict";var r=n(315),o=n(316),i=n(319);t.exports={anonSubscribeNow:r,navAccountSettings:o,teamTrial:i}},function(t,e,n){"use strict";t.exports=function(t,e){var n=t.messageElement.querySelector(".n-alert-banner__actions"),r=t.messageElement.querySelector(".n-alert-banner__actions__primary");n.className+=" n-alert-banner__actions--clickarea",n.addEventListener("click",function(t){if(t.target!==r)return t.stopPropagation(),r.click(),!1}),e()}},function(t,e,n){"use strict";var r=n(25),o=function(t,e){var n='[data-trackable="Account Settings"]',o=t.messageElement.querySelector(".n-alert-banner__content"),i=document.querySelector(n),a={target:n,content:o.innerHTML,showOnConstruction:!0,position:"below"};if(i){var s=new r(i,a);s.tooltipEl.classList.add("n-messaging-client-tooltip"),s.tooltipEl.querySelector(".n-alert-banner__content-main").classList.add("n-alert-banner--alert-bleed"),s.tooltipEl.addEventListener("oTooltip.close",function(){t.close()})}e()};t.exports=function(t,e){setTimeout(function(){o(t,e)},4e3)}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(7),s=r(a),l=n(4),u=r(l),c=n(26),d=r(c),f=n(318),p=r(f),h=function(){function t(e,n){o(this,t),t._tooltips||(t._tooltips=new Map),this.opts=n||t.getOptions(e),this.opts=t.checkOptions(this.opts),n&&n.content?this.tooltipEl=t.constructElement(e,n):this.tooltipEl=e,t._tooltips.set(this.tooltipEl,this),this.targetNode=document.getElementById(this.opts.target),this.target=new t.Target(this.targetNode),this.tooltipPosition=this._getConfiguredTooltipPosition(),this.tooltipAlignment=null,this.visible=!1,this.delegates={target:new s.default(this.target.targetEl),doc:new s.default,tooltip:new s.default},this.opts.showOnClick&&this.delegates.target.on("click",this.show.bind(this)),this.opts.toggleOnClick&&this.delegates.target.on("click",this.toggle.bind(this)),this.opts.showOnHover&&(this.delegates.target.on("mouseover",this.show.bind(this)),this.delegates.target.on("mouseout",this.close.bind(this))),u.default.listenTo("resize"),this.render(),this.opts.showOnConstruction?(this.show(),this.opts.closeAfter&&this.closeAfter(this.opts.closeAfter)):this.opts.showAfter&&this.showAfter(this.opts.showAfter)}return i(t,null,[{key:"_getCurrentLayout",value:function(){return d.default.getCurrentLayout()}}]),i(t,[{key:"render",value:function(){this.targetNode&&this.targetNode.nextSibling!==this.tooltipEl&&(this.targetNode.nextSibling?this.targetNode.parentNode.insertBefore(this.tooltipEl,this.targetNode.nextSibling):this.targetNode.parentNode.appendChild(this.tooltipEl)),this.tooltipEl.setAttribute("role","tooltip"),this.tooltipEl.classList.add("o-tooltip"),this.opts.zIndex&&(this.tooltipEl.style.zIndex=this.opts.zIndex);var t=document.createElement("button");t.className="o-tooltip-close",t.setAttribute("aria-label","Close tooltip"),t.setAttribute("title","Close tooltip"),this.tooltipEl.appendChild(t)}},{key:"show",value:function(){this.delegates.doc.root(document.body),this.delegates.tooltip.root(this.tooltipEl),this.tooltipEl.dispatchEvent(new CustomEvent("oTooltip.show")),this.closeHandler=this.close.bind(this),this.delegates.tooltip.on("click",".o-tooltip-close",this.closeHandler),this.delegates.tooltip.on("touchend",".o-tooltip-close",this.closeHandler),this.closeOnKeyUpHandler=this.closeOnKeyUp.bind(this),this.delegates.doc.on("keyup",this.closeOnKeyUpHandler),this.resizeListenerHandler=this.resizeListener.bind(this),this.delegates.doc.on("oViewport.resize","body",this.resizeListenerHandler),this.drawTooltip(),this.visible=!0,clearTimeout(this.showTimeout),this.tooltipEl.style.display="block",this.tooltipEl.style.opacity=1,this.tooltipEl.classList.add("visible")}},{key:"toggle",value:function(){this.visible?this.close():this.show()}},{key:"closeAfter",value:function(t){var e=this;this.closeTimeout=setTimeout(function(){e.close()},1e3*t)}},{key:"showAfter",value:function(t){var e=this;this.showTimeout=setTimeout(function(){e.show()},1e3*t)}},{key:"destroy",value:function(){!0===this.visible&&this.close(),t._tooltips.delete(this.tooltipEl),0===t._tooltips.size&&(u.default.stopListeningTo("resize"),delete t._tooltips)}},{key:"close",value:function(t,e){var n=this;return(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&this.tooltipEl.dispatchEvent(new CustomEvent("oTooltip.close")),this.delegates.doc.destroy(),this.delegates.tooltip.destroy(),clearTimeout(this.closeTimeout),this.visible=!1,this.tooltipEl.style.opacity=0,this.tooltipEl.classList.remove("visible"),this.tooltipEl.addEventListener("transitionend",function(){!1===n.visible&&(n.tooltipEl.style.display="none")},{once:!0}),this.opts.showOnClick&&this.delegates.target.on("click",null,this.show.bind(this)),!1}},{key:"closeOnKeyUp",value:function(t){27===t.keyCode&&this.close()}},{key:"resizeListener",value:function(){var t=this;this.visible&&window.requestAnimationFrame(function(){t.drawTooltip()})}},{key:"drawTooltip",value:function(){this.tooltipEl.style.display="block";for(var e=0,n={},r=this._getConfiguredTooltipPosition(),o="middle",i=!0;e<5&&i;){switch(e++,r){case"above":var a=this._evaulateTooltip("above");n=a.tooltipRect,o=a.alignment,i=a.isOutOfBounds;break;case"right":var s=this._evaulateTooltip("right");n=s.tooltipRect,o=s.alignment,i=s.isOutOfBounds;break;case"below":var l=this._evaulateTooltip("below");n=l.tooltipRect,o=l.alignment,i=l.isOutOfBounds;break;case"left":var u=this._evaulateTooltip("left");n=u.tooltipRect,o=u.alignment,i=u.isOutOfBounds;break;default:throw t.throwError("drawTooltip entered the default case, which is not expected.")}i&&e<5&&(r=t._rotateOrientation(r))}e>=5&&console.warn("There is not enough space in the client window to draw the tooltip."),this.tooltipRect=n,this.tooltipAlignment=o,this.tooltipPosition=r;var c=this.target.targetEl.offsetParent&&this.target.targetEl.offsetParent.getBoundingClientRect().left,d=this.target.targetEl.offsetParent&&this.target.targetEl.offsetParent.getBoundingClientRect().top;this.tooltipEl.style.top=this.tooltipRect.top-d+"px",this.tooltipEl.style.left=this.tooltipRect.left-c+"px",this._setArrow()}},{key:"width",value:function(){return this.tooltipEl.offsetWidth}},{key:"height",value:function(){return this.tooltipEl.offsetHeight}},{key:"_evaulateTooltip",value:function(t){for(var e="above"===t||"below"===t?"y":"x",n="y"===e?["middle","right","left"]:["middle","top","bottom"],r=!0,o=void 0,i=void 0,a=0;a<n.length&&!0===r;a++)i=n[a],o=this._calculateTooltipRectangle(t,i),r=this._tooltipIsOutOfBounds(o);return r&&(i="middle",o=this._calculateTooltipRectangle(t,i)),{tooltipRect:o,alignment:i,isOutOfBounds:r}}},{key:"_calculateTooltipRectangle",value:function(e,n){var r={},o="above"===e||"below"===e?"y":"x";return"y"===o&&("left"===n&&(r.left=this.target.right-this.width()),"right"===n&&(r.left=this.target.left),"middle"===n&&(r.left=this.target.centrePoint.x-this.width()/2),"above"===e&&(r.top=this.target.top-this.height()-t.arrowDepth),"below"===e&&(r.top=this.target.bottom+t.arrowDepth)),"x"===o&&("top"===n&&(r.top=this.target.top),"bottom"===n&&(r.top=this.target.bottom-this.height()),"middle"===n&&(r.top=this.target.centrePoint.y-this.height()/2),"right"===e&&(r.left=this.target.right+t.arrowDepth),"left"===e&&(r.left=this.target.left-this.width()-t.arrowDepth)),r.right=r.left+this.width(),r.bottom=r.top+this.height(),r}},{key:"calculateTooltipRect",value:function(t){return console.warn("`calculateTooltipRect` is deprecated."),this._calculateTooltipRectangle(t,"middle")}},{key:"_getConfiguredTooltipPosition",value:function(){var e=this.opts,n=e.position,r=e.positionS,o=e.positionM,i=e.positionL,a=e.positionXl;switch(t._getCurrentLayout()){case"S":return r||n;case"M":return o||r||n;case"L":return i||o||r||n;case"XL":return a||i||o||r||n;default:return n}}},{key:"_setArrow",value:function(){var e,n=["o-tooltip--arrow-left","o-tooltip--arrow-right","o-tooltip--arrow-above","o-tooltip--arrow-below","o-tooltip-arrow--align-top","o-tooltip-arrow--align-bottom","o-tooltip-arrow--align-left","o-tooltip-arrow--align-right","o-tooltip-arrow--align-middle"];(e=this.tooltipEl.classList).remove.apply(e,n),this.tooltipEl.classList.add("o-tooltip--arrow-"+t.positionToArrowPositionMap[this.tooltipPosition]),this.tooltipEl.classList.add("o-tooltip-arrow--align-"+t.alignmentToArrowAlignmentMap[this.tooltipAlignment])}},{key:"_tooltipIsOutOfBounds",value:function(e){var n=t._pointIsOutOfBounds(e.top,"y",this.opts),r=t._pointIsOutOfBounds(e.bottom,"y",this.opts),o=t._pointIsOutOfBounds(e.left,"x",this.opts),i=t._pointIsOutOfBounds(e.right,"x",this.opts);return n||r||o||i}}],[{key:"getOptions",value:function(t){var e=t.dataset;return Object.keys(e).reduce(function(t,n){if("oComponent"===n)return t;var r=n.replace(/^oTooltip(\w)(\w+)$/,function(t,e,n){return e.toLowerCase()+n});try{t[r]=JSON.parse(e[n].replace(/\'/g,'"'))}catch(o){t[r]=e[n]}return t},{})}},{key:"checkOptions",value:function(e){return e.target||t.throwError("tooltip.target is not set. An target for the tooltip to point at must be provided"),e.position?-1===t.validTooltipPositions.indexOf(e.position)&&t.throwError("Invalid value for tooltip position. Valid values are:"+t.validTooltipPositions.toString()+" or nothing which will default to a value of `below`"):e.position="below",e}},{key:"constructElement",value:function(t,e){var n=document.createElement("div");return t.setAttribute("id",e.target),n.setAttribute("data-o-component","o-tooltip"),n.insertAdjacentHTML("afterbegin","<div class='o-tooltip-content'>"+e.content+"</div>"),n}},{key:"_pointIsOutOfBounds",value:function(t,e,n){if(t<0)return!0;if(n.showOnConstruction){if("y"===e&&t>document.body.clientHeight)return!0;if("x"===e&&t>document.body.clientWidth)return!0}else{if("y"===e&&t>document.documentElement.clientHeight)return!0;if("x"===e&&t>document.documentElement.clientWidth)return!0}return!1}},{key:"_rotateOrientation",value:function(t){return{above:"right",right:"below",below:"left",left:"above"}[t]}},{key:"throwError",value:function(t){throw new Error('"o-tooltip error": '+t)}},{key:"init",value:function(e,n){return e||(e=document.body),e instanceof HTMLElement||(e=document.querySelector(e)),e instanceof HTMLElement&&/\bo-tooltip\b/.test(e.getAttribute("data-o-component"))?new t(e,n):Array.from(e.querySelectorAll('[data-o-component="o-tooltip"]'),function(e){return new t(e,n)})}}]),t}();h.arrowDepth=10,h.positionToArrowPositionMap={above:"below",below:"above",left:"right",right:"left"},h.alignmentToArrowAlignmentMap={top:"top",bottom:"bottom",right:"left",left:"right",middle:"middle"},h.validArrowAlignments=["top","bottom","left","right"],h.validTooltipPositions=["above","below","left","right"],h.Target=p.default,e.default=h,t.exports=e.default},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){r(this,t),this.targetEl=e}return o(t,[{key:"offsetTop",get:function(){return this.targetEl.offsetTop}},{key:"left",get:function(){return this.targetEl.getBoundingClientRect().left}},{key:"right",get:function(){return this.left+this.width}},{key:"top",get:function(){return this.targetEl.getBoundingClientRect().top}},{key:"bottom",get:function(){return this.top+this.height}},{key:"width",get:function(){return this.targetEl.getBoundingClientRect().width}},{key:"height",get:function(){return this.targetEl.getBoundingClientRect().height}},{key:"centrePoint",get:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}}}]),t}();e.default=i,t.exports=e.default},function(t,e,n){"use strict";var r=n(8),o=function(t){return'\n<article class="o-overlay--n-overlay-loader">\n\t<div class="o-overlay--n-overlay-loader-indicator"></div>\n</article>\n<iframe class="o-overlay--n-overlay-iframe" src="'+t+'"></iframe>'};t.exports=function(t,e){var n=t.messageElement.querySelector(".n-alert-banner__actions__primary"),i=t.messageElement.querySelector(".n-alert-banner__actions__secondary");if(n){var a=n.href+(/\?/.test(n.href)?"&":"?")+"embedded=true",s={html:o(a),trigger:n,heading:{title:n.text,visuallyHideTitle:!0}};n.addEventListener("click",function(t){return t.preventDefault()}),new r("n-overlay",s)}i&&i.addEventListener("click",function(e){t.messageElement.classList.add("n-alert-banner--closed"),e.preventDefault()}),e()}},function(t,e,n){"use strict";var r=n(321),o=n(323),i=n(324);t.exports={inviteColleagues:r,appPromotingBanner:o,cookieConsentA:i,cookieConsentB:i,cookieConsentC:i}},function(t,e,n){"use strict";var r=n(75);t.exports=function(t,e){function n(t){var e=t.parentNode,n=e.querySelector(".invite-colleagues__copy-link");n.focus(),n.select();try{document.execCommand("copy"),e.classList.add("copy-success")}catch(t){}}var o=t.innerElement.querySelector("[data-o-component=o-share]:not([data-o-share--js])");o&&r.init(o);var i=t.innerElement.querySelectorAll(".invite-colleagues__copy-link-button");i&&i.forEach(function(t){return t.addEventListener("click",function(){return n(t)},!1)}),e()}},function(t,e,n){"use strict";function r(t,e){function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"oShare";c.rootEl.dispatchEvent(new CustomEvent(n+"."+t,{detail:e,bubbles:!0}))}function r(t){var e=t.target.closest("li.o-share__action");if(c.rootEl.contains(e)&&e.querySelector("a[href]")){t.preventDefault(),t.stopPropagation();var r=e.querySelector("a[href]").href;n("event",{category:"share",action:"click",button:e.textContent.trim().toLowerCase()},"oTracking"),a(r)}}function a(t){t&&(d[t]&&!d[t].closed?d[t].focus():(d[t]=window.open(t,"","width=646,height=436"),d[t].opener=null),n("open",{share:c,action:"social",url:t}))}function s(t){var n=i[t];return n=n.replace("{{url}}",e.url).replace("{{title}}",encodeURIComponent(e.title)).replace("{{titleExtra}}",encodeURIComponent(e.titleExtra)).replace("{{summary}}",encodeURIComponent(e.summary)).replace("{{relatedTwitterAccounts}}",encodeURIComponent(e.relatedTwitterAccounts))}function l(){u();for(var t=document.createElement("ul"),n=0;n<e.links.length;n++){var r=document.createElement("li"),o=document.createElement("span"),i=document.createElement("a");r.classList.add("o-share__action"),o.classList.add("o-share__text"),i.classList.add("o-share__icon","o-share__icon--"+e.links[n]),i.href=s(e.links[n]),i.appendChild(o),r.appendChild(i),t.appendChild(r)}c.rootEl.appendChild(t)}function u(){var t=document.createElement("a");t.href=e.url,e.url=t.protocol+"//"+t.host+t.pathname+t.search+t.hash}var c=this,d={};!function(){t?t instanceof HTMLElement||(t=document.querySelector(t)):t=document.body;var i=new o(t);i.on("click",r),t.setAttribute("data-o-share--js",""),c.rootDomDelegate=i,c.rootEl=t,0===t.children.length&&(e||(e={},e.links=t.hasAttribute("data-o-share-links")?t.getAttribute("data-o-share-links").split(" "):[],e.url=t.getAttribute("data-o-share-url")||"",e.title=t.getAttribute("data-o-share-title")||"",e.titleExtra=t.getAttribute("data-o-share-titleExtra")||"",e.summary=t.getAttribute("data-o-share-summary")||"",e.relatedTwitterAccounts=t.getAttribute("data-o-share-relatedTwitterAccounts")||""),l()),n("ready",{share:c})}()}var o=n(7),i={twitter:"https://twitter.com/intent/tweet?url={{url}}&text={{title}}&related={{relatedTwitterAccounts}}&via=FT",facebook:"http://www.facebook.com/sharer.php?u={{url}}",linkedin:"http://www.linkedin.com/shareArticle?mini=true&url={{url}}&title={{title}}+%7C+{{titleExtra}}&summary={{summary}}&source=Financial+Times",googleplus:"https://plus.google.com/share?url={{url}}",pinterest:"http://www.pinterest.com/pin/create/button/?url={{url}}&description={{title}}",whatsapp:"whatsapp://send?text={{title}}%20({{titleExtra}})%20-%20{{url}}"};r.prototype.destroy=function(){this.rootDomDelegate.destroy();for(var t=0;t<this.rootEl.children;t++)this.rootEl.removeChild(this.rootEl.children[t]);this.rootEl.removeAttribute("data-o-share--js"),this.rootEl=void 0},r.init=function(t){return t||(t=document.body),t instanceof HTMLElement||(t=document.querySelector(t)),t instanceof HTMLElement&&t.matches("[data-o-component=o-share]")?new r(t):Array.from(t.querySelectorAll("[data-o-component=o-share]"),function(t){return new r(t)})},t.exports=r},function(t,e,n){"use strict";var r=n(26),o=r.getCurrentLayout;t.exports=function(t,e){function n(t){return a.disabled||(a.disabled="disabled",r()),t.preventDefault(),!1}function r(){return fetch(i.action,{method:"POST",credentials:"same-origin"}).then(function(t){if(200!==t.status)throw new Error("<strong>Oops!</strong> Please try again.");l.classList.add("has-sent")}).catch(function(t){s.innerHTML="<p>"+t.message+"</p>",a.disabled=!1})}var i=t.innerElement.querySelector(".js-n-app-banner-form"),a=t.innerElement.querySelector(".js-n-app-banner-button"),s=t.innerElement.querySelector(".js-n-app-banner-error-message"),l=t.innerElement;!function(){return-1!==["M","L","XL"].indexOf(o())}()?e({skip:!0}):(i.addEventListener("submit",n),e())}},function(t,e,n){"use strict";var r=n(4);t.exports=function(t,e){var n=/FTCookieConsentGDPR=true/.test(document.cookie),o=t.bannerElement,i=t.innerElement,a=function(){var t=o.getBoundingClientRect().height+parseInt(window.getComputedStyle(o).marginBottom,10);document.body.style.marginBottom=t+"px"},s=function(){o.parentNode.removeChild(o),document.body.focus()},l=function(t,e){return e.preventDefault(),fetch("https://consent.ft.com/__consent/consent-record-cookie",{method:"GET",credentials:"include"}).then(s).catch(function(t){return{error:t}})};n?e({skip:!0}):(!function(){var t=o.closest(".n-ui-hide-enhanced");t&&t.classList.remove("n-ui-hide-enhanced");var e=i.querySelector('[data-action="accept-form"]');e.addEventListener("click",function(t){return l(0,t)},!1),"undefined"!=typeof CSS&&CSS.supports("position","sticky")||(o.classList.add("n-messaging-banner--fixed"),r.listenTo("resize"),r.listenTo("orientation"),document.body.addEventListener("oViewport.orientation",function(){a()}),document.body.addEventListener("oViewport.resize",function(){a()}),setTimeout(function(){a()},1))}(),e())}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),e.init=void 0;var o=n(15),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=(e.init=function(){var t=r(i.default.mark(function t(){var e,n,r,o,s,c;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=document.querySelector(".n-newsletter-signup")){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,Promise.all([d(e),p(e)]);case 5:n=t.sent,r=a(n,2),o=r[0],s=r[1],c=e.dataset.newsletterId,o||f(c)||!s?e.parentNode.parentNode.removeChild(e.parentNode):((0,l.init)(),(0,u.broadcast)("oTracking.event",{category:"n-newsletter-signup",action:"shown"}));case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),n(76)),l=n(328),u=n(3),c=n(77),d=function(){var t=r(i.default.mark(function t(e){var n,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c();case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return",!1);case 5:return t.next=7,fetch("/__myft/api/alerts/"+n+"/newsletters",{credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t.map(function(t){return t.id})}).catch(function(){return[]});case 7:return r=t.sent,t.abrupt("return",r.includes(e.dataset.newsletterId));case 9:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}(),f=function(t){var e=s.local.get("n-newsletter-signup."+t+".subscribedTime");return!!e&&Date.now()-e<36e5},p=function(){var t=r(i.default.mark(function t(e){var n,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://session-next.ft.com/products",{mode:"cors",credentials:"include"}).then(function(t){return t.json()}).then(function(t){return t.includes("P2")}).catch(function(){return!1});case 2:return n=t.sent,r=e.dataset.newsletterIsPremium,t.abrupt("return",!(r&&!n));case 5:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";var r=function(){return this}()||Function("return this")(),o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(327),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e,n){"use strict";(function(t){var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(n){function r(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new h(r||[]);return a._invoke=c(t,n,s),a}function o(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function a(){}function s(){}function l(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function n(r,i,a,s){var l=o(t[r],t,i);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"===(void 0===c?"undefined":e(c))&&b.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):Promise.resolve(c).then(function(t){u.value=t,a(u)},s)}s(l.arg)}function r(t,e){function r(){return new Promise(function(r,o){n(t,e,r,o)})}return i=i?i.then(r,r):r()}var i;this._invoke=r}function c(t,e,n){var r=S;return function(i,a){if(r===L)throw new Error("Generator is already running");if(r===A){if("throw"===i)throw a;return v()}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var l=d(s,n);if(l){if(l===M)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===S)throw r=A,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=L;var u=o(t,e,n);if("normal"===u.type){if(r=n.done?A:C,u.arg===M)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=A,n.method="throw",n.arg=u.arg)}}}function d(t,e){var n=t.iterator[e.method];if(n===g){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=g,d(t,e),"throw"===e.method))return M;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return M}var r=o(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,M;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=g),e.delegate=null,M):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,M)}function f(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function h(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(f,this),this.reset(!0)}function m(t){if(t){var e=t[E];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(b.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=g,e.done=!0,e};return r.next=r}}return{next:v}}function v(){return{value:g,done:!0}}var g,y=Object.prototype,b=y.hasOwnProperty,w="function"==typeof Symbol?Symbol:{},E=w.iterator||"@@iterator",_=w.asyncIterator||"@@asyncIterator",x=w.toStringTag||"@@toStringTag",k="object"===e(t),T=n.regeneratorRuntime;if(T)return void(k&&(t.exports=T));T=n.regeneratorRuntime=k?t.exports:{},T.wrap=r;var S="suspendedStart",C="suspendedYield",L="executing",A="completed",M={},O={};O[E]=function(){return this};var P=Object.getPrototypeOf,I=P&&P(P(m([])));I&&I!==y&&b.call(I,E)&&(O=I);var D=s.prototype=i.prototype=Object.create(O);a.prototype=D.constructor=s,s.constructor=a,s[x]=a.displayName="GeneratorFunction",T.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},T.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(D),t},T.awrap=function(t){return{__await:t}},l(u.prototype),u.prototype[_]=function(){return this},T.AsyncIterator=u,T.async=function(t,e,n,o){var i=new u(r(t,e,n,o));return T.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},l(D),D[x]="Generator",D[E]=function(){return this},D.toString=function(){return"[object Generator]"},T.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},T.values=m,h.prototype={constructor:h,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&b.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=g)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return i.type="throw",i.arg=t,n.next=e,r&&(n.method="next",n.arg=g),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=b.call(o,"catchLoc"),s=b.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&b.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,M):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),M},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),p(n),M}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;p(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:m(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=g),M}}}(function(){return this}()||Function("return this")())}).call(e,n(151)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(329);Object.keys(r).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})})},function(t,e,n){"use strict";var r=n(330);t.exports={init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=Array.from(t.querySelectorAll('[data-component="n-newsletter-signup"]'));e.length&&e.forEach(function(t){new r(t)})}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(76),a=n(3),s=n(331),l={method:"POST",credentials:"same-origin",headers:{accept:"application/json"}},u=function(){function t(e){r(this,t),this.el=e,this.newsletterName=e.dataset.newsletterName,this.newsletterForm=e.querySelector("form"),this.newsletterId=e.dataset.newsletterId,this.newsletterButton=this.el.querySelector(".n-newsletter-signup__submit"),this.feedback=new s(this.newsletterForm,this.newsletterName,this.newsletterId),this.init()}return o(t,[{key:"init",value:function(){var t=this;this.newsletterForm.addEventListener("submit",function(e){e.preventDefault(),t.handleSubmit(e)})}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.el.setAttribute("aria-busy","true"),this.feedback.update("update");var e=t.target.action,n=e.indexOf("unsubscribe")>-1?"unsubscribe":"subscribe";this.callApi(e,n).catch(function(t){return(0,a.broadcast)("oErrors.log",{error:t,info:{reason:"Failed newsletter signup"}})})}},{key:"update",value:function(t){this.render(t),this.feedback.update("success"),this.el.setAttribute("aria-busy","false")}},{key:"callApi",value:function(t,e){var n=this;return fetch(t,l).then(function(t){if(!t.ok)throw new Error("Bad server response");n.update(e),n.newsletterForm.dispatchEvent(new CustomEvent("newsletter."+e,{detail:n.newsletterId})),"subscribe"===e&&i.local.set("n-newsletter-signup."+n.newsletterId+".subscribedTime",Date.now())}).catch(function(t){throw n.feedback.update("error"),n.el.setAttribute("aria-busy","false"),t})}},{key:"render",value:function(t){var e=void 0,n=void 0,r=void 0,o=void 0,i=void 0;"subscribe"===t?(e=this.newsletterForm.action.replace("subscribe","unsubscribe"),n=this.newsletterButton.getAttribute("aria-label").replace("Subscribe to","Unsubscribe from"),r=this.newsletterButton.title.replace("Subscribe to","Unsubscribe from"),o="newsletter-unsubscribe",i=this.newsletterButton.innerHTML.replace("One-Click Sign Up","Subscribed"),this.el.classList.add("n-newsletter-signup--subscribed")):(e=this.newsletterForm.action.replace("unsubscribe","subscribe"),n=this.newsletterButton.getAttribute("aria-label"),r=this.newsletterButton.title.replace("Unsubscribe from","Subscribe to"),o="newsletter-subscribe",i=this.newsletterButton.innerHTML.replace(/(Subscribed)|(Unsubscribe)/,"One-Click Sign Up"),this.el.classList.remove("n-newsletter-signup--subscribed")),this.newsletterForm.action=e,this.newsletterButton.setAttribute("aria-label",n),this.newsletterButton.title=r,this.newsletterButton.dataset.trackable=o,this.newsletterButton.innerHTML=i}}]),t}();t.exports=u},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(332),a=function(){function t(e,n,o){r(this,t),this.parentHtml=e,this.html=document.createElement("p"),this.state="default",this.name=n,this.id=o,this.append(e)}return o(t,[{key:"defaultAttributes",value:function(){this.html.dataset.component="feedback",this.html.setAttribute("aria-live","polite"),this.html.setAttribute("aria-atomic","true"),this.html.classList.add("n-newsletter-signup__feedback"),this.html.classList.add("n-newsletter-signup__feedback--hidden"),this.html.id="feedback-message__newsletter-"+this.id}},{key:"updatePresentation",value:function(){this.html.classList.add("n-newsletter-signup__feedback--"+this.state),"error"===this.state&&this.html.classList.remove("n-newsletter-signup__feedback--hidden")}},{key:"updateMessage",value:function(t){this.html.innerHTML=t}},{key:"append",value:function(){this.defaultAttributes(),this.parentHtml.appendChild(this.html)}},{key:"update",value:function(t){this.state=t||this.state;var e=this.setMessage(t);e&&(this.updatePresentation(),this.updateMessage(e))}},{key:"setMessage",value:function(t){var e=i(new Date);switch(t){case"update":return"Updating subscription to "+this.name;case"success":return"Successfully updated your "+this.name+" subscription preference "+e;case"error":return"Something went wrong updating your subscription to "+this.name+". Please try again.";default:return!1}}}]),t}();t.exports=a},function(t,e,n){"use strict";var r=function(t){if(t&&t instanceof Date){var e=t.getHours(),n=(e>12?e-12:e).toString(),r=("0"+t.getMinutes()).slice(-2).toString(),o=e>=12?"PM":"AM";if(n&&r&&o)return"at "+n+"."+r+o}return""};t.exports=r},function(t,e,n){"use strict";function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.targetSelector,n=void 0===e?"#comments":e,r=t.threshold,o=void 0===r?600:r;return new Promise(function(t){var e=!1,r=window.innerHeight,i=document.querySelector(n),a=i.getBoundingClientRect().top,s=a-o-r,l=function(){e||(e=!0,u(window.scrollY>=s))},u=function(e){window.removeEventListener("scroll",l),e&&t("checkDepthOnInitialScrollEvent")};window.addEventListener("scroll",l)})}function o(t){return new Promise(function(e){var n=document.querySelector(t.targetSelector);if(n)if(window.IntersectionObserver){var r=new IntersectionObserver(function(t){f(this,t,e)},{rootMargin:t.threshold+"px"});r.observe(n)}else e("IntersectionObserver not supported");else e("No element found to attach IntersectionObserver")})}function i(t,e){var n=[t.getAttribute("data-comments-js"),t.getAttribute("data-comments-css")];return new Promise(function(t){if(e.lazy){var n=[r(e),o({targetSelector:"#comments",threshold:1e3})];return e.targetSelector&&n.push(o(e)),Promise.race(n).then(function(e){t("race ended: "+e)})}t("dont lazy load")}).then(function(){window.FT.commentsRumLoadStart=Date.now(),d(n)})}var a=n(334),s=function(t){return t&&t.__esModule?t:{default:t}}(a),l=n(26),u=n(335),c=n(340),d=function(t){t.forEach(function(t){var e=t.split(".").pop(),n=void 0;"js"===e?(n=document.createElement("script"),n.src=t):(n=document.createElement("link"),n.setAttribute("rel","stylesheet"),n.href=t),document.head.appendChild(n)})},f=function(t,e,n){e.forEach(function(e){(e.isIntersecting||e.intersectionRatio>0)&&(n("intersection callback"),t.unobserve(e.target))})};t.exports={init:function(){window.FT=window.FT||{};var t=document.getElementById("comments");u.init(),c.init();var e={lazy:!1};if(/#lf-content|#comments|#lf-comments/.test(window.location.hash))location.hash=location.hash.replace(/.*(#lf-content|#comments|#lf-comments)/,"$1");else if(location.search.indexOf("lf-content")>-1);else{var n=s.default.getInitialEngagement();"active"!==n&&(e.lazy=!0,["default","S"].indexOf(l.getCurrentLayout())>-1&&(e.targetSelector=".n-content-copyright",e.threshold="passive"===n?600:0))}i(t,e),s.default.init()}}},function(t,e,n){"use strict";function r(t,e){return Date.now()-t<864e5*e}function o(){var t=u.local.get(c);return t?t.active&&r(t.active,30)?"active":t.passive&&(r(t.passive[0],5)||t.passive.filter(function(t){return r(t,30)}).length>3)?"passive":"previous":"none"}function i(t){var e=u.local.get(c);e=e||{active:null,passive:[]},"active"===t?e.active=Date.now():(e.passive.unshift(Date.now()),e.passive.length>10&&(e.passive=e.passive.slice(0,10))),u.local.set(c,e)}function a(){return d||(d=o()),d}var s=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=n(3),u=n(76),c="next.comments.engagement",d=void 0;t.exports={init:function(){if(a(),window.IntersectionObserver){var t=document.querySelector(".comments__rum-indicator"),e=new IntersectionObserver(function(n){s(n,1)[0].isIntersecting&&(window.FT.commentsRumInView=Date.now(),(0,l.broadcast)("oTracking.event",{action:"view",category:"comments",context:{product:"next",source:"next-article",uiIsDelayed:!window.FT.commentsRumLoaded,userEngagement:d}}),i("passive"),e.unobserve(t))},{rootMargin:"0px"});e.observe(t)}document.body.addEventListener("oComments.widget.renderComplete",function(){window.FT.commentsRumLoaded=Date.now(),(0,l.broadcast)("oTracking.event",{category:"comments",action:"ready",context:{timeToLoad:window.FT.commentsRumLoaded-window.FT.commentsRumLoadStart,userIsViewing:!!window.FT.commentsRumInView,timeUserWaitedToView:window.FT.commentsRumInView?window.FT.commentsRumLoaded-window.FT.commentsRumInView:0,userEngagement:d}})}),Array.from(document.querySelectorAll('[href="#comments"]')).forEach(function(t){t.addEventListener("click",function(){return i("active")})}),document.body.addEventListener("oComments.tracking.postComment",function(){return i("active")}),document.body.addEventListener("oComments.tracking.likeComment",function(){return i("active")}),document.body.addEventListener("oComments.tracking.shareComment",function(){return i("active")})},getInitialEngagement:a}},function(t,e,n){"use strict";var r={init:function(){n(336).init();for(var t=document.querySelectorAll(".article__share__comments"),e=0;e<t.length;e++)t[e].style.visibility="visible"}};t.exports=r},function(t,e,n){"use strict";var r=n(152),o=n(10),i=n(337),a=n(1),s=n(338),l=n(339);r.set(i),o.setConfig("cache",!0),t.exports=s,t.exports.setConfig=function(){r.set.apply(this,arguments)},t.exports.init=function(e){return l({context:e,classNamespace:"o-comment-count",eventNamespace:"oCommentCount",module:t.exports})},t.exports.utilities=a,t.exports.dataService=o,t.exports.enableLogging=function(){a.logger.enable.apply(this,arguments)},t.exports.disableLogging=function(){a.logger.disable.apply(this,arguments)},t.exports.setLoggingLevel=function(){a.logger.setLevel.apply(this,arguments)},document.addEventListener("o.DOMContentLoaded",function(){try{var e=document.querySelector('script[type="application/json"][data-o-comment-count-config]');if(e){var n=JSON.parse(e.innerHTML);t.exports.setConfig(n)}}catch(t){a.logger.log("Invalid config in the DOM.",t)}l({classNamespace:"o-comment-count",eventNamespace:"oCommentCount",module:t.exports,auto:!0})})},function(t,e,n){"use strict";t.exports={template:"{count} Comment{plural}"}},function(t,e,n){"use strict";var r=n(152),o=n(1),i=n(10),a=function(t,e){function n(t,e){return t.replace("{count}",e).replace("{plural}",e>1?"s":"")}function a(){s(function(t,r){t||(0===r&&!0===e.hideIfZero?u.style.visibility="hidden":(u.style.visibility="visible",f&&(u.innerHTML=n(f,r)),p&&(u.setAttribute("aria-label",n(p,r)),u.setAttribute("title",n(p,r)))))})}function s(t){c>=0?t(null,c):i.api.getCommentCount(e.articleId,function(e,n){if(e)return t(e),void o.logger.error("Error fetching the comment count",e);c=n,t(null,c)})}function l(){a()}var u=void 0,c=void 0;try{t?t instanceof HTMLElement||(t=document.querySelector(t)):t=document.body}catch(e){var d=void 0;"string"==typeof t&&(d=document.querySelector(t)),t=d||document.body}if(t.setAttribute("data-o-comment-count-js",""),u=t,!e)throw new Error("No configuration is provided.");if(!e.articleId){if(!e.articleid)throw new Error("Article ID is missing.");e.articleId=e.articleid}var f=e.template||r.get("template"),p=e.ariaLabelTemplate||r.get("ariaLabelTemplate");return e.count>=0&&(c=e.count),!1!==e.autoInit&&l(),{init:l,getCommentCount:s}};t.exports=a},function(t,e,n){"use strict";function r(t){for(var e=t.split("-"),n=e[0],r=1;r<e.length;r++)n+=e[r].charAt(0).toUpperCase()+e[r].slice(1);return n}function o(t){if("true"===t)return!0;if("false"===t)return!1;var e=parseInt(t,10);return!isNaN(t)&&e?e:t}var i=n(10),a=n(1),s=a.generateId;t.exports=function(t){var e=t.context;e?e instanceof HTMLElement||(e=document.querySelector(e)):e=document.body;for(var n=e.querySelectorAll('[data-o-component="'+t.classNamespace+'"]'),a=void 0,l=void 0,u=[],c=[],d=0;d<n.length;d++)if(a=n[d],l=!a.getAttribute("data-"+t.classNamespace+"-built"),t.auto&&(l=l&&"false"!==a.getAttribute("data-"+t.classNamespace+"-auto-init")),l){a.id||(a.id=t.classNamespace+"--"+s()),a.setAttribute("data-"+t.classNamespace+"-built","true");for(var f={},p=void 0,h=void 0,m=void 0,v=void 0,g=0;g<a.attributes.length;g++)if((p=a.attributes[g].name.match(new RegExp("data-"+t.classNamespace+"-config-(.*)")))&&p.length){h=p[1].split("--"),m=f;for(var y=0;y<h.length;y++)v=r(h[y]),y===h.length-1?m[v]=o(a.attributes[g].value):m[v]||(m[v]={},m=m[v])}var b=f.articleId||f.articleid;b&&-1===c.indexOf(b)&&c.push(b),u.push({el:a,widgetConfig:f})}c&&c.length&&i.api.getCommentCounts(c,function(e,n){!e&&n&&u.forEach(function(e){var r=e.widgetConfig.articleId||e.widgetConfig.articleid||null;n[r]>=0&&(e.widgetConfig.count=n[r]);var o=new t.module(e.el,e.widgetConfig);document.body.dispatchEvent(new CustomEvent(t.eventNamespace+".ready",{detail:{id:e.id,instance:o},bubble:!0}))})})}},function(t,e,n){"use strict";var r={init:function(){var t=document.createElement("div"),e=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),o=document.querySelector("#comments");t.className="skeleton",t.setAttribute("data-skeleton","comments"),e.className="skeleton__inner",n.className="skeleton__avatar",r.className="skeleton__text",e.appendChild(n),e.appendChild(r),t.innerHTML+=e.outerHTML,t.innerHTML+=e.outerHTML,t.innerHTML+=e.outerHTML,o.parentNode.insertBefore(t,o.nextSibling)}};t.exports=r},function(t,e,n){"use strict";function r(){if(document.querySelector(".package__nav--top"))return void document.querySelectorAll(".o-share-wrapper").forEach(function(t){t.setAttribute("data-article-package","")});var t=document.querySelector(".js-nav-item-share-link");t&&t.addEventListener("click",function(t){t.preventDefault(),(0,i.default)()})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var o=n(153),i=function(t){return t&&t.__esModule?t:{default:t}}(o);t.exports=e.default},function(t,e,n){"use strict";var r=n(50);t.exports={getGiftArticleAllowance:function(){return fetch("/article-email/credits",{credentials:"same-origin"}).then(function(t){return t.json()}).then(function(t){return{monthlyAllowance:t.credits.allowance,credit:t.credits.remainingCredits}})},createGiftLink:function(t){return fetch("/article-email/gift-link",{credentials:"same-origin",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contentUUID:t,ftSessionSecure:r.sessionId()})}).then(function(t){return t.ok?t.json():{}}).then(function(t){if(t.errors)throw new Error("Failed to get gift article link: "+t.errors.join(", "));return Object.assign({},t,{redemptionLimit:3})})},getNextAllowanceDate:function(){var t=new Date,e=new Date(Date.UTC(t.getFullYear(),t.getMonth()+1,1)),n=["January","February","March","April","May","June","July","August","September","October","November","December"];return Promise.resolve({year:String(e.getFullYear()),month:String(e.getMonth()+1),monthName:n[e.getMonth()],day:String(e.getDate())})}}},function(t,e,n){"use strict";function r(t){var e=new CustomEvent("oTracking.event",{detail:t,bubbles:!0});document.body.dispatchEvent(e)}t.exports={createGiftLink:function(t,e){return r({category:"gift-link",action:"create",linkType:"giftLink",link:t,longUrl:e})},copyLink:function(t,e){return r({category:"gift-link",action:"copy",linkType:t,link:e})},emailLink:function(t,e){return r({category:"gift-link",action:"mailto",linkType:t,link:e})}}},function(t,e,n){"use strict";function r(){return document.queryCommandSupported&&document.queryCommandSupported("copy")}function o(t){var e=t.contentEditable,n=t.readOnly,r=document.createRange();t.contenteditable=!0,t.readonly=!1,t.focus(),r.selectNodeContents(t);var o=window.getSelection();try{o.removeAllRanges(),o.addRange(r),t.setSelectionRange(0,999999)}catch(e){t.select()}t.contentEditable=e,t.readOnly=n,document.execCommand("copy"),t.blur()}function i(t){return"mailto:?subject="+encodeURIComponent(s())+"&body="+encodeURIComponent(t)}var a=n(98),s=a.getTitle;t.exports={isCopySupported:r,copyToClipboard:o,getMailtoLink:i}},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var o=n(2);t.exports=(o.default||o).template({1:function(t,e,n,r,o){return" hidden"},3:function(t,e,n,r,o){return" checked"},5:function(t,e,r,o,i){var a;return null!=(a=t.invokePartial(n(361),e,{name:"social-buttons",data:i,indent:"\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(t,e,o,i,a){var s,l=t.lambda,u=t.escapeExpression,c=null!=e?e:t.nullContext||{};return'<form name="gift-form" class="gift-form o-forms--wide">\n\t<a class="o-overlay__close" role="button" tabindex="0" href="javascript:void(0)" data-trackable="close" aria-label="Close" title="Close"></a>\n\n\t<div class="gift-form__title">'+u(l(null!=e?e.title:e,e))+'</div>\n\n\t<fieldset class="gift-form__group'+(null!=(s=o.if.call(c,null!=e?e.hideRadioButtons:e,{name:"if",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+'">\n\n\t\t<div class="gift-form__radio-group">\n\t\t\t<div class="gift-form__radio-input">\n\t\t\t\t<input type="radio" name="gift-form__radio" value="giftLink" class="gift-form__radio" id="giftLink"'+(null!=(s=r(n(34)).call(c,null!=e?e.initialSection:e,"giftLink",{name:"ifEquals",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?s:"")+' />\n\t\t\t\t<label for="giftLink" class="gift-form__label">\n\t\t\t\t\t<div class="gift-form__label">with <strong>anyone</strong></div>\n\t\t\t\t</label>\n\t\t\t</div>\n\n\t\t\t<div class="gift-form__radio-input">\n\t\t\t\t<input type="radio" name="gift-form__radio" value="nonGiftLink" class="gift-form__radio" id="nonGiftLink"'+(null!=(s=r(n(34)).call(c,null!=e?e.initialSection:e,"nonGiftLink",{name:"ifEquals",hash:{},fn:t.program(3,a,0),inverse:t.noop,data:a}))?s:"")+' />\n\t\t\t\t<label for="nonGiftLink" class="gift-form__label">\n\t\t\t\t\t<div class="gift-form__label">with <strong>other subscribers</strong></div>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</div>\n\n\t</fieldset>\n\n\t<div class="gift-form__radio-section'+(null!=(s=r(n(156)).call(c,null!=e?e.initialSection:e,"giftLink",{name:"unlessEquals",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+'" data-section-id="giftLink" data-trackable="giftLink">\n\t\t<div class="gift-form__create-link">\n\t\t\t<div class="gift-form__link-input">\n\t\t\t\t<input type="text" name="example-gift-link" value="'+u(l(null!=e?e.exampleGiftLink:e,e))+'" disabled="disabled" class="gift-form__text-input" />\n\t\t\t</div>\n\t\t\t<div class="gift-form__message">&nbsp;</div>\n\t\t\t<div class="gift-form__buttons">\n\t\t\t\t<button class="gift-form__button js-create-gift-link" type="button">Create gift link</button>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="gift-form__show-link hidden">\n\t\t\t<div class="gift-form__link-input">\n\t\t\t\t<input type="text" name="gift-link" class="gift-form__text-input js-share-link" readonly />\n\t\t\t</div>\n\t\t\t<div class="gift-form__message">&nbsp;</div>\n\t\t\t<div class="gift-form__buttons">\n\t\t\t\t<button class="gift-form__button js-copy-link" type="button">Copy link</button>\n\t\t\t\t<a class="gift-form__button js-email-link" href="'+u(l(null!=e?e.initialMailtoUrl:e,e))+'" target="_blank">Email link</a>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="gift-form__no-credit hidden">\n\t\t\t<div class="gift-form__message">&nbsp;</div>\n\t\t</div>\n\t</div>\n\n\t<div class="gift-form__radio-section'+(null!=(s=r(n(156)).call(c,null!=e?e.initialSection:e,"nonGiftLink",{name:"unlessEquals",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+'" data-section-id="nonGiftLink" data-trackable="nonGiftLink">\n\t\t<div class="gift-form__show-link">\n\t\t\t<div class="gift-form__link-input">\n\t\t\t\t<input type="text" name="non-gift-link" value="" class="gift-form__text-input js-share-link" readonly />\n\t\t\t</div>\n\t\t\t<div class="gift-form__message"></div>\n\t\t\t<div class="gift-form__buttons">\n\t\t\t\t<button class="gift-form__button js-copy-link" type="button">Copy link</button>\n\t\t\t\t<a class="gift-form__button js-email-link" href="'+u(l(null!=e?e.initialMailtoUrl:e,e))+'" target="_blank">Email link</a>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\n'+(null!=(s=o.if.call(c,null!=e?e.showSocialButtons:e,{name:"if",hash:{},fn:t.program(5,a,0),inverse:t.noop,data:a}))?s:"")+'\n\t<div class="gift-form__loading-overlay">\n\t\t<div class="gift-form__loading-spinner"></div>\n\t</div>\n</form>\n'},usePartial:!0,useData:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=new s.HandlebarsEnvironment;return p.extend(t,s),t.SafeString=u.default,t.Exception=d.default,t.Utils=p,t.escapeExpression=p.escapeExpression,t.VM=m,t.template=function(e){return m.template(e,t)},t}e.__esModule=!0;var a=n(154),s=o(a),l=n(358),u=r(l),c=n(33),d=r(c),f=n(9),p=o(f),h=n(359),m=o(h),v=n(360),g=r(v),y=i();y.create=i,g.default(y),y.default=y,e.default=y,t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){a.default(t),l.default(t),c.default(t),f.default(t),h.default(t),v.default(t),y.default(t)}e.__esModule=!0,e.registerDefaultHelpers=o;var i=n(348),a=r(i),s=n(349),l=r(s),u=n(350),c=r(u),d=n(351),f=r(d),p=n(352),h=r(p),m=n(353),v=r(m),g=n(354),y=r(g)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(9);e.default=function(t){t.registerHelper("blockHelperMissing",function(e,n){var o=n.inverse,i=n.fn;if(!0===e)return i(this);if(!1===e||null==e)return o(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):o(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return i(e,n)})},t.exports=e.default},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.__esModule=!0;var o=n(9),i=n(33),a=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t){t.registerHelper("each",function(t,e){function n(e,n,r){c&&(c.key=e,c.index=n,c.first=0===n,c.last=!!r,d&&(c.contextPath=d+e)),u+=i(t[e],{data:c,blockParams:o.blockParams([t[e],e],[d+e,null])})}if(!e)throw new a.default("Must pass iterator to #each");var i=e.fn,s=e.inverse,l=0,u="",c=void 0,d=void 0;if(e.data&&e.ids&&(d=o.appendContextPath(e.data.contextPath,e.ids[0])+"."),o.isFunction(t)&&(t=t.call(this)),e.data&&(c=o.createFrame(e.data)),t&&"object"===(void 0===t?"undefined":r(t)))if(o.isArray(t))for(var f=t.length;l<f;l++)l in t&&n(l,l,l===t.length-1);else{var p=void 0;for(var h in t)t.hasOwnProperty(h)&&(void 0!==p&&n(p,l-1),p=h,l++);void 0!==p&&n(p,l-1,!0)}return 0===l&&(u=s(this)),u})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(33),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(9);e.default=function(t){t.registerHelper("if",function(t,e){return r.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||r.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var o=1;null!=n.hash.level?o=n.hash.level:n.data&&null!=n.data.level&&(o=n.data.level),e[0]=o,t.log.apply(t,e)})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(9);e.default=function(t){t.registerHelper("with",function(t,e){r.isFunction(t)&&(t=t.call(this));var n=e.fn;if(r.isEmpty(t))return e.inverse(this);var o=e.data;return e.data&&e.ids&&(o=r.createFrame(e.data),o.contextPath=r.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:o,blockParams:r.blockParams([t],[o&&o.contextPath])})})},t.exports=e.default},function(t,e,n){"use strict";function r(t){i.default(t)}e.__esModule=!0,e.registerDefaultDecorators=r;var o=n(356),i=function(t){return t&&t.__esModule?t:{default:t}}(o)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(9);e.default=function(t){t.registerDecorator("inline",function(t,e,n,o){var i=t;return e.partials||(e.partials={},i=function(o,i){var a=n.partials;n.partials=r.extend({},a,e.partials);var s=t(o,i);return n.partials=a,s}),e.partials[o.args[0]]=o.fn,i})},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0;var r=n(9),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console[e].apply(console,r)}}};e.default=o,t.exports=e.default},function(t,e,n){"use strict";function r(t){this.string=t}e.__esModule=!0,r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default},function(t,e,n){"use strict";function r(t){var e=t&&t[0]||1,n=v.COMPILER_REVISION;if(e!==n){if(e<n){var r=v.REVISION_CHANGES[n],o=v.REVISION_CHANGES[e];throw new m.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new m.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function o(t,e){function n(n,r,o){o.hash&&(r=p.extend({},r,o.hash),o.ids&&(o.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,o);var i=e.VM.invokePartial.call(this,n,r,o);if(null==i&&e.compile&&(o.partials[o.name]=e.compile(n,t.compilerOptions,e),i=o.partials[o.name](r,o)),null!=i){if(o.indent){for(var a=i.split("\n"),s=0,l=a.length;s<l&&(a[s]||s+1!==l);s++)a[s]=o.indent+a[s];i=a.join("\n")}return i}throw new m.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function r(e){function n(e){return""+t.main(o,e,o.helpers,o.partials,a,l,s)}var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=i.data;r._setup(i),!i.partial&&t.useData&&(a=u(e,a));var s=void 0,l=t.useBlockParams?[]:void 0;return t.useDepths&&(s=i.depths?e!=i.depths[0]?[e].concat(i.depths):i.depths:[e]),(n=c(t.main,n,o,i.depths||[],a,l))(e,i)}if(!e)throw new m.default("No environment passed to template");if(!t||!t.main)throw new m.default("Unknown template object: "+(void 0===t?"undefined":d(t)));t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var o={strict:function(t,e){if(!(e in t))throw new m.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r]&&null!=t[r][e])return t[r][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:p.escapeExpression,invokePartial:n,fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,o){var a=this.programs[t],s=this.fn(t);return e||o||r||n?a=i(this,t,s,e,n,r,o):a||(a=this.programs[t]=i(this,t,s)),a},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=p.extend({},e,t)),n},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};return r.isTop=!0,r._setup=function(n){n.partial?(o.helpers=n.helpers,o.partials=n.partials,o.decorators=n.decorators):(o.helpers=o.merge(n.helpers,e.helpers),t.usePartial&&(o.partials=o.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(o.decorators=o.merge(n.decorators,e.decorators)))},r._child=function(e,n,r,a){if(t.useBlockParams&&!r)throw new m.default("must pass block params");if(t.useDepths&&!a)throw new m.default("must pass parent depths");return i(o,e,t[e],n,0,r,a)},r}function i(t,e,n,r,o,i,a){function s(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return!a||e==a[0]||e===t.nullContext&&null===a[0]||(s=[e].concat(a)),n(t,e,t.helpers,t.partials,o.data||r,i&&[o.blockParams].concat(i),s)}return s=c(n,s,t,a,r,i),s.program=e,s.depth=a?a.length:0,s.blockParams=o||0,s}function a(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t}function s(t,e,n){var r=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var o=void 0;if(n.fn&&n.fn!==l&&function(){n.data=v.createFrame(n.data);var t=n.fn;o=n.data["partial-block"]=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=v.createFrame(n.data),n.data["partial-block"]=r,t(e,n)},t.partials&&(n.partials=p.extend({},n.partials,t.partials))}(),void 0===t&&o&&(t=o),void 0===t)throw new m.default("The partial "+n.name+" could not be found");if(t instanceof Function)return t(e,n)}function l(){return""}function u(t,e){return e&&"root"in e||(e=e?v.createFrame(e):{},e.root=t),e}function c(t,e,n,r,o,i){if(t.decorator){var a={};e=t.decorator(e,a,n,r&&r[0],o,i,r),p.extend(e,a)}return e}var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.__esModule=!0,e.checkRevision=r,e.template=o,e.wrapProgram=i,e.resolvePartial=a,e.invokePartial=s,e.noop=l;var f=n(9),p=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(f),h=n(33),m=function(t){return t&&t.__esModule?t:{default:t}}(h),v=n(154)},function(t,e,n){"use strict";(function(n){e.__esModule=!0,e.default=function(t){var e=void 0!==n?n:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e.default}).call(e,n(155))},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var o=n(2);t.exports=(o.default||o).template({compiler:[7,">= 4.0.0"],main:function(t,e,o,i,a){var s=null!=e?e:t.nullContext||{},l=t.escapeExpression;return'<div class="gift-form__title gift-form__title--mobile-share">Share on Social</div>\n<div class="o-share o-share--inverse gift-form__mobile-share-buttons" data-o-component="o-share">\n\t<ul>\n\t\t<li class="o-share__action" data-share="facebook">\n\t\t\t<a class="o-share__icon o-share__icon--facebook mobile-share__button--facebook" rel="noopener" href="http://www.facebook.com/sharer.php?u='+l(r(n(11)).call(s,null!=e?e.shareUrl:e,{name:"encode",hash:{mode:"uriComponent"},data:a}))+"&amp;t="+l(r(n(11)).call(s,null!=e?e.shareTitle:e,{name:"encode",hash:{mode:"uriComponent"},data:a}))+'" data-trackable="facebook">Facebook<span class="o-share__text">(opens new window)</span></a>\n\t\t</li>\n\t\t<li class="o-share__action" data-share="twitter">\n\t\t\t<a class="o-share__icon o-share__icon--twitter mobile-share__button--twitter" rel="noopener" href="https://twitter.com/intent/tweet?url='+l(r(n(11)).call(s,null!=e?e.shareUrl:e,{name:"encode",hash:{mode:"uriComponent"},data:a}))+"&amp;text="+l(r(n(11)).call(s,null!=e?e.shareTitle:e,{name:"encode",hash:{mode:"uriComponent"},data:a}))+'&amp;via=financialtimes" data-trackable="twitter">Twitter<span class="o-share__text">(opens new window)</span></a>\n\t\t</li>\n\t\t<li class="o-share__action" data-share="linkedin">\n\t\t\t<a class="o-share__icon o-share__icon--linkedin mobile-share__button--linkedin" rel="noopener" href="http://www.linkedin.com/shareArticle?mini=true&amp;url='+l(r(n(11)).call(s,null!=e?e.shareUrl:e,{name:"encode",hash:{mode:"uriComponent"},data:a}))+"&amp;title="+l(r(n(11)).call(s,null!=e?e.shareTitle:e,{name:"encode",hash:{mode:"uriComponent"},data:a}))+'&amp;source=Financial+Times" data-trackable="linkedin">LinkedIn<span class="o-share__text">(opens new window)</span></a>\n\t\t</li>\n\t\t<li class="o-share__action o-share__action--whatsapp" data-share="whatsapp">\n\t\t\t<a class="o-share__icon o-share__icon--whatsapp mobile-share__button--whatsapp" rel="noopener" href="whatsapp://send?text='+l(r(n(11)).call(s,null!=e?e.shareTitle:e,{name:"encode",hash:{mode:"uriComponent"},data:a}))+"%20-%20"+l(r(n(11)).call(s,null!=e?e.shareUrl:e,{name:"encode",hash:{mode:"uriComponent"},data:a}))+'" data-trackable="whatsapp">Whatsapp<span class="o-share__text">(opens new window)</span></a>\n\t\t</li>\n\t</ul>\n</div>\n'},useData:!0})},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}var o=n(15),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=n(17);t.exports=function(){var t=r(i.default.mark(function t(e){var n,r;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=!1,r=e,t.abrupt("return",fetch("/article/shorten-url/"+encodeURIComponent(e)).then(a.json).then(function(t){return t.shortenedUrl&&(n=!0,r=t.shortenedUrl),{url:r,isShortened:n}}).catch(function(){return{url:r,isShortened:n}}));case 3:case"end":return t.stop()}},t,void 0)}));return function(e){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(4);(function(t){return t&&t.__esModule?t:{default:t}})(i).default.listenTo("scroll");var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,t),!e)throw new Error("StickyElement requires a DOM element");this.element=e,this.offsetParent=e.offsetParent,this.start=n.start||100,this.stop=n.stop||-200,this.stickyRange=this.start-this.stop,this.handleScroll=this.handleScroll.bind(this),document.body.addEventListener("oViewport.scroll",this.handleScroll)}return o(t,[{key:"destroy",value:function(){document.body.removeEventListener("oViewport.scroll",this.handleScroll)}},{key:"handleScroll",value:function(){if(this.offsetParent){var t=this.offsetParent.getBoundingClientRect().top,e=t<this.stop,n=t<this.start&&!e,r=void 0,o=void 0;n?(r="fixed",o=this.start+"px"):e&&(r="relative",o=this.stickyRange+"px"),this.element.style.position=r||"static",this.element.style.top=o||"auto"}}}]),t}();t.exports=a},function(t,e,n){"use strict";t.exports=function(t,e){if(!t||!e)return new Error("detectOverlap needs two elements");var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=function(t,e,n){return t>e&&t<n},i=o(n.bottom,r.top,r.bottom),a=o(n.left,r.left,r.right),s=o(n.top,r.top,r.bottom),l=o(n.right,r.left,r.right);return{top:i?n.bottom-r.top:null,right:a?r.right-n.left:null,bottom:s?r.bottom-n.top:null,left:l?n.right-r.left:null}}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}Object.defineProperty(e,"__esModule",{value:!0}),e.init=void 0;var o=n(15),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=(e.init=function(){var t=r(i.default.mark(function t(){var e,n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(document.querySelector(".event-promo")){t.next=2;break}throw new Error(".event-promo not found");case 2:return t.prev=2,t.next=5,(0,a.promoInit)(document);case 5:e=document.querySelector(".event-promo-inline")||null,n=e&&e.dataset.focusConcept?e.dataset.focusConcept:null,(0,s.broadcast)("oTracking.event",{category:"n-eventpromo",action:"shown",eventPromoId:n}),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(2),new Error("failed to initialise eventpromo");case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(){return t.apply(this,arguments)}}(),n(366)),s=n(3)},function(t,e,n){"use strict";t.exports={promoInit:n(367)}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}var o=n(15),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(){var t=r(i.default.mark(function t(e){var n,r,o,a,d;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.querySelector(".js-event-promo-data"),r=e.querySelector(".js-event-promo"),n&&r){t.next=4;break}throw new Error("no dom for eventpromo");case 4:if((o=JSON.parse(n.innerHTML))&&u(o)){t.next=7;break}throw new Error("no valid concept ids for eventpromo");case 7:return a=void 0,t.prev=8,t.next=11,s.getEventsFromApi(o);case 11:a=t.sent,t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(8),new Error("failed to fetch eventpromos");case 17:if(Array.isArray(a.eventpromos)&&a.eventpromos.length){t.next=19;break}throw new Error("no eventpromo match for this event");case 19:return d=l(a.eventpromos[0]),r.innerHTML=c(d),t.abrupt("return",!0);case 22:case"end":return t.stop()}},t,this,[[8,14]])}));return function(e){return t.apply(this,arguments)}}(),s=n(368),l=n(369),u=n(370),c=n(371);t.exports=a},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}var o=n(15),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=function(){var t=r(i.default.mark(function t(){var e,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e="/eventpromo/api/",n=void 0,t.prev=2,t.next=5,fetch(e,{body:JSON.stringify(o),headers:{accept:"application/json","content-type":"application/json"},method:"POST"});case 5:n=t.sent,t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(2),new Error("failed to fetch eventpromos from enventpromo-api");case 11:return t.prev=11,t.next=14,n.json();case 14:return r=t.sent,t.abrupt("return",r);case 18:throw t.prev=18,t.t1=t.catch(11),new Error("failed to parse response from enventpromo-api");case 21:case"end":return t.stop()}},t,this,[[2,8],[11,18]])}));return function(){return t.apply(this,arguments)}}();t.exports={getEventsFromApi:a}},function(t,e,n){"use strict";var r=n(19);t.exports=function(t){return{id:t.id,eventTitle:t.prefLabel,mainImage:encodeURI(t._imageUrl),eventStart:r.format(t.scheduledStartTime,"dd MMMM yyyy"),eventUrl:t.eventURL,eventLocation:t.location}}},function(t,e,n){"use strict";t.exports=function(t){var e=["focus","speakers"],n=t.conceptIds;if(n){var r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(l in n&&Array.isArray(n[l])&&n[l].length>0)return!0}}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}}return!1}},function(t,e,n){var r=n(2);t.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i,a=null!=e?e:t.nullContext||{},s=n.helperMissing,l="function",u=t.escapeExpression;return'<div class="event-promo-inline" data-event-focus="'+u((i=null!=(i=n.eventFocus||(null!=e?e.eventFocus:e))?i:s,typeof i===l?i.call(a,{name:"eventFocus",hash:{},data:o}):i))+'" data-focus-concept="'+u((i=null!=(i=n.id||(null!=e?e.id:e))?i:s,typeof i===l?i.call(a,{name:"id",hash:{},data:o}):i))+'">\n\t<div class="event-promo-inline__blocks">\n\t\t<div class="event-promo__title-block">\n\t\t\t<a href="'+u((i=null!=(i=n.eventUrl||(null!=e?e.eventUrl:e))?i:s,typeof i===l?i.call(a,{name:"eventUrl",hash:{},data:o}):i))+'" class="event-promo__title" data-trackable="event-promo">'+u((i=null!=(i=n.eventTitle||(null!=e?e.eventTitle:e))?i:s,typeof i===l?i.call(a,{name:"eventTitle",hash:{},data:o}):i))+'</a>\n\t\t\t<div class="event-promo__location">\n\t\t\t\t<span>'+u((i=null!=(i=n.eventLocation||(null!=e?e.eventLocation:e))?i:s,typeof i===l?i.call(a,{name:"eventLocation",hash:{},data:o}):i))+'</span> |\n\t\t\t\t<span class="event-promo__date">'+u((i=null!=(i=n.eventStart||(null!=e?e.eventStart:e))?i:s,typeof i===l?i.call(a,{name:"eventStart",hash:{},data:o}):i))+'</span>\n\t\t\t</div>\n\n\t\t</div>\n\n\t\t\t<div class="event-promo-inline__img-block">\n\t\t\t\t<a href="'+u((i=null!=(i=n.eventUrl||(null!=e?e.eventUrl:e))?i:s,typeof i===l?i.call(a,{name:"eventUrl",hash:{},data:o}):i))+'" data-trackable="event-promo">\n\t\t\t\t\t<img class="event-promo-inline__img"\n\t\t\t\t\tsrcset="https://www.ft.com/__origami/service/image/v2/images/raw/'+u((i=null!=(i=n.mainImage||(null!=e?e.mainImage:e))?i:s,typeof i===l?i.call(a,{name:"mainImage",hash:{},data:o}):i))+"?source=next&amp;fit=cover&amp;compression=best&amp;width=340 340w,\n\t\t\t\t\t\thttps://www.ft.com/__origami/service/image/v2/images/raw/"+u((i=null!=(i=n.mainImage||(null!=e?e.mainImage:e))?i:s,typeof i===l?i.call(a,{name:"mainImage",hash:{},data:o}):i))+'?source=next&amp;fit=cover&amp;compression=best&amp;width=740 740w"\n\t\t\t\t\t\talt="'+u((i=null!=(i=n.eventTitle||(null!=e?e.eventTitle:e))?i:s,typeof i===l?i.call(a,{name:"eventTitle",hash:{},data:o}):i))+'" data-n-image-lazy-load-js role="presentation" size:"(max-width: 46.24em) 100vw, 45vw">\n\t\t\t\t\t</a>\n\t\t\t</div>\n\n\t</div>\n\t<div class="event-promo-inline__blocks event-promo-inline__cta">\n\t\t<div  class="event-promo-inline__btn-block">\n\t\t\t<a href="'+u((i=null!=(i=n.eventUrl||(null!=e?e.eventUrl:e))?i:s,typeof i===l?i.call(a,{name:"eventUrl",hash:{},data:o}):i))+'" class="event-promo-inline__btn" data-trackable="event-promo">Register now</a>\n\t\t</div >\n\t\t<div class="event-promo-inline__brand">\n\t\t\t<span>Presented by</span>\n\t\t\t<span class="event-promo__visually-hidden">FT live</span>\n\t\t</div>\n\t</div>\n\n</div>\n'},useData:!0})},function(t,e,n){"use strict";var r=n(6),o=function(t){t.classList.add("instant-alert-cta--hidden")},i=function(t){r.add("user",null,"followed","concept",t.getAttribute("data-concept-id"),{_rel:{instant:!0}}).then(function(){t.setAttribute("disabled",""),t.innerHTML="Enabled"})};t.exports=function(){var t=document.querySelector(".instant-alert-cta__enable"),e=document.querySelector(".instant-alert-cta"),n=e.getAttribute("data-concept-id");document.body.addEventListener("myft.user.followed.concept.load",function(t){t.detail.items.find(function(t){return t.uuid===n&&t._rel.instant})||o(e)}),document.body.addEventListener("myft.user.preferred.preference.load",function(t){t.detail.items.find(function(t){return"email-digest"===t.uuid})&&o(e)}),document.body.addEventListener("myft.user.preferred.preference.load",function(t){t.detail.items.map(function(t){"email-digest"===t.uuid&&o(e)})}),t&&(t.onclick=function(){return i(t)})}},function(t,e,n){"use strict";var r=n(3),o=n(19),i=n(147),a=n(44).lazyLoad,s=n(374),l=n(379),u=n(401),c=function(){var t=document.querySelector(".article");return t&&t.getAttribute("data-content-id")},d=function(t,e){return e.mainImage&&t.mainImage?0:e.mainImage?1:-1};t.exports.init=function(t){function e(e){e.container&&(e.containerClass&&e.container.classList.add(e.containerClass),e.data.flags=t,e.container.innerHTML=e.template(e.data),o.init(e.container),e.isExpandable&&i.init(e.container))}return s(c(),t).then(function(t){if(!t)throw new Error("No response");e({container:document.querySelector(".js-article-ribbon"),containerClass:"onward-journey--ribbon",template:u,data:{title:t.ribbon.title,titleHref:t.ribbon.titleHref,items:t.ribbon.items.slice(0,4)}});var n={start:0,end:7};e({container:document.querySelector(".js-onward-journey-simple"),template:l,data:{title:t.onward.title||"Read next",items:t.onward.items.slice(n.start,n.end).sort(d)},isExpandable:!0}),a(),(0,r.broadcast)("asyncContentLoaded")}).catch(function(){return null})}},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}var o=n(15),i=function(t){return t&&t.__esModule?t:{default:t}}(o),a=n(375),s=n(77);t.exports=function(){var t=r(i.default.mark(function t(e,n){var r,o,l;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",Promise.reject("no article id"));case 2:if(r={slots:"onward,ribbon"},!n.get("lureMyFtRecommendations")){t.next=8;break}return t.next=6,s();case 6:o=t.sent,o&&(r.userId=o);case 8:return l="/lure/v2/content/"+e+"?"+a.stringify(r),t.abrupt("return",fetch(l,{credentials:"include"}).then(function(t){return t.json()}));case 10:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},function(t,e,n){"use strict";function r(t){switch(t.arrayFormat){case"index":return function(e,n,r){return null===n?[i(e,t),"[",r,"]"].join(""):[i(e,t),"[",i(r,t),"]=",i(n,t)].join("")};case"bracket":return function(e,n){return null===n?i(e,t):[i(e,t),"[]=",i(n,t)].join("")};default:return function(e,n){return null===n?i(e,t):[i(e,t),"=",i(n,t)].join("")}}}function o(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){if(e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),!e)return void(r[t]=n);void 0===r[t]&&(r[t]={}),r[t][e[1]]=n};case"bracket":return function(t,n,r){return e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0===r[t]?void(r[t]=[n]):void(r[t]=[].concat(r[t],n)):void(r[t]=n)};default:return function(t,e,n){if(void 0===n[t])return void(n[t]=e);n[t]=[].concat(n[t],e)}}}function i(t,e){return e.encode?e.strict?c(t):encodeURIComponent(t):t}function a(t){return Array.isArray(t)?t.sort():"object"===(void 0===t?"undefined":u(t))?a(Object.keys(t)).sort(function(t,e){return Number(t)-Number(e)}).map(function(e){return t[e]}):t}function s(t){var e=t.indexOf("?");return-1===e?"":t.slice(e+1)}function l(t,e){e=d({arrayFormat:"none"},e);var n=o(e),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^[?#&]/,""))?(t.split("&").forEach(function(t){var e=t.replace(/\+/g," ").split("="),o=e.shift(),i=e.length>0?e.join("="):void 0;i=void 0===i?null:f(i),n(f(o),i,r)}),Object.keys(r).sort().reduce(function(t,e){var n=r[e];return Boolean(n)&&"object"===(void 0===n?"undefined":u(n))&&!Array.isArray(n)?t[e]=a(n):t[e]=n,t},Object.create(null))):r}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=n(376),d=n(377),f=n(378);e.extract=s,e.parse=l,e.stringify=function(t,e){e=d({encode:!0,strict:!0,arrayFormat:"none"},e),!1===e.sort&&(e.sort=function(){});var n=r(e);return t?Object.keys(t).sort(e.sort).map(function(r){var o=t[r];if(void 0===o)return"";if(null===o)return i(r,e);if(Array.isArray(o)){var a=[];return o.slice().forEach(function(t){void 0!==t&&a.push(n(r,t,a.length))}),a.join("&")}return i(r,e)+"="+i(o,e)}).filter(function(t){return t.length>0}).join("&"):""},e.parseUrl=function(t,e){return{url:t.split("?")[0]||"",query:l(s(t),e)}}},function(t,e,n){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var o=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,l=r(t),u=1;u<arguments.length;u++){n=Object(arguments[u]);for(var c in n)i.call(n,c)&&(l[c]=n[c]);if(o){s=o(n);for(var d=0;d<s.length;d++)a.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(t,e,n){"use strict";function r(t,e){try{return decodeURIComponent(t.join(""))}catch(t){}if(1===t.length)return t;e=e||1;var n=t.slice(0,e),o=t.slice(e);return Array.prototype.concat.call([],r(n),r(o))}function o(t){try{return decodeURIComponent(t)}catch(o){for(var e=t.match(s),n=1;n<e.length;n++)t=r(e,n).join(""),e=t.match(s);return t}}function i(t){for(var e={"%FE%FF":"��","%FF%FE":"��"},n=l.exec(t);n;){try{e[n[0]]=decodeURIComponent(n[0])}catch(t){var r=o(n[0]);r!==n[0]&&(e[n[0]]=r)}n=l.exec(t)}e["%C2"]="�";for(var i=Object.keys(e),a=0;a<i.length;a++){var s=i[a];t=t.replace(new RegExp(s,"g"),e[s])}return t}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=new RegExp("%[a-f0-9]{2}","gi"),l=new RegExp("(%[a-f0-9]{2})+","gi");t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+(void 0===t?"undefined":a(t))+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return i(t)}}},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var o=n(2);t.exports=(o.default||o).template({1:function(t,e,o,i,a){var s,l=null!=e?e:t.nullContext||{};return'\t\t<li class="o-teaser-collection__item onward-journey__item" data-o-grid-colspan="12 M6 L3">\n'+(null!=(s=t.invokePartial(n(157),e,{name:"n-teaser/templates/lifestyle",hash:{widths:"[500, 332]",position:'{"default": "bottom"}',colspan:'{"default": 12, "L": 6}',mods:r(n(103)).call(l,"small","stacked",{name:"array",hash:{},data:a})},data:a,indent:"\t\t\t",helpers:o,partials:i,decorators:t.decorators}))?s:"")+"\t\t</li>\n"+(null!=(s=r(n(34)).call(l,a&&a.index,2,{name:"ifEquals",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?s:"")},2:function(t,e,n,r,o){return'\t\t\t\t<li class="native-ad__first o-teaser-collection__item onward-journey__item" data-o-grid-colspan="12 M6 L3"></li>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i;return'<div class="onward-journey__content o-grid-container" data-trackable="onward-journey | bottom">\n\t<h2 class="standalone-teaser-heading">'+t.escapeExpression(t.lambda(null!=e?e.title:e,e))+'</h2>\n\t<ul class="onward-journey__items o-teaser-collection o-grid-row o-expander__content">\n'+(null!=(i=n.each.call(null!=e?e:t.nullContext||{},null!=e?e.items:e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?i:"")+"\t</ul>\n</div>\n"},usePartial:!0,useData:!0})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(159),a=n(381),s=n(385),l=function(){function t(e){r(this,t),this.data=e}return o(t,[{key:"convertToJson",value:function(t){return"string"==typeof t?JSON.parse(t):t}},{key:"optionalClasses",value:function(t){return t?Array.isArray(t)?t.join(" "):t:""}},{key:"hideImage",value:function(t){return Object.keys(t).reduce(function(e,n){return"src"!==n&&"srcSet"!==n||(e["data-"+n.toLowerCase()]=t[n],t[n]=null),e},{})}},{key:"imageSource",value:function(){var t={},e=this.convertToJson(this.data.sizes)||this.imageSizes()||{},n=this.convertToJson(this.data.widths)||[],r=this.data.srcSet||this.data.url,o=this.data.sourceParam||"next";if(this.data.src||r)return this.data.src?{src:this.data.src,width:this.data.width,height:this.data.height}:(0===n.length&&console.warn("Widths must be provided if setting srcSet"),t.srcSet=n.sort(function(t,e){return e-t}).map(function(t){return a(r,{width:t,source:o})+" "+t+"w"}).join(", "),t.sizes=i.map(function(t){var n=e[t.name];return n?"default"===t.name?n:"(min-width: "+t.px+"px) "+n:null}).filter(function(t){return t}).join(", "),t);console.warn("No source for image provided")}},{key:"imageSizes",value:function(){var t=this.convertToJson(this.data.colspan)||{default:12},e=this.convertToJson(this.data.position)||{default:"top"};return s(t,e)}},{key:"ratio",get:function(){var t=this.placeholder;return"number"==typeof t&&(1===t?t="square":t===16/9&&(t="landscape")),t}},{key:"lazyLoad",get:function(){return this.data.lazyLoad}},{key:"placeholder",get:function(){return parseFloat(this.data.placeholder)?parseFloat(this.data.placeholder):this.data.placeholder}},{key:"wrapperAttrs",get:function(){var t="n-image-wrapper",e=void 0,n=void 0,r=this.ratio;return this.data.wrapperClasses&&(t+=" "+this.optionalClasses(this.data.wrapperClasses)),this.lazyLoad&&(t+=" n-image-wrapper--lazy-loading"),this.placeholder&&(t+=" n-image-wrapper--placeholder"),["square"].indexOf(r)>-1?t+=" n-image-wrapper--"+r+"-placeholder":"number"==typeof r&&(e={paddingBottom:1/r*100+"%"},n="padding-bottom:"+e.paddingBottom),{className:t,styleString:n,style:e}}},{key:"imgAttrs",get:function(){var t="n-image "+this.optionalClasses(this.data.classes),e={alt:this.data.alt||"",className:t};return e.alt||(e.role="presentation"),Object.assign(e,this.imageSource()),this.lazyLoad&&(Object.assign(e,this.hideImage(e)),e.className+=" n-image--lazy-loading"),e}}]),t}();t.exports=l},function(t,e,n){"use strict";var r=n(382),o=/^https?:\/\/(?:com\.ft\.imagepublish\.prod(?:-us)?\.s3\.amazonaws\.com|im\.ft-static\.com\/content\/images)\/([0-9a-f-]+)(?:\.img)?$/i;t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.host,a=void 0===i?"https://www.ft.com/__origami/service/image/v2/images/raw/":i;if(t.includes(a))return t;var s={source:"next",fit:"scale-down",compression:"best"},l=Object.assign({},s,e),u=(o.exec(t)||[])[1];return a+(u?"ftcms:"+u:encodeURIComponent(t))+"?"+r.stringify(l)}},function(t,e,n){"use strict";e.decode=e.parse=n(383),e.encode=e.stringify=n(384)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var u=t.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var d,f,p,h,m=t[c].replace(s,"%20"),v=m.indexOf(n);v>=0?(d=m.substr(0,v),f=m.substr(v+1)):(d=m,f=""),p=decodeURIComponent(d),h=decodeURIComponent(f),r(a,p)?o(a[p])?a[p].push(h):a[p]=[a[p],h]:a[p]=h}return a};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t){switch(void 0===t?"undefined":o(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,l){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===(void 0===t?"undefined":o(t))?r(s(t),function(o){var s=encodeURIComponent(i(o))+n;return a(t[o])?r(t[o],function(t){return s+encodeURIComponent(i(t))}).join(e):s+encodeURIComponent(i(t[o]))}).join(e):l?encodeURIComponent(i(l))+n+encodeURIComponent(i(t)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";var r=n(159),o=r.map(function(t){return t.name}).reverse(),i=function(t){var e=r.find(function(e){return e.name===t});return e?parseInt(e.px,10):null},a={default:20,M:32},s={default:20},l={top:1,bottom:1,left:.4,right:.5,"stream-list":.3},u={M:i("M"),L:i("L"),XL:i("XL")},c=function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=n/12,a=l[r];if(o){var s=((o-t)*i-e)*a;return Math.ceil(s)+"px"}return"calc("+100*i*a+"vw - "+(t*i+e)*a+"px)"};t.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,r=void 0,i=void 0,l=void 0,d=void 0,f=void 0,p=void 0;return o.reduce(function(o,s){r=a[s]||r,i=n[s]||i,l=t[s]||l,d=e[s]||d,f=u[s]||f;var h=c(r,i,l,d,f);return h!==p&&(p=o[s]=h),o},{})}},function(t,e,n){"use strict";var r=n(387);t.exports=function(t,e){try{return"string"!=typeof t&&(e=t,t="isoUtcDateTime"),"isoDateTime"===t||"isoUtcDateTime"===t?(t="isoUtcDateTime",r(e.fn(this),t,!0)):r(e.fn(this),t)}catch(t){return console.log(t),""}}},function(t,e,n){"use strict";var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(i){function a(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}function s(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate());e.setDate(e.getDate()-(e.getDay()+6)%7+3);var n=new Date(e.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=e.getTimezoneOffset()-n.getTimezoneOffset();e.setHours(e.getHours()-r);var o=(e-n)/6048e5;return 1+Math.floor(o)}function l(t){var e=t.getDay();return 0===e&&(e=7),e}function u(t){return null===t?"null":void 0===t?"undefined":"object"!==(void 0===t?"undefined":o(t))?void 0===t?"undefined":o(t):Array.isArray(t)?"array":{}.toString.call(t).slice(8,-1).toLowerCase()}var c=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,o,i,d){if(1!==arguments.length||"string"!==u(r)||/\d/.test(r)||(o=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");o=String(c.masks[o]||o||c.masks.default);var f=o.slice(0,4);"UTC:"!==f&&"GMT:"!==f||(o=o.slice(4),i=!0,"GMT:"===f&&(d=!0));var p=i?"getUTC":"get",h=r[p+"Date"](),m=r[p+"Day"](),v=r[p+"Month"](),g=r[p+"FullYear"](),y=r[p+"Hours"](),b=r[p+"Minutes"](),w=r[p+"Seconds"](),E=r[p+"Milliseconds"](),_=i?0:r.getTimezoneOffset(),x=s(r),k=l(r),T={d:h,dd:a(h),ddd:c.i18n.dayNames[m],dddd:c.i18n.dayNames[m+7],m:v+1,mm:a(v+1),mmm:c.i18n.monthNames[v],mmmm:c.i18n.monthNames[v+12],yy:String(g).slice(2),yyyy:g,h:y%12||12,hh:a(y%12||12),H:y,HH:a(y),M:b,MM:a(b),s:w,ss:a(w),l:a(E,3),L:a(Math.round(E/10)),t:y<12?"a":"p",tt:y<12?"am":"pm",T:y<12?"A":"P",TT:y<12?"AM":"PM",Z:d?"GMT":i?"UTC":(String(r).match(e)||[""]).pop().replace(n,""),o:(_>0?"-":"+")+a(100*Math.floor(Math.abs(_)/60)+Math.abs(_)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10],W:x,N:k};return o.replace(t,function(t){return t in T?T[t]:t.slice(1,t.length-1)})}}();c.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},c.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},void 0!==(r=function(){return c}.call(e,n,e,t))&&(t.exports=r)}()},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var o=n(2);t.exports=(o.default||o).template({1:function(t,e,n,r,o){var i;return null!=(i=n.with.call(null!=e?e:t.nullContext||{},(i=o&&o.nTeaserPresenter)&&i.headshot,{name:"with",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o}))?i:""},2:function(t,e,o,i,a){var s;return null!=(s=r(n(45)).call(null!=e?e:t.nullContext||{},{name:"nImagePresenter",hash:{lazyLoad:!0,widths:null!=e?e.widths:e,sizes:null!=e?e.sizes:e,height:null!=e?e.height:e,width:null!=e?e.width:e,srcSet:null!=e?e.url:e},fn:t.program(3,a,0),inverse:t.noop,data:a}))?s:""},3:function(t,e,n,r,o){var i;return"\n"+(null!=(i=n.with.call(null!=e?e:t.nullContext||{},null!=(i=null!=e?e.image:e)?i.imgAttrs:i,{name:"with",hash:{},fn:t.program(4,o,0),inverse:t.noop,data:o}))?i:"")},4:function(t,e,n,r,o){var i,a=null!=e?e:t.nullContext||{};return'\t\t\t\t\t<img\n\t\t\t\t\twidth="75px"\n\t\t\t\t\theight="75px"\n\t\t\t\t\talt=""\n\t\t\t\t\t'+(null!=(i=n.if.call(a,null!=e?e["data-srcset"]:e,{name:"if",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o}))?i:"")+"\n\t\t\t\t\t"+(null!=(i=n.if.call(a,null!=e?e.sizes:e,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.noop,data:o}))?i:"")+"\n\t\t\t\t\t"+(null!=(i=n.if.call(a,null!=e?e.role:e,{name:"if",hash:{},fn:t.program(9,o,0),inverse:t.noop,data:o}))?i:"")+'\n\t\t\t\t\tclass="o-teaser__headshot n-image--lazy-loading"/>\n'},5:function(t,e,n,r,o){return' data-srcset="'+t.escapeExpression(t.lambda(null!=e?e["data-srcset"]:e,e))+'"'},7:function(t,e,n,r,o){return' sizes="'+t.escapeExpression(t.lambda(null!=e?e.sizes:e,e))+'"'},9:function(t,e,n,r,o){return' role="'+t.escapeExpression(t.lambda(null!=e?e.role:e,e))+'"'},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i;return null!=(i=n.unless.call(null!=e?e:t.nullContext||{},null!=e?e.noHeadshot:e,{name:"unless",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?i:""},useData:!0})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(390),a=n(127),s=n(399),l=["light","standard","lifestyle"],u=["heavy","top-story-heavy","lifestyle"],c=["centre","has-image"],d={inprogress:{timestampStatus:"live",labelModifier:"live"},comingsoon:{timestampStatus:"coming soon",labelModifier:"pending"},closed:{timestampStatus:"",labelModifier:"closed"}},f=function(t,e){return"?source=next&width="+2*t+"&fit=scale-down&compression=best&tint="+e},p=function(t){var e=function(t){return t.status&&"inprogress"===t.status.toLowerCase()},n=t.containedIn&&t.containedIn.length&&t.containedIn[0].contains&&t.containedIn[0].contains.find(e),r=n&&t.id===t.containedIn[0].contains[0].id;return e(t)||r},h=function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).includes(t)},m=function(t){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).includes(t)},v=function(){function t(e){r(this,t),this.data=e||{};var n=["61d707b5-6fab-3541-b017-49b72de80772","9c2af23a-ee61-303f-97e8-2026fb031bd5","dc9332a7-453d-3b80-a53d-5a19579d9359","b3ecdf0e-68bb-3303-8773-ec9c05e80234","3094f0a9-1e1c-3ec3-b7e3-4d4885a826ed","b2fa15d1-56b4-3767-8bcd-595b23a5ff22"],o=["5c7592a8-1f0c-11e4-b0cb-b2227cce2b54"],i=this.data.genre||this.data.genreConcept;this.genreConcept=i&&n.includes(i.id)?i:void 0;var a=this.data.authors||this.data.authorConcepts||[];this.authorConcept=1===a.length&&a[0],this.brandConcept=this.data.brandConcept&&o.includes(this.data.brandConcept.id)?void 0:this.data.brandConcept}return o(t,[{key:"timeStatus",value:function(){var t=Date.now(),e=new Date(this.data.publishedDate).getTime(),n=new Date(this.data.firstPublishedDate).getTime(),r=null;return t-e<36e5&&(r=e===n?"new":"updated"),r}},{key:"isNewerThanFourHours",value:function(){return Date.now()-new Date(this.data.publishedDate).getTime()<144e5}},{key:"liveBlog",value:function(){return{publishedDate:this.data.updates&&Array.isArray(this.data.updates)&&this.data.updates[0]&&this.data.updates[0].date,status:d[this.data.status.toLowerCase()].timestampStatus,classModifier:this.data.status.toLowerCase(),isNewerThanFourHours:!0}}},{key:"dataDateFormat",get:function(){return this.data.dataDateFormat?this.data.dataDateFormat:"time-ago-limit-4-hours"}},{key:"isOpinion",get:function(){return this.data.isOpinion||this.data.genreConcept&&"6da31a37-691f-4908-896f-2829ebe2309e"===this.data.genreConcept.id}},{key:"isVideo",get:function(){return this.data.type&&"video"===this.data.type.toLowerCase()}},{key:"brandAuthorDouble",get:function(){return!(!this.authorConcept||!0!==this.isOpinion)}},{key:"classModifiers",get:function(){var t=[].concat(this.data.mods||[]);if(this.data.containedIn&&this.data.containedIn.length){var e=this.data.containedIn[0].design||{},n=e.theme;!n||"extra-wide"!==n&&"extra"!==n?this.data.isLandingPage||"special-report"!==n||t.push("highlight"):t.push("extra-article")}switch(!this.data.noHeadshot&&this.headshot&&l.includes(this.data.template)&&t.push("has-headshot"),this.data.size&&t.push(this.data.size),this.displayImage&&u.includes(this.data.template)&&t.push("has-image"),this.isOpinion&&m("hero-image",this.data.mods)&&t.push("opinion"),this.data.isEditorsChoice&&m("hero-image",this.data.mods)&&t.push("highlight"),this.isPlayableVideo&&(t.push("big-video"),c.forEach(function(e){var n=t.indexOf(e);n>-1&&t.splice(n,1)})),this.data.type&&t.push(s(this.data.type)),"LiveBlog"===this.data.type&&this.data.status&&"inprogress"===this.data.status.toLowerCase()&&t.push("live"),p(this.data)&&t.push("live"),this.data.canBeSyndicated){case"yes":t.push("syndicatable");break;case"no":t.push("not-syndicatable");break;case"verify":t.push("verify-syndicatable")}return t}},{key:"teaserConcept",get:function(){if(Array.isArray(this.data.annotations)&&this.data.flags&&this.data.flags.newDisplayMetadata){var t=i.teaser(this.data),e=t.link,n=t.altLink;if(this.data.streamProperties&&e){var r=this.data.streamProperties,o=r.id,a=r.prefLabel,s=o&&o===e.id,l=a&&a===e.prefLabel;if(s||l)return n}return e}var u=this.data.containedIn,c=this.data.displayConcept;return"special-report"===this.data.type?this.data.teaserConcept:u&&u[0]&&u[0].title?Object.assign(this,{prefLabel:u[0].title,relativeUrl:u[0].relativeUrl}):this.data.streamProperties&&this.data.streamProperties.id&&this.brandConcept&&this.data.streamProperties.id===this.brandConcept.id?c||null:this.authorConcept&&this.brandAuthorDouble&&(!this.data.streamProperties||this.data.streamProperties&&this.data.streamProperties.id!==this.authorConcept.id)?this.authorConcept:this.brandConcept||c||null}},{key:"genrePrefix",get:function(){var t=this.data.containedIn;if(t&&t[0]&&t[0].title&&t[0].brand)return t[0].brand.prefLabel;if("special-report"===this.data.type)return"Special Report";if(this.data.type&&"video"===this.data.type.toLowerCase())return"Video";if(Array.isArray(this.data.annotations)&&this.data.flags&&this.data.flags.newDisplayMetadata){var e=i.teaser(this.data),n=e.prefixText;return this.data.streamProperties&&this.data.streamProperties.prefLabel===n?void 0:n}return this.brandAuthorDouble&&this.brandConcept&&this.brandConcept.prefLabel!==this.authorConcept.prefLabel&&(!this.data.streamProperties||this.data.streamProperties&&this.data.streamProperties.id!==this.authorConcept.id)?this.brandConcept.prefLabel:this.genreConcept&&this.brandConcept!==this.teaserConcept?this.genreConcept&&"Special Report"===this.genreConcept.prefLabel&&this.data.streamProperties&&"http://www.ft.com/ontology/SpecialReport"===this.data.streamProperties.directType?null:this.genreConcept.prefLabel:null}},{key:"timeObject",get:function(){return this.data.status?this.liveBlog():{publishedDate:this.data.publishedDate,status:this.timeStatus(),skipPerfAbTesting:!this.data.flags||"calm"!==this.data.flags.perfJanky,isNewerThanFourHours:this.isNewerThanFourHours(),classModifier:this.timeStatus()}}},{key:"relatedContent",get:function(){var t=this,e=[];return Array.isArray(this.data.curatedRelatedContent)&&this.data.curatedRelatedContent.length>0?e=this.data.curatedRelatedContent:this.data.displayConcept&&Array.isArray(this.data.displayConcept.latestContent)&&(e=this.data.displayConcept.latestContent.filter(function(e){return e.id!==t.data.id})),e.slice(0,3).map(function(t){return{data:t,classModifiers:[s(t.type)]}})}},{key:"headshot",get:function(){var t=void 0;if(this.brandAuthorDouble&&this.authorConcept&&this.authorConcept.headshot&&(t=this.authorConcept.headshot.name),t){var e=this.data.headshotTint||"054593,d6d5d3";return{url:"https://www.ft.com/__origami/service/image/v2/images/raw/fthead:"+t+f(75,e),width:75,height:75,sizes:75,widths:[75,150]}}return null}},{key:"liveBlogLabelModifier",get:function(){return d[this.data.status.toLowerCase()].labelModifier}},{key:"displayTitle",get:function(){var t=this.data.alternativeTitles;if(this.data.flags&&this.data.flags.headlineTesting&&"variant2"===this.data.flags.headlineTesting&&t&&(t.promotionalTitleVariant||t.contentPackageTitle))return t.promotionalTitleVariant?t.promotionalTitleVariant:t.contentPackageTitle;if(this.data.flags&&this.data.flags.teaserUsePromotionalTitle){if(this.data.promotionalTitle)return this.data.promotionalTitle;if(this.data.alternativeTitles&&this.data.alternativeTitles.promotionalTitle)return this.data.alternativeTitles.promotionalTitle}return this.data.title}},{key:"displayStandfirst",get:function(){return this.data.standfirst||this.data.promotionalStandfirst}},{key:"displayImage",get:function(){return this.data.promotionalImage||this.data.mainImage}},{key:"headlineTestingVariant",get:function(){var t=this.data.alternativeTitles;return this.data.flags&&this.data.flags.headlineTesting&&t&&(t.promotionalTitleVariant||t.contentPackageTitle)?this.data.flags.headlineTesting:null}},{key:"isPlayableVideo",get:function(){var t="top-story-heavy"===this.data.template,e=h("big-story",this.data.mods),n="heavy"===this.data.template,r=h("large",this.data.mods)||h("hero",this.data.mods);return Boolean(!!this.data.enablePlayableVideo&&this.data.flags&&this.data.flags.insituVideoTeaser&&this.data.type&&"video"===this.data.type.toLowerCase()&&(t&&!e||n&&r))}},{key:"advertiserPrefix",get:function(){return this.data.advertiser?"promoted-content"===this.data.type?" paid for by ":" by ":""}},{key:"duration",get:function(){var t=void 0,e=void 0,n=void 0;this.data.duration&&this.data.formattedDuration?(t=new Date(this.data.duration),e=this.data.duration,n=this.data.formattedDuration):this.data.attachments&&(e=this.data.attachments.filter(function(t){return"video/mp4"===t.mediaType}).slice(0,1).map(function(t){return t.duration}).shift(),t=new Date(e),n=e?a(e,"m:ss"):void 0);var r={iso:t?"PT"+t.getMinutes()+"M"+t.getSeconds()+"S":void 0,ms:e,formatted:n};return n?r:null}}]),t}();t.exports=v},function(t,e,n){"use strict";e.teaser=n(391),e.utils=n(398)},function(t,e,n){"use strict";var r=n(392),o=n(394),i=n(395),a=n(396);t.exports=function(t){var e=i(t),n=a(t);return{flags:r(t),prefixText:o(t),link:e||n,altLink:e?n:null}}},function(t,e,n){"use strict";var r=n(35),o=n(47);t.exports=function(t){var e=t.annotations,n=void 0===e?[]:e,i=r.genre(n),a=r.author(n),s=o.isOpinion(i);return{isOpinion:s,isColumn:Boolean(s&&a)}}},function(t,e,n){"use strict";e.DisplayAsPrefix=new Set(["Analysis","Explainer","Interview","Q&A","Review"]),e.DisplayWithBrand=new Set(["Analysis","Explainer","Feature","Interview","Photo Story","Q&A","Review"])},function(t,e,n){"use strict";var r=n(47),o=n(35);t.exports=function(t){var e=t.annotations,n=void 0===e?[]:e,i=t.containedIn,a=void 0===i?[]:i,s=o.brand(n),l=o.genre(n);return r.isOpinion(l)?s&&s.prefLabel:r.isInPackage(a)?s&&s.prefLabel:r.isGenrePrefix(l)?l.prefLabel:void 0}},function(t,e,n){"use strict";var r=n(47),o=n(35);t.exports=function(t){var e=t.annotations,n=void 0===e?[]:e,i=t.containedIn,a=void 0===i?[]:i,s=o.brand(n),l=o.genre(n);if(r.isOpinion(l))return o.author(n);if(r.isInPackage(a)){var u=a[0];return{id:u.id,url:u.url,prefLabel:u.title||"Package title"}}return r.isGenreBranded(l)?s:void 0}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=n(35),a=n(397),s=function(t){var e=t.filter(function(t){return t.types.every(function(t){return!a.IgnoreTypes.has(t)})}),n=!0,i=!1,s=void 0;try{for(var l,u=a.PriorityOrder[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var c=l.value,d=o(c,2),f=d[0],p=d[1],h=function(t,n){var r=e.find(function(e){var r=e[n];return Array.isArray(r)?r.includes(t):r===t});if(r)return{v:r}}(f,p);if("object"===(void 0===h?"undefined":r(h)))return h.v}}catch(t){i=!0,s=t}finally{try{!n&&u.return&&u.return()}finally{if(i)throw s}}};t.exports=function(t){var e=t.annotations,n=void 0===e?[]:e,r=i.displayTag(n);return r||s(n)}},function(t,e,n){"use strict";var r=n(102),o=n(162);e.IgnoreTypes=new Set([r.Organisation,r.Person,r.Location,r.SpecialReport]),e.PriorityOrder=new Map([[o.About,"predicate"],[o.PrimarilyClassifiedBy,"predicate"],[r.Topic,"types"],[r.Section,"types"],[r.Brand,"types"],[o.ClassifiedBy,"predicate"]])},function(t,e,n){"use strict";e.assert=n(47),e.find=n(35)},function(t,e,n){"use strict";t.exports=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){r(this,t),this.data=e||{},this.data.isPremium=!1}return o(t,[{key:"classModifiers",get:function(){var t=this.data.mods||[],e=this.data.design?this.data.design.theme:"basic";return!e||"extra-wide"!==e&&"extra"!==e?e&&t.push(e+"-package"):t.push("extra-package"),"yes"===this.data.canBeSyndicated?t.push("syndicatable"):"no"===this.data.canBeSyndicated&&t.push("not-syndicatable"),t}},{key:"genrePrefix",get:function(){if(this.data.brandConcept&&("Special Report"===this.data.brandConcept.prefLabel||"FT Series"===this.data.brandConcept.prefLabel))return this.data.brandConcept.prefLabel}},{key:"packageContent",get:function(){var t=[];return Array.isArray(this.data.contains)&&this.data.contains.length>0&&(t=this.data.contains),t.slice(0,3)}},{key:"displayTitle",get:function(){return this.data.flags&&this.data.flags.teaserUsePromotionalTitle&&this.data.promotionalTitle?this.data.promotionalTitle:this.data.title}},{key:"displayStandfirst",get:function(){return this.data.standfirst||this.data.promotionalStandfirst}},{key:"displayImage",get:function(){return this.data.promotionalImage||this.data.mainImage}}]),t}();t.exports=i},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var o=n(2);t.exports=(o.default||o).template({1:function(t,e,n,r,o){var i,a=t.lambda;return'\t\t<h2 class="onward-journey__title">\n\t\t\t<a href="'+t.escapeExpression(a(null!=e?e.titleHref:e,e))+'" data-trackable="ribbon-title">'+(null!=(i=a(null!=e?e.title:e,e))?i:"")+"</a>\n\t\t</h2>\n"},3:function(t,e,n,r,o){return'\t\t<h2 class="onward-journey__title">'+t.escapeExpression(t.lambda(null!=e?e.title:e,e))+"</h2>\n"},5:function(t,e,o,i,a){var s;return'\t\t<li class="o-teaser-collection__item onward-journey__item" data-o-grid-colspan="0 M4 L3">\n'+(null!=(s=t.invokePartial(n(163),e,{name:"n-teaser/templates/heavy",hash:{noTag:!0,widths:"[500, 332]",position:'{"default": "left"}',colspan:'{"default": 0, "XL": 3}',mods:r(n(103)).call(null!=e?e:t.nullContext||{},"small",{name:"array",hash:{},data:a})},data:a,indent:"\t\t\t",helpers:o,partials:i,decorators:t.decorators}))?s:"")+"\t\t</li>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i,a=null!=e?e:t.nullContext||{};return'<div class="o-grid-container" data-trackable="onward-journey | top-ribbon">\n'+(null!=(i=n.if.call(a,null!=e?e.titleHref:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(3,o,0),data:o}))?i:"")+'\t<ul class="onward-journey__items o-teaser-collection o-grid-row o-expander__content">\n'+(null!=(i=n.each.call(a,null!=e?e.items:e,{name:"each",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o}))?i:"")+"\t</ul>\n</div>\n"},usePartial:!0,useData:!0})},function(t,e,n){var r=n(2);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i;return'\t<p class="o-teaser__standfirst">'+(null!=(i=t.lambda((i=o&&o.nTeaserPresenter)&&i.displayStandfirst,e))?i:"")+"</p>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i;return null!=(i=n.if.call(null!=e?e:t.nullContext||{},(i=o&&o.nTeaserPresenter)&&i.displayStandfirst,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?i:""},useData:!0})},function(t,e,n){var r=n(2);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i;return'\t<div class="o-teaser__action">\n\t\t'+(null!=(i=t.lambda(e,e))?i:"")+"\n\t</div>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i,a,s,l="";return a=null!=(a=n.actions||(null!=e?e.actions:e))?a:n.helperMissing,s={name:"actions",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o},i="function"==typeof a?a.call(null!=e?e:t.nullContext||{},s):a,n.actions||(i=n.blockHelperMissing.call(e,i,s)),null!=i&&(l+=i),l},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var o=n(2);t.exports=(o.default||o).template({1:function(t,e,r,o,i){var a;return null!=(a=t.invokePartial(n(160),e,{name:"n-image/templates/image",data:i,indent:"\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(t,e,o,i,a){var s,l=t.lambda;return'<div class="o-teaser__image-container js-teaser-image-container">\n\t<div\n\t\tclass="o-video n-ui-hide-core"\n\t\tdata-o-component="o-video"\n\t\tdata-o-video-id="'+t.escapeExpression(l(null!=e?e.id:e,e))+'"\n\t\tdata-o-video-playsinline="true"\n\t\tdata-o-video-placeholder="true"\n\t\tdata-o-video-placeholder-info="[]"\n\t\tdata-o-video-placeholder-hint="Play video">\n\t</div>\n\t<a class="n-ui-hide-enhanced" href="'+(null!=(s=l(null!=e?e.relativeUrl:e,e))?s:"")+(null!=(s=l(null!=e?e.referrerTracking:e,e))?s:"")+'" data-trackable="image" aria-hidden="true" tabindex="-1">\n'+(null!=(s=r(n(45)).call(null!=e?e:t.nullContext||{},{name:"nImagePresenter",hash:{sourceParam:null!=(s=null!=e?e.mainImage:e)?s.sourceParam:s,classes:"o-teaser__image",wrapperClasses:"o-teaser__image-placeholder",lazyLoad:null!=e?e.lazyLoad:e,widths:null!=e?e.widths:e,position:null!=e?e.position:e,colspan:null!=e?e.colspan:e,placeholder:null!=(s=null!=e?e.mainImage:e)?s.ratio:s,srcSet:null!=(s=null!=e?e.mainImage:e)?s.url:s},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:"")+"\t</a>\n</div>\n"},usePartial:!0,useData:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){var r=document.querySelector(t);r&&(r.innerHTML=e,r.classList.remove("hidden"),n&&r.classList.add(n),p.default.init(r))}function i(t,e,n){return Object.assign({},t,{authors:null,brand:null,brandConcept:null,containedIn:[],genre:null,displayConcept:{prefLabel:e,relativeUrl:n}})}function a(){return window.location.hash.includes("#myft:notification:daily-email:content")}function s(){return localStorage&&"yes"===localStorage.getItem("showMyFtDigestJourney")}function l(){return localStorage&&localStorage.setItem("showMyFtDigestJourney","yes")}function u(t){var e=new CustomEvent("oTracking.event",{detail:t,bubbles:!0});document.body.dispatchEvent(e)}Object.defineProperty(e,"__esModule",{value:!0});var c=n(15),d=r(c),f=n(19),p=r(f),h=n(44),m=n(406),v=r(m),g=n(77),y=n(411),b=n(413),w=n(414);e.default=function(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}(d.default.mark(function t(){var e,n,r,c,f,p,m,E,_,x,k,T,S,C,L,A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M=A.onNothingToRender;return d.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=a(),e&&l(),s()){t.next=5;break}return t.abrupt("return",M());case 5:return t.next=7,g();case 7:if(n=t.sent){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,(0,v.default)(n);case 12:if(r=t.sent,c=r.user.digest,f=document.querySelector("article[data-content-id]").getAttribute("data-content-id"),!((p=c.articles.findIndex(function(t){return t.id===f}))<0)){t.next=19;break}return M(),t.abrupt("return");case 19:m=p+1,E=c.articles[m],_="daily"===c.type?"Daily":"Weekly",x={digestType:_},k={currentArticleNumber:p+1,totalDigestArticles:c.articles.length},T=void 0,S=void 0,E?(C={nextLink:E.relativeUrl,nextLinkTitle:"Your next digest article: "+E.title},T=Object.assign({},x,k,C,{items:c.articles.slice(m,m+3)}),S=Object.assign({},x,C,{item:i(E,"Up next in your "+_+" Digest",E.relativeUrl)})):(L={nextLink:"/myft/"+n},T=Object.assign({},x,k,L),S=Object.assign({},x,L)),o(".js-article-ribbon",y(T),"digest-journey-ribbon"),o(".digest-journey-tail-container",b(S)),e&&w.init(),u({category:"digest-journey",action:"render"}),(0,h.lazyLoad)(),t.next=37;break;case 34:throw t.prev=34,t.t0=t.catch(0),t.t0;case 37:case"end":return t.stop()}},t,void 0,[[0,34]])})),t.exports=e.default},function(t,e,n){"use strict";var r=n(17),o=r.json,i=n(407),a=n(408),s=a.fragments,l=function(t){return encodeURIComponent(t.replace(/\s+/g," "))},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,n=function(t){return Promise.reject(new Error("myFT Digest data: "+t+" is not provided"))};return e?e.user?e.user.digest?!e.user.digest.concepts||0===e.user.digest.concepts.length||e.user.digest.concepts.every(function(t){return!t.articles||!t.articles.length})?n("data.user.digest.concepts"):e:n("data.user.digest"):n("data.user"):n("data")},c=function(t){return t.user.digest.articles=t.user.digest.concepts.reduce(function(t,e){return t.concat(e.articles)},[]),t},d=function(t){return(t.user.articlesFromReadingHistory?t.user.articlesFromReadingHistory.articles:[]).forEach(function(e){var n=t.user.digest.articles.find(function(t){return t.id===e.id});n&&(n.hasBeenRead=!0)}),t},f=function(t){var e="\n\t\t"+s.teaserExtraLight+"\n\t\t"+s.teaserLight+"\n\t\t"+s.teaserStandard+"\n\t\t"+s.teaserHeavy+"\n\n\t\tquery MyFT($uuid: String!) {\n\t\t\t\tuser(uuid: $uuid) {\n\t\t\t\t\tarticlesFromReadingHistory {\n\t\t\t\t\t\tarticles {\n\t\t\t\t\t\t\t...TeaserExtraLight\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdigest {\n\t\t\t\t\t\ttype\n\t\t\t\t\t\tpublishedDate\n\t\t\t\t\t\tconcepts {\n\t\t\t\t\t\t\tid\n\t\t\t\t\t\t\tprefLabel\n\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\tarticles {\n\t\t\t\t\t\t\t\t...TeaserExtraLight\n\t\t\t\t\t\t\t\t...TeaserLight\n\t\t\t\t\t\t\t\t...TeaserStandard\n\t\t\t\t\t\t\t\t...TeaserHeavy\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t",n={uuid:t},r="https://next-api.ft.com/v2/query?query="+l(e)+"&variables="+JSON.stringify(n)+"&source=next-front-page-myft",i={credentials:"include",timeout:5e3};return fetch(r,i).then(o).then(u).then(c).then(d)},p=void 0;t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return p&&!e||(p=f(t)),p.then(i)}},function(t,e,n){"use strict";(function(t,n){function r(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function i(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););return t}function a(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function s(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function l(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function u(t,e){return null==t?void 0:t[e]}function c(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function d(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function f(t,e){return function(n){return t(e(n))}}function p(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function h(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function m(){this.__data__=Ne?Ne(null):{}}function v(t){return this.has(t)&&delete this.__data__[t]}function g(t){var e=this.__data__;if(Ne){var n=e[t];return n===Mt?void 0:n}return ye.call(e,t)?e[t]:void 0}function y(t){var e=this.__data__;return Ne?void 0!==e[t]:ye.call(e,t)}function b(t,e){return this.__data__[t]=Ne&&void 0===e?Mt:e,this}function w(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function E(){this.__data__=[]}function _(t){var e=this.__data__,n=q(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ce.call(e,n,1),!0)}function x(t){var e=this.__data__,n=q(e,t);return n<0?void 0:e[n][1]}function k(t){return q(this.__data__,t)>-1}function T(t,e){var n=this.__data__,r=q(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}function S(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function C(){this.__data__={hash:new h,map:new(Pe||w),string:new h}}function L(t){return at(this,t).delete(t)}function A(t){return at(this,t).get(t)}function M(t){return at(this,t).has(t)}function O(t,e){return at(this,t).set(t,e),this}function P(t){this.__data__=new w(t)}function I(){this.__data__=new w}function D(t){return this.__data__.delete(t)}function j(t){return this.__data__.get(t)}function N(t){return this.__data__.has(t)}function H(t,e){var n=this.__data__;if(n instanceof w){var r=n.__data__;if(!Pe||r.length<At-1)return r.push([t,e]),this;n=this.__data__=new S(r)}return n.set(t,e),this}function F(t,e){var n=Ve(t)||yt(t)?l(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!ye.call(t,i)||o&&("length"==i||dt(i,r))||n.push(i);return n}function U(t,e,n){var r=t[e];ye.call(t,e)&&gt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function q(t,e){for(var n=t.length;n--;)if(gt(t[n][0],e))return n;return-1}function R(t,e){return t&&rt(e,Tt(e),t)}function B(t,e,n,r,o,a,s){var l;if(r&&(l=a?r(t,o,a,s):r(t)),void 0!==l)return l;if(!xt(t))return t;var u=Ve(t);if(u){if(l=lt(t),!e)return nt(t,l)}else{var d=Ye(t),f=d==jt||d==Nt;if(Ge(t))return J(t,e);if(d==Ut||d==Pt||f&&!a){if(c(t))return a?t:{};if(l=ut(f?{}:t),!e)return ot(t,R(l,t))}else{if(!ie[d])return a?t:{};l=ct(t,d,B,e)}}s||(s=new P);var p=s.get(t);if(p)return p;if(s.set(t,l),!u)var h=n?it(t):Tt(t);return i(h||t,function(o,i){h&&(i=o,o=t[i]),U(l,i,B(o,e,n,r,i,t,s))}),l}function W(t){return xt(t)?Te(t):{}}function z(t,e,n){var r=e(t);return Ve(t)?r:a(r,n(t))}function Y(t){return be.call(t)}function V(t){return!(!xt(t)||pt(t))&&(Et(t)||c(t)?we:re).test(mt(t))}function G(t){if(!ht(t))return Me(t);var e=[];for(var n in Object(t))ye.call(t,n)&&"constructor"!=n&&e.push(n);return e}function J(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function $(t){var e=new t.constructor(t.byteLength);return new xe(e).set(new xe(t)),e}function X(t,e){var n=e?$(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Q(t,e,n){return s(e?n(d(t),!0):d(t),r,new t.constructor)}function Z(t){var e=new t.constructor(t.source,ne.exec(t));return e.lastIndex=t.lastIndex,e}function K(t,e,n){return s(e?n(p(t),!0):p(t),o,new t.constructor)}function tt(t){return We?Object(We.call(t)):{}}function et(t,e){var n=e?$(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function nt(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function rt(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],s=r?r(n[a],t[a],a,n,t):void 0;U(n,a,void 0===s?t[a]:s)}return n}function ot(t,e){return rt(t,ze(t),e)}function it(t){return z(t,Tt,ze)}function at(t,e){var n=t.__data__;return ft(e)?n["string"==typeof e?"string":"hash"]:n.map}function st(t,e){var n=u(t,e);return V(n)?n:void 0}function lt(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&ye.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ut(t){return"function"!=typeof t.constructor||ht(t)?{}:W(ke(t))}function ct(t,e,n,r){var o=t.constructor;switch(e){case zt:return $(t);case It:case Dt:return new o(+t);case Yt:return X(t,r);case Vt:case Gt:case Jt:case $t:case Xt:case Qt:case Zt:case Kt:case te:return et(t,r);case Ht:return Q(t,r,n);case Ft:case Bt:return new o(t);case qt:return Z(t);case Rt:return K(t,r,n);case Wt:return tt(t)}}function dt(t,e){return!!(e=null==e?Ot:e)&&("number"==typeof t||oe.test(t))&&t>-1&&t%1==0&&t<e}function ft(t){var e=void 0===t?"undefined":Lt(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function pt(t){return!!ve&&ve in t}function ht(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||he)}function mt(t){if(null!=t){try{return ge.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function vt(t){return B(t,!0,!0)}function gt(t,e){return t===e||t!==t&&e!==e}function yt(t){return wt(t)&&ye.call(t,"callee")&&(!Se.call(t,"callee")||be.call(t)==Pt)}function bt(t){return null!=t&&_t(t.length)&&!Et(t)}function wt(t){return kt(t)&&bt(t)}function Et(t){var e=xt(t)?be.call(t):"";return e==jt||e==Nt}function _t(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ot}function xt(t){var e=void 0===t?"undefined":Lt(t);return!!t&&("object"==e||"function"==e)}function kt(t){return!!t&&"object"==(void 0===t?"undefined":Lt(t))}function Tt(t){return bt(t)?F(t):G(t)}function St(){return[]}function Ct(){return!1}var Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At=200,Mt="__lodash_hash_undefined__",Ot=9007199254740991,Pt="[object Arguments]",It="[object Boolean]",Dt="[object Date]",jt="[object Function]",Nt="[object GeneratorFunction]",Ht="[object Map]",Ft="[object Number]",Ut="[object Object]",qt="[object RegExp]",Rt="[object Set]",Bt="[object String]",Wt="[object Symbol]",zt="[object ArrayBuffer]",Yt="[object DataView]",Vt="[object Float32Array]",Gt="[object Float64Array]",Jt="[object Int8Array]",$t="[object Int16Array]",Xt="[object Int32Array]",Qt="[object Uint8Array]",Zt="[object Uint8ClampedArray]",Kt="[object Uint16Array]",te="[object Uint32Array]",ee=/[\\^$.*+?()[\]{}|]/g,ne=/\w*$/,re=/^\[object .+?Constructor\]$/,oe=/^(?:0|[1-9]\d*)$/,ie={};ie[Pt]=ie["[object Array]"]=ie[zt]=ie[Yt]=ie[It]=ie[Dt]=ie[Vt]=ie[Gt]=ie[Jt]=ie[$t]=ie[Xt]=ie[Ht]=ie[Ft]=ie[Ut]=ie[qt]=ie[Rt]=ie[Bt]=ie[Wt]=ie[Qt]=ie[Zt]=ie[Kt]=ie[te]=!0,ie["[object Error]"]=ie[jt]=ie["[object WeakMap]"]=!1;var ae="object"==(void 0===t?"undefined":Lt(t))&&t&&t.Object===Object&&t,se="object"==("undefined"==typeof self?"undefined":Lt(self))&&self&&self.Object===Object&&self,le=ae||se||Function("return this")(),ue="object"==Lt(e)&&e&&!e.nodeType&&e,ce=ue&&"object"==Lt(n)&&n&&!n.nodeType&&n,de=ce&&ce.exports===ue,fe=Array.prototype,pe=Function.prototype,he=Object.prototype,me=le["__core-js_shared__"],ve=function(){var t=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ge=pe.toString,ye=he.hasOwnProperty,be=he.toString,we=RegExp("^"+ge.call(ye).replace(ee,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ee=de?le.Buffer:void 0,_e=le.Symbol,xe=le.Uint8Array,ke=f(Object.getPrototypeOf,Object),Te=Object.create,Se=he.propertyIsEnumerable,Ce=fe.splice,Le=Object.getOwnPropertySymbols,Ae=Ee?Ee.isBuffer:void 0,Me=f(Object.keys,Object),Oe=st(le,"DataView"),Pe=st(le,"Map"),Ie=st(le,"Promise"),De=st(le,"Set"),je=st(le,"WeakMap"),Ne=st(Object,"create"),He=mt(Oe),Fe=mt(Pe),Ue=mt(Ie),qe=mt(De),Re=mt(je),Be=_e?_e.prototype:void 0,We=Be?Be.valueOf:void 0;h.prototype.clear=m,h.prototype.delete=v,h.prototype.get=g,h.prototype.has=y,h.prototype.set=b,w.prototype.clear=E,w.prototype.delete=_,w.prototype.get=x,w.prototype.has=k,w.prototype.set=T,S.prototype.clear=C,S.prototype.delete=L,S.prototype.get=A,S.prototype.has=M,S.prototype.set=O,P.prototype.clear=I,P.prototype.delete=D,P.prototype.get=j,P.prototype.has=N,P.prototype.set=H;var ze=Le?f(Le,Object):St,Ye=Y;(Oe&&Ye(new Oe(new ArrayBuffer(1)))!=Yt||Pe&&Ye(new Pe)!=Ht||Ie&&"[object Promise]"!=Ye(Ie.resolve())||De&&Ye(new De)!=Rt||je&&"[object WeakMap]"!=Ye(new je))&&(Ye=function(t){var e=be.call(t),n=e==Ut?t.constructor:void 0,r=n?mt(n):void 0;if(r)switch(r){case He:return Yt;case Fe:return Ht;case Ue:return"[object Promise]";case qe:return Rt;case Re:return"[object WeakMap]"}return e});var Ve=Array.isArray,Ge=Ae||Ct;n.exports=vt}).call(e,n(155),n(151)(t))},function(t,e,n){"use strict";t.exports={fragments:n(409),presenter:n(46),esQuery:n(410)}},function(t,e,n){"use strict";t.exports={liveBlog:"\n\t\tfragment LiveBlogInfo on LiveBlog {\n\t\t\tstatus\n\t\t\tupdates(limit: 1) {\n\t\t\t\tdate\n\t\t\t\ttext\n\t\t\t}\n\t\t}\n\t",teaserExtraLight:"\n\t\tfragment TeaserExtraLight on Content {\n\t\t\ttype: __typename\n\t\t\tid\n\t\t\tisPremium\n\t\t\trelativeUrl\n\t\t\ttitle\n\t\t\tpromotionalTitle\n\t\t\talternativeTitles {\n\t\t\t\tcontentPackageTitle\n\t\t\t\tpromotionalTitleVariant\n\t\t\t}\n\t\t\tpublishedDate\n\t\t\tfirstPublishedDate\n\t\t\tisEditorsChoice\n\t\t\tcanBeSyndicated\n\t\t\tisOpinion\n\t\t\tannotations {\n\t\t\t\tid\n\t\t\t\ttypes\n\t\t\t\tpredicate\n\t\t\t\tprefLabel\n\t\t\t\trelativeUrl\n\t\t\t}\n\t\t\tgenre {\n\t\t\t\tid\n\t\t\t\tprefLabel\n\t\t\t}\n\t\t\tbrand {\n\t\t\t\tprefLabel\n\t\t\t\trelativeUrl\n\t\t\t\tdirectType\n\t\t\t\tid\n\t\t\t}\n\t\t\tbrandConcept {\n\t\t\t\tprefLabel\n\t\t\t\trelativeUrl\n\t\t\t\tdirectType\n\t\t\t\tid\n\t\t\t}\n\t\t\tauthors {\n\t\t\t\tprefLabel\n\t\t\t\trelativeUrl\n\t\t\t\tid\n\t\t\t\theadshot {\n\t\t\t\t\tname\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t",teaserLight:'\n\t\tfragment TeaserLight on Content {\n\t\t\tid\n\t\t\tdisplayConcept {\n\t\t\t\tprefLabel\n\t\t\t\trelativeUrl\n\t\t\t}\n\t\t\t...on Video {\n\t\t\t\tduration\n\t\t\t\tformattedDuration(format: "m:ss")\n\t\t\t}\n\t\t}\n\t',teaserLifestyle:"\n\t\tfragment TeaserLifestyle on Content {\n\t\t\tmainImage {\n\t\t\t\ttitle\n\t\t\t\tdescription\n\t\t\t\turl\n\t\t\t\twidth\n\t\t\t\theight\n\t\t\t\tratio\n\t\t\t}\n\t\t\tpromotionalImage {\n\t\t\t\ttitle\n\t\t\t\tdescription\n\t\t\t\turl\n\t\t\t\twidth\n\t\t\t\theight\n\t\t\t\tratio\n\t\t\t}\n\t\t}\n\t",teaserStandard:"\n\t\tfragment TeaserStandard on Content {\n\t\t\tstandfirst\n\t\t\tpromotionalStandfirst\n\t\t}\n\t",teaserHeavy:"\n\t\tfragment TeaserHeavy on Content {\n\t\t\tcontainedIn(limit: 1) {\n\t\t\t\ttitle\n\t\t\t\trelativeUrl\n\t\t\t\t...on Package {\n\t\t\t\t\tdesign {\n\t\t\t\t\t\ttheme\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbrand {\n\t\t\t\t\tprefLabel\n\t\t\t\t\trelativeUrl\n\t\t\t\t}\n\t\t\t}\n\t\t\tmainImage {\n\t\t\t\ttitle\n\t\t\t\tdescription\n\t\t\t\turl\n\t\t\t\twidth\n\t\t\t\theight\n\t\t\t\tratio\n\t\t\t}\n\t\t\tpromotionalImage {\n\t\t\t\ttitle\n\t\t\t\tdescription\n\t\t\t\turl\n\t\t\t\twidth\n\t\t\t\theight\n\t\t\t\tratio\n\t\t\t}\n\t\t}\n\t",teaserTopStory:"\n\t\tfragment TeaserTopStory on Content {\n\t\t\tcuratedRelatedContent(limit: 3) {\n\t\t\t\ttype: __typename\n\t\t\t\trelativeUrl\n\t\t\t\tisPremium\n\t\t\t\ttitle\n\t\t\t\tpromotionalTitle\n\t\t\t}\n\t\t\tdisplayConcept {\n\t\t\t\tlatestContent(limit: 4) {\n\t\t\t\t\ttype: __typename\n\t\t\t\t\trelativeUrl\n\t\t\t\t\tisPremium\n\t\t\t\t\ttitle\n\t\t\t\t\tpromotionalTitle\n\t\t\t\t\tid\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t",packageTeaser:"\n\t\tfragment PackageTeaser on Package {\n\t\t\tdesign {\n\t\t\t\ttheme\n\t\t\t}\n\t\t}\n\t",packageTeaserList:"\n\t\tfragment PackageTeaserList on Package {\n\t\t\tcontains(limit: 3) {\n\t\t\t\ttitle\n\t\t\t\tpromotionalTitle\n\t\t\t\trelativeUrl\n\t\t\t}\n\t\t}\n\t",livePackageSplash:"\n\t\tfragment LivePackageSplash on Content {\n\t\t\t...on Package {\n\t\t\t\tcontains(limit: 10) {\n\t\t\t\t\tid\n\t\t\t\t\t...on LiveBlog {\n\t\t\t\t\t\tstatus\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t"}},function(t,e,n){"use strict";t.exports=["id","relativeUrl","title","alternativeTitles.promotionalTitle","publishedDate","firstPublishedDate","isEditorsChoice","accessLevel","canBeSyndicated","type","mainImage.title","mainImage.description","mainImage.url","mainImage.width","mainImage.height","mainImage.ratio","annotations","displayConcept.id","displayConcept.prefLabel","displayConcept.relativeUrl","displayConcept.directType","brandConcept.id","brandConcept.prefLabel","brandConcept.relativeUrl","brandConcept.directType","authorConcepts.id","authorConcepts.prefLabel","authorConcepts.relativeUrl","authorConcepts.directType","genreConcept.id","genreConcept.prefLabel","genreConcept.relativeUrl","genreConcept.directType"]},function(t,e,n){var r=n(2);t.exports=(r.default||r).template({1:function(t,e,n,r,o){var i;return'\t\t<div class="digest-journey-ribbon__items">\n'+(null!=(i=n.each.call(null!=e?e:t.nullContext||{},null!=e?e.items:e,{name:"each",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o}))?i:"")+"\t\t</div>\n"},2:function(t,e,r,o,i){var a;return'\t\t\t<div class="digest-journey-ribbon__item">\n'+(null!=(a=t.invokePartial(n(412),e,{name:"n-teaser/templates/extra-light",hash:{dataDateFormat:"time-ago-abbreviated-limit-4-hours"},data:i,indent:"\t\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:"")+"\t\t\t</div>\n"},4:function(t,e,n,r,o){return'\t\t\t<div class="digest-journey-ribbon__complete">\n\t\t\t\tYou’re all caught up!\n\t\t\t</div>\n'},6:function(t,e,n,r,o){var i;return'\t<div class="digest-journey-ribbon__next-link">\n\t\t<a href="'+t.escapeExpression(t.lambda(null!=e?e.nextLink:e,e))+'"'+(null!=(i=n.if.call(null!=e?e:t.nullContext||{},null!=e?e.nextLinkTitle:e,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.noop,data:o}))?i:"")+">Next digest article</a>\n\t</div>\n"},7:function(t,e,n,r,o){return' title="'+t.escapeExpression(t.lambda(null!=e?e.nextLinkTitle:e,e))+'"'},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i,a=t.lambda,s=t.escapeExpression,l=null!=e?e:t.nullContext||{};return'<div class="digest-journey-ribbon__container" data-trackable="digest-journey-ribbon">\n\t<div class="digest-journey-ribbon__title">\n\t\t<span>'+s(a(null!=e?e.digestType:e,e))+" Digest "+s(a(null!=e?e.currentArticleNumber:e,e))+"/"+s(a(null!=e?e.totalDigestArticles:e,e))+'</span>\n\t\t<strong>Up next</strong>\n\t</div>\n\t<div class="digest-journey-ribbon__content">\n'+(null!=(i=n.if.call(l,null!=e?e.items:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(4,o,0),data:o}))?i:"")+"\t</div>\n"+(null!=(i=n.if.call(l,null!=e?e.nextLink:e,{name:"if",hash:{},fn:t.program(6,o,0),inverse:t.noop,data:o}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var o=n(2);t.exports=(o.default||o).template({1:function(t,e,o,i,a){var s,l=null!=e?e:t.nullContext||{};return'\t<div class="o-teaser'+(null!=(s=o.each.call(l,(s=a&&a.nTeaserPresenter)&&s.classModifiers,{name:"each",hash:{},fn:t.program(2,a,0),inverse:t.noop,data:a}))?s:"")+'" data-o-component="o-teaser" data-trackable="teaser"'+(null!=(s=o.if.call(l,null!=e?e.originator:e,{name:"if",hash:{},fn:t.program(4,a,0),inverse:t.noop,data:a}))?s:"")+'>\n\t\t<div class="o-teaser__content">\n\n'+(null!=(s=r(n(161)).call(l,null!=e?e.isOpinion:e,null!=e?e.brand:e,null!=e?e.brandConcept:e,{name:"ifSome",hash:{},fn:t.program(6,a,0),inverse:t.noop,data:a}))?s:"")+"\n"+(null!=(s=t.invokePartial(n(100),e,{name:"n-teaser/templates/partials/title",data:a,indent:"\t\t\t",helpers:o,partials:i,decorators:t.decorators}))?s:"")+"\n"+(null!=(s=t.invokePartial(n(101),e,{name:"n-teaser/templates/partials/timestamp",data:a,indent:"\t\t\t",helpers:o,partials:i,decorators:t.decorators}))?s:"")+"\n\t\t</div>\n\t</div>\n"},2:function(t,e,n,r,o){return" o-teaser--"+t.escapeExpression(t.lambda(e,e))},4:function(t,e,n,r,o){return' data-trackable-context-originator="'+t.escapeExpression(t.lambda(null!=e?e.originator:e,e))+'"'},6:function(t,e,r,o,i){var a;return null!=(a=t.invokePartial(n(99),e,{name:"n-teaser/templates/partials/display-concept",data:i,indent:"\t\t\t\t",helpers:r,partials:o,decorators:t.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(t,e,o,i,a){var s;return null!=(s=r(n(46)).call(null!=e?e:t.nullContext||{},e,{name:"nTeaserPresenter",hash:{flags:(s=a&&a.root)&&s.flags,mods:null!=e?e.mods:e,template:"extra-light"},fn:t.program(1,a,0),inverse:t.noop,data:a}))?s:""},usePartial:!0,useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t.default:t)}var o=n(2);t.exports=(o.default||o).template({1:function(t,e,n,r,o){var i;return null!=(i=n.with.call(null!=e?e:t.nullContext||{},null!=e?e.item:e,{name:"with",hash:{},fn:t.program(2,o,0),inverse:t.noop,data:o}))?i:""},2:function(t,e,o,i,a){var s;return null!=(s=t.invokePartial(n(157),e,{name:"n-teaser/templates/lifestyle",hash:{widths:"[150, 210]",mods:r(n(103)).call(null!=e?e:t.nullContext||{},"small",{name:"array",hash:{},data:a})},data:a,indent:"\t\t\t",helpers:o,partials:i,decorators:t.decorators}))?s:""},4:function(t,e,n,r,o){return'\t\t<div class="digest-journey-tail__complete">\n\t\t\t<p>myFT Digest Complete!</p>\n\t\t\t<p><a href="'+t.escapeExpression(t.lambda(null!=e?e.nextLink:e,e))+'">Visit your myFT feed for more news</a></p>\n\t\t</div>\n'},6:function(t,e,n,r,o){var i;return'\t<div class="digest-journey-tail__next-link">\n\t\t<a href="'+t.escapeExpression(t.lambda(null!=e?e.nextLink:e,e))+'"'+(null!=(i=n.if.call(null!=e?e:t.nullContext||{},null!=e?e.nextLinkTitle:e,{name:"if",hash:{},fn:t.program(7,o,0),inverse:t.noop,data:o}))?i:"")+">Next digest article</a>\n\t</div>\n"},7:function(t,e,n,r,o){return' title="'+t.escapeExpression(t.lambda(null!=e?e.nextLinkTitle:e,e))+'"'},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,o){var i,a=null!=e?e:t.nullContext||{};return'<div data-trackable="digest-journey-tail">\n'+(null!=(i=n.if.call(a,null!=e?e.item:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.program(4,o,0),data:o}))?i:"")+(null!=(i=n.if.call(a,null!=e?e.nextLink:e,{name:"if",hash:{},fn:t.program(6,o,0),inverse:t.noop,data:o}))?i:"")+"</div>\n"},usePartial:!0,useData:!0})},function(t,e,n){"use strict";function r(){var t=["default","S","M"].includes(o.getCurrentLayout())?".js-article-ribbon":".digest-journey-ribbon__title",e=document.querySelector(t);new i(e,{target:"tooltip-target-imperative",content:"Welcome to your myFT Daily Digest. Continue reading the stories from your email here on FT.com",showOnConstruction:!0,position:"below"})}Object.defineProperty(e,"__esModule",{value:!0}),e.init=r;var o=n(26),i=n(25)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var i=n(3),a=n(75),s=r(a),l=n(416),u=r(l),c=n(417),d=r(c),f=n(153),p=r(f);e.init=function(t){(0,u.default)(t),(0,i.$$)("#site-content [data-o-component=o-share][data-o-share-article]:not([data-o-share--js])").forEach(function(t){new s.default(t);var e=(0,i.$$)('[data-layout-width="full-grid"],.topper--full-bleed-offset');(0,d.default)(t,e)}),[].concat(o(document.querySelectorAll(".js-gift-article"))).forEach(function(t){t.addEventListener("click",function(){(0,p.default)()})})}},function(t,e,n){"use strict";var r=n(98),o=r.getTitle,i=r.getStandfirst,a=function(){return new Promise(function(t){var e=document.querySelectorAll("[data-share]");e&&e.forEach(function(t){t.remove()}),t()})},s=function(){return new Promise(function(t){document.querySelectorAll('[data-toolbar="share"]').forEach(function(t){t.innerHTML='<li data-share="web-share-api" class="o-share__action o-share__action--share"><button class="o-share__action--icon">Share</button></li>'+t.innerHTML}),t()})},l=function(){document.querySelectorAll('[data-share="web-share-api"]').forEach(function(t){t.addEventListener("click",function(){navigator.share({title:o(),text:i(),url:""})})})};t.exports=function(t){navigator.share&&t.webShareApi&&a().then(s()).then(l())}},function(t,e,n){"use strict";t.exports=function(t,e){var n=null,r=[],o=void 0,i=function(t){t.forEach(function(t){t.isIntersecting?r[t.target.getAttribute("data-overlap-observed")]=t.target:delete r[t.target.getAttribute("data-overlap-observed")]});var e=r.length?"addEventListener":"removeEventListener";window[e]("scroll",a,!1)},a=function(){n&&window.cancelAnimationFrame(n),n=requestAnimationFrame(l)},s=function e(){r.length?requestAnimationFrame(l):t.classList.add("data-overlap-visible"),window.removeEventListener("scroll",e)},l=function(){Object.keys(r).find(function(e){var n=u(r[e]),o=n?"remove":"add";return t.classList[o]("data-overlap-visible"),n}),n=null},u=function(e){var n=o?Math.abs(o-window.scrollY):0,r=n<400?80:n/5;o=window.scrollY;var i=t.getBoundingClientRect(),a=e.getBoundingClientRect();return 0===i.height||!(i.right<a.left||i.left>a.right||i.bottom+r<a.top||i.top-r>a.bottom)};if(t.classList.remove("hide-share-toolbar"),e.some(u))return void t.parentElement.setAttribute("data-inline-share",!0);e.length&&(!function(){var t={root:null,rootMargin:"0px",threshold:0},n=new IntersectionObserver(i,t);e.forEach(function(t,e){n.observe(t),t.setAttribute("data-overlap-observed",e)})}(),window.addEventListener("scroll",s),t.classList.add("data-overlap-initialised"))}},function(t,e,n){"use strict";function r(t,e){var n=e.id?""+e.id:e.advertiser.split(" ").join("-").toLowerCase();t.dataset.trackable="type-"+e.type+" | id-"+n,e.colspan='{"default": 12, "L": 6}',e.position='{"default": "embedded"}',e.widths="[500, 332]",e.mods=[e.type,"small","stacked"],t.innerHTML=a(e),[].concat(e.impressionURL).forEach(function(t){document.createElement("IMG").src=t}),s.lazyLoad({root:t}),l.init(t),c("oTracking.event",{action:"native-render",category:"ads",native_ad_type:e.type,native_ad_id:n})}function o(t,e,n,o){var a=document.documentElement.getAttribute("data-content-id"),s="ft.com/content/"+a,l=void 0;return o&&(d=["paid-post"]),i(t,s,d).then(function(t){if(t&&t.title){if(o){l=o;return document.querySelector(".h2-promoted-content").style="display:block",r(l,t),!0}var i=document.querySelector(".native-ad__first");if("promoted-content"===t.type||"smartmatch"===t.type){l=n;document.querySelector(".h2-promoted-content").style="display:block"}else l=e,t.standfirst=!1;i.textContent||r(l,t)}})}var i=n(164),a=n(163),s=n(44),l=n(19),u=n(3),c=u.broadcast,d=[];t.exports=function(t){if(t.get("nativeAds")&&t.get("nativeAdsArticle")){var e=document.querySelector(".native-ad__first"),n=document.querySelector(".native-ad__fullwidth"),r=document.querySelector(".native-ad__package");if(!e)return;var i=window.oAds;if(i&&i.isInitialised)return o(i,e,n,r);document.addEventListener("oAds.initialised",function(t){return o(t.detail,e,n,r)})}}},function(t,e,n){"use strict";var r=n(420);t.exports=function(t,e){var n=r(),o=t.targeting.get();e&&(o.ftpb=1),o.url=window&&window.location;var i=Object.keys(o).map(function(t){return t+"="+encodeURIComponent(o[t])}).join("&");return"https://securepubads.g.doubleclick.net/gampad/ads?gdfp_req=1&correlator="+n+"&output=json_html&impl=fif&sc=1&sfv=1-0-4&iu=%2F5887%2F"+(t.config("gpt").site?t.config("gpt").network+"/"+t.config("gpt").site+"/"+t.config("gpt").zone:"5887/ft.com/home/UK").replace(/\/?5887\//,"")+"&sz=320x50&fluid=height&scp="+encodeURIComponent("pos=native")+"&d_imp=1&ga_sid="+(new Date).getTime()+"&cust_params="+encodeURIComponent(i)}},function(t,e,n){"use strict";t.exports=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16;return((new Date).getTime()+""+function(t){return parseInt(Math.random()*Math.pow(10,t),10)}(16)+Math.random().toString(34).slice(2)).toString().substr(0,t)}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var e="object"===(void 0===t?"undefined":r(t))?t:new Function("return "+t)(),n=e?Object.keys(e):[],o=n.length?n[0]:null;if(!o)return null;var i=e[o]._html_;if(!(i&&i.length&&i.indexOf("----------")>=0))return null;try{var a=i.split("----------")[1],s=JSON.parse(a.replace(/\n/g,""));return s.id=e[o]._creative_ids_[0],s.lineItemId=e[o]._adgroup2_ids_[0],s}catch(t){return null}}},function(t,e,n){"use strict";t.exports=function(t,e){return!e||t&&t.length>0&&-1===t.indexOf(e.type)?null:e}},function(t,e,n){"use strict";var r=n(424),o=n(425),i=n(165),a=n(426),s=void 0;t.exports=function(t,e,l,u,c){var d=r();if(s=n(164),"smartmatch"===c.type){var f=o(t,c,e,d);return i(f).then(a.bind(null,c,d)).catch(function(){return s(l,e,u,!0)})}return Promise.resolve(c)}},function(t,e,n){"use strict";t.exports=function(){return function(){for(var t="",e=0;e<48;e++){t+=(16*Math.random()|0).toString(16)}return t}()+"-"+(new Date).getTime()}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){var o=encodeURIComponent(encodeURIComponent(n)),i=t.split("/"),a=i[i.length-1];return(e.smartmatchHost||"https://c.smartology.co")+"/static/creative/"+e.creativeID+"/key/"+e.smartmatchKey+"/pcid/"+o+"/sct="+encodeURIComponent(a)+";encode=false;?cacheBuster="+r}},function(t,e,n){"use strict";t.exports=function(t,e,n){if((n="string"==typeof n?n&&JSON.parse(n):n)&&n.type&&n.title)return n.impressionURL&&t.impressionURL&&(n.impressionURL=[].concat(n.impressionURL,t.impressionURL),n.impressionURL=n.impressionURL.map(function(t){return t.replace(/UNKNOWN_CACHE_BUSTER/g,e)})),t.clickTrackingPrefix&&(n.url=t.clickTrackingPrefix+n.url.replace(/UNKNOWN_CACHE_BUSTER/g,e)),n;throw"No smartmatch results"}},function(t,e,n){"use strict";t.exports=function(t){return t&&t.title&&t.type?(t.type="smartmatch"===t.type?"promoted-content":t.type,t.advertiser&&(t.promotedByPrefix="paid-post"===t.type?"Paid Post":"Promoted content"),t.standfirst||(t.standfirst=t.summary,delete t.summary),!t.mainImage&&t.image&&(t.mainImage=t.image,delete t.image),t.relativeUrl||(t.relativeUrl=t.url,delete t.url),t.publishedDate||(t.publishedDate=t.lastPublished,delete t.lastPublished),t.initialPublishedDate||(t.initialPublishedDate=t.published,delete t.published),!t.teaserConcept&&t.tag&&(t.teaserConcept={prefLabel:t.tag.name,relativeUrl:t.tag.url},delete t.tag),t.mainImage&&!t.mainImage.url&&delete t.mainImage,t):null}},function(t,e,n){"use strict";var r=n(429),o=n(3),i=o.broadcast;t.exports=function(t){function e(t,e){document.body.dispatchEvent(new CustomEvent("oTracking.event",{detail:{action:""+t,category:"ftlabs-audio",contentID:p,duration:parseInt(v.duration),progress:e,voice:S},bubbles:!0}))}function n(){var t=document.querySelector(".ftlabsaudioplayercontrols .control__play"),n=document.querySelector(".ftlabsaudioplayercontrols .control__pause");if(void 0!==v.provider){var r=document.createElement("p"),i="Curio.io"===v.provider?'<a href="https://www.curio.io">Curio.io</a>':v.provider;r.innerHTML="Powered by "+i,r.classList.add("caption__provider"),m.append(r)}t.addEventListener("click",function(){t.disabled=!0,n.disabled=!1,n.focus(),v.play()}),n.addEventListener("click",function(){t.disabled=!1,n.disabled=!0,t.focus(),v.pause()}),v.addEventListener("ended",function(){n.click()}),g.addEventListener("keydown",function(t){switch(t.keyCode){case 37:v.currentTime>w?v.currentTime-=w:v.currentTime=0;break;case 39:v.currentTime<v.duration-w?v.currentTime+=w:v.currentTime=v.duration}}),v.addEventListener("loadedmetadata",function(){var t=document.querySelector(".ftlabsaudioplayercontrols .audio-time-text__total");g.setAttribute("aria-valuemax",v.duration),g.setAttribute("aria-valuetext","00:00 of "+o(v.duration)),t.textContent=o(v.duration)}),v.addEventListener("timeupdate",function(){var t=document.querySelector(".ftlabsaudioplayercontrols .audio-time-text__current");g.setAttribute("aria-valuetext",o(v.currentTime)+" of "+o(v.duration)),u(v.currentTime),t.textContent=o(v.currentTime);var n=s();l(n)&&n!==E&&(e("progress",n),E=n)}),g.addEventListener("click",function(t){_||(v.currentTime=a(t.offsetX))}),g.addEventListener(x,c),document.addEventListener(T,function(){_=!1,document.body.style.userSelect="initial",document.removeEventListener(k,d)}),f()||(g.addEventListener("mouseenter",function(){b.style.transform="scale(1,1)"}),g.addEventListener("mouseleave",function(){_||(b.style.transform="scale(0,0)")})),window.addEventListener("resize",function(){window.innerWidth<601&&u()})}function o(t){var e=Math.floor(t),n=Math.floor(e/60);return n=n>=10?n:"0"+n,e=Math.floor(e%60),e=e>=10?e:"0"+e,n+":"+e}function a(t){return(t/g.clientWidth).toFixed(2)*v.duration}function s(){return parseInt(100*v.currentTime/v.duration,10)}function l(t){return[10,25,50,75,100].includes(t)}function u(){var t=v.currentTime/v.duration;y.style.transform="scaleX("+t+")",b.style.left=t*g.clientWidth-8+"px"}function c(t){return _=!0,document.body.style.userSelect="none",document.addEventListener(k,d),d(t),!1}function d(t){var e=g.offsetWidth,n=g.getBoundingClientRect().left,r=void 0===t.pageX?t.touches[0].pageX:t.pageX;_&&r>=n&&r<=n+e&&(v.currentTime=a(r-n))}function f(){return"ontouchstart"in window||"onmsgesturechange"in window}var p=document.querySelector("article").getAttribute("data-content-id"),h=document.querySelector(".ftlabsaudioplayerholder"),m=document.querySelector(".ftlabsaudiocontainer"),v=document.querySelector("audio.ftlabs-audio-player"),g=document.querySelector(".ftlabsaudioplayercontrols .audio-time-progress"),y=document.querySelector(".ftlabsaudioplayercontrols .audio-time-progress__fill"),b=document.querySelector(".ftlabsaudioplayercontrols .audio-time-progress__scrub"),w=5,E=0,_=!1,x=f()?"touchstart":"mousedown",k=f()?"touchmove":"mousemove",T=f()?"touchend":"mouseup",S=void 0;return null!==v?fetch("https://audio-available.ft.com/check/"+p).then(function(t){if(t.ok)return t;throw t}).then(function(t){return t.json()}).then(function(o){!0===o.haveFile&&(S=o.ishuman?"human":"generated",h.classList.add("ftlabsaudioplayerholder--"+S),("generated"===S&&"variant"===t.generatedAudioPlayer||"human"===S&&t.ftlabsAudioPlayer)&&(v.addEventListener("play",function(){e("playing",s())},!1),v.addEventListener("pause",function(){e("pause",s())},!1),v.addEventListener("seeked",function(){e("seek",s())},!1),v.addEventListener("ended",function(){e("ended",100)},!1),v.src=o.url,v.provider=o.provider_name,i("oTracking.event",{category:"audio-player",action:"shown"}),v.canPlayType("audio/mpeg;codecs=mp3")&&(h.classList.remove("ftlabsaudioplayerholder--inactive"),n(),new r("ftlabs-audio-pronunciation"))))}):Promise.resolve()}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){return{question:t.getAttribute("data-question"),answer:document.querySelector(t.getAttribute("data-answer-selector")).value}}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(3),s=n(25),l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.options=n,this.featureName=e,this.tooltip=null;var o=document.querySelector("."+e+"-feedback");o&&(this.elements={container:o,trigger:o.querySelector(".js-"+e+"-feedback__trigger")},this.tooltip=new s(this.elements.trigger,{target:this.featureName+"-feedback-target",content:o.querySelector(".js-feedback__content").innerHTML,toggleOnClick:!0,position:"below"}),this.elements.form=o.querySelector(".feedback-form"),this.elements.thankyou=o.querySelector(".feedback__thankyou"),this.elements.textarea=o.querySelector(".feedback__input"),this.elements.tooltipContent=this.tooltip.tooltipEl.querySelector(".o-tooltip-content"),this.addTooltipSubmitListener(),this.addTooltipClosedListener(),this.addListeners())}return i(t,[{key:"addListeners",value:function(){var t=this;this.elements.trigger.addEventListener("click",function(e){e.preventDefault(),t.options.onClick&&t.options.onClick(t.featureName)})}},{key:"addTooltipClosedListener",value:function(){var t=this;this.tooltip.tooltipEl.addEventListener("transitionend",function(){!1===t.tooltip.visible&&(t.elements.thankyou.classList.add("hidden-content"),t.elements.form.classList.remove("hidden-content"),t.elements.textarea.value="",clearTimeout(t.autoCloseTooltip))})}},{key:"addTooltipSubmitListener",value:function(){var t=this,e=this.elements.container.querySelector(".js-feedback__responder");e.addEventListener("click",function(){(0,a.broadcast)("oTracking.event",Object.assign({category:t.featureName,action:"pronunciation-feedback"},o(e))),t.elements.form.classList.add("hidden-content"),t.elements.thankyou.classList.remove("hidden-content"),t.autoCloseTooltip=setTimeout(function(){t.tooltip.close()},2e3)})}},{key:"closeTooltip",value:function(){this.tooltip&&this.tooltip.close()}}]),t}();t.exports=l},function(t,e,n){"use strict";function r(t,e,n){f(t)?(t.clipboardData.setData("text/html",e),t.clipboardData.setData("text/plain",n)):window.clipboardData.setData("Text",n),t.preventDefault()}function o(t){return c+' <br> <a href="'+location.href+'">'+location.href+"</a><br><br> "+t}function i(t){return"\n\t"+u+"\n\t"+location.href+"\n\n\t"+t+"\n"}function a(t){if(d(t)){var e=p();if(h(e)>30){var n=i(e);r(t,o(e),n)}}}function s(t){t.keyCode===v&&(m=!0,setTimeout(function(){m=!1},1e4))}function l(t){m||a(t),m=!1}var u="Please use the sharing tools found via the email icon at the top of articles. Copying articles to share with others is a breach of FT.com T&Cs and Copyright Policy. Email licensing@ft.com to buy additional rights. Subscribers may share up to 10 or 20 articles per month using the gift article service. More information can be found at https://www.ft.com/tour.",c='Please use the sharing tools found via the email icon at the top of articles. Copying articles to share with others is a breach of\n<a href="https://www.ft.com">FT.com</a> <a href="https://help.ft.com/help/legal-privacy/terms-conditions/">T&Cs</a> and <a href="https://help.ft.com/help/legal-privacy/copyright/copyright-policy/">Copyright Policy</a>. Email <a href="mailto:licensing@ft.com">licensing@ft.com</a> to buy additional rights. Subscribers may share up to 10 or 20 articles per month using the gift article service. More information can be <a href="https://www.ft.com/tour">found here</a>.',d=function(t){return t.clipboardData||window.clipboardData},f=function(t){return!(!t.clipboardData||!t.clipboardData.setData)},p=function(){return window.getSelection().toString()},h=function(t){return t.split(/\s+/).length},m=!1,v=18;t.exports=function(){document.body.addEventListener("keydown",s),document.body.addEventListener("copy",l)}},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t){var e=[].concat(r(document.querySelectorAll("[data-package-expander]"))),n=t&&t.except;return n?e.filter(function(t){return t!==n}):e}function i(t){t.addEventListener("oExpander.expand",function(t){o({except:t.target}).forEach(a)}),t.addEventListener("oExpander.collapse",function(t){o({except:t.target}).forEach(s)})}function a(t){l(t,"expanded")}function s(t){l(t,"collapsed")}function l(t,e){var n=t.querySelector(".o-expander__toggle"),r=t.querySelector(".o-expander__content");n.setAttribute("aria-expanded","collapsed"===e?"false":"true"),r.setAttribute("aria-hidden","collapsed"===e?"true":"false")}var u=n(44),c=u.lazyLoad;e.init=function(){var t=document.querySelector(".package__nav--top"),e=document.querySelector("[data-o-header--sticky]");if(t&&e){e.innerHTML=t.outerHTML;var n=e.querySelectorAll("button"),a=e.querySelectorAll("a");Array.from(n).forEach(function(t){t.tabIndex=-1}),Array.from(a).forEach(function(t){t.tabIndex=-1}),[].concat(r(e.querySelectorAll("[data-n-image-lazy-load-js]"))).forEach(function(t){t.removeAttribute("data-n-image-lazy-load-js")}),c()}o().forEach(i)}},function(t,e,n){"use strict";var r=n(3),o=[{selector:'[data-image-type="graphic"]',name:"graphic"}];t.exports=function(){function t(t){var e=this;t.forEach(function(t){(t.isIntersecting||t.intersectionRatio>0)&&((0,r.broadcast)("oTracking.event",{action:"view",category:"component",context:{component:t.target.getAttribute("data-component-name")}}),e.unobserve(t.target))})}if(!window.IntersectionObserver)return!1;var e=new IntersectionObserver(t,{threshold:[1]});o.forEach(function(t){Array.from(document.querySelectorAll(t.selector)).forEach(function(n){n.setAttribute("data-component-name",t.name),e.observe(n)})})}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=t.getAttribute("data-answer");return t.getAttribute("data-answer-selector")&&(e=document.querySelector(t.getAttribute("data-answer-selector")).value),{question:t.getAttribute("data-question"),answer:e}}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(3),s=n(25),l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,t),this.featureName=e,this.options=n,this.page=0,this.finished=!1,this.tooltip=null;var o=document.querySelector("."+e+"-feedback");o&&(this.elements={container:o,trigger:o.querySelector(".js-"+e+"-feedback__trigger"),pages:Array.from(o.querySelectorAll("[data-feedback-stage]"))},this.tooltip=new s(this.elements.trigger,{target:this.featureName+"-feedback-target",content:this.getPageContent(),toggleOnClick:!0,position:"below"}),this.elements.tooltipContent=this.tooltip.tooltipEl.querySelector(".o-tooltip-content"),this.addTooltipListeners(),this.addTooltipClosedListener(),this.addListeners())}return i(t,[{key:"getPageContent",value:function(){return this.elements.pages[this.page].innerHTML}},{key:"addTooltipListeners",value:function(){var t=this;this.elements.container.querySelectorAll(".js-feedback__responder").forEach(function(e){e.addEventListener("click",function(){(0,a.broadcast)("oTracking.event",Object.assign({category:t.featureName,action:"feedback"},o(e))),t.nextPageOrDone()})})}},{key:"nextPageOrDone",value:function(){this.page+=1,this.page>this.elements.pages.length-1?(this.finished=!0,this.elements.container.classList.add("feedback--complete"),this.tooltip.close()):(this.elements.tooltipContent.innerHTML=this.getPageContent(),this.tooltip.drawTooltip(),this.addTooltipListeners())}},{key:"addListeners",value:function(){var t=this;this.elements.trigger.addEventListener("click",function(e){e.preventDefault(),t.options.onClick&&t.options.onClick(t.featureName)})}},{key:"addTooltipClosedListener",value:function(){var t=this;this.tooltip.tooltipEl.addEventListener("oTooltip.close",function(){t.page=0,t.elements.tooltipContent.innerHTML=t.getPageContent(),t.addTooltipListeners()})}},{key:"closeTooltip",value:function(){this.tooltip&&this.tooltip.close()}}]),t}();t.exports=l}]);
//# sourceMappingURL=main.js.map